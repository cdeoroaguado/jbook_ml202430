

<!DOCTYPE html>


<html lang="en" >

  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="generator" content="Docutils 0.17.1: http://docutils.sourceforge.net/" />

    <title>Módulo 2: Estructuración y manipulación de datos con Python &#8212; Ciencia de datos aplicada a la banca</title>
  
  
  
  <script data-cfasync="false">
    document.documentElement.dataset.mode = localStorage.getItem("mode") || "";
    document.documentElement.dataset.theme = localStorage.getItem("theme") || "light";
  </script>
  
  <!-- Loaded before other Sphinx assets -->
  <link href="_static/styles/theme.css?digest=e353d410970836974a52" rel="stylesheet" />
<link href="_static/styles/bootstrap.css?digest=e353d410970836974a52" rel="stylesheet" />
<link href="_static/styles/pydata-sphinx-theme.css?digest=e353d410970836974a52" rel="stylesheet" />

  
  <link href="_static/vendor/fontawesome/6.1.2/css/all.min.css?digest=e353d410970836974a52" rel="stylesheet" />
  <link rel="preload" as="font" type="font/woff2" crossorigin href="_static/vendor/fontawesome/6.1.2/webfonts/fa-solid-900.woff2" />
<link rel="preload" as="font" type="font/woff2" crossorigin href="_static/vendor/fontawesome/6.1.2/webfonts/fa-brands-400.woff2" />
<link rel="preload" as="font" type="font/woff2" crossorigin href="_static/vendor/fontawesome/6.1.2/webfonts/fa-regular-400.woff2" />

    <link rel="stylesheet" type="text/css" href="_static/pygments.css" />
    <link rel="stylesheet" href="_static/styles/sphinx-book-theme.css?digest=14f4ca6b54d191a8c7657f6c759bf11a5fb86285" type="text/css" />
    <link rel="stylesheet" type="text/css" href="_static/togglebutton.css" />
    <link rel="stylesheet" type="text/css" href="_static/copybutton.css" />
    <link rel="stylesheet" type="text/css" href="_static/mystnb.4510f1fc1dee50b3e5859aac5469c37c29e427902b24a333a5f9fcb2f0b3ac41.css" />
    <link rel="stylesheet" type="text/css" href="_static/sphinx-thebe.css" />
    <link rel="stylesheet" type="text/css" href="_static/proof.css" />
    <link rel="stylesheet" type="text/css" href="_static/custom.css" />
    <link rel="stylesheet" type="text/css" href="_static/design-style.4045f2051d55cab465a707391d5b2007.min.css" />
  
  <!-- Pre-loaded scripts that we'll load fully later -->
  <link rel="preload" as="script" href="_static/scripts/bootstrap.js?digest=e353d410970836974a52" />
<link rel="preload" as="script" href="_static/scripts/pydata-sphinx-theme.js?digest=e353d410970836974a52" />

    <script data-url_root="./" id="documentation_options" src="_static/documentation_options.js"></script>
    <script src="_static/jquery.js"></script>
    <script src="_static/underscore.js"></script>
    <script src="_static/_sphinx_javascript_frameworks_compat.js"></script>
    <script src="_static/doctools.js"></script>
    <script src="_static/clipboard.min.js"></script>
    <script src="_static/copybutton.js"></script>
    <script src="_static/scripts/sphinx-book-theme.js?digest=5a5c038af52cf7bc1a1ec88eea08e6366ee68824"></script>
    <script>let toggleHintShow = 'Click to show';</script>
    <script>let toggleHintHide = 'Click to hide';</script>
    <script>let toggleOpenOnPrint = 'true';</script>
    <script src="_static/togglebutton.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.4/require.min.js"></script>
    <script>var togglebuttonSelector = '.toggle, .admonition.dropdown';</script>
    <script src="_static/design-tabs.js"></script>
    <script>const THEBE_JS_URL = "https://unpkg.com/thebe@0.8.2/lib/index.js"
const thebe_selector = ".thebe,.cell"
const thebe_selector_input = "pre"
const thebe_selector_output = ".output, .cell_output"
</script>
    <script async="async" src="_static/sphinx-thebe.js"></script>
    <script>DOCUMENTATION_OPTIONS.pagename = 'modulo_2';</script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="Modulo 3: Análisis exploratorio de datos de la banca" href="modulo_3.html" />
    <link rel="prev" title="Módulo 1: Introducción a la ciencia de datos con Python" href="modulo_1.html" />
  <meta name="viewport" content="width=device-width, initial-scale=1"/>
  <meta name="docsearch:language" content="en"/>
  </head>
  
  
  <body data-bs-spy="scroll" data-bs-target=".bd-toc-nav" data-offset="180" data-bs-root-margin="0px 0px -60%" data-default-mode="">

  
  
  <a class="skip-link" href="#main-content">Skip to main content</a>
  
  <input type="checkbox"
          class="sidebar-toggle"
          name="__primary"
          id="__primary"/>
  <label class="overlay overlay-primary" for="__primary"></label>
  
  <input type="checkbox"
          class="sidebar-toggle"
          name="__secondary"
          id="__secondary"/>
  <label class="overlay overlay-secondary" for="__secondary"></label>
  
  <div class="search-button__wrapper">
    <div class="search-button__overlay"></div>
    <div class="search-button__search-container">
<form class="bd-search d-flex align-items-center"
      action="search.html"
      method="get">
  <i class="fa-solid fa-magnifying-glass"></i>
  <input type="search"
         class="form-control"
         name="q"
         id="search-input"
         placeholder="Search this book..."
         aria-label="Search this book..."
         autocomplete="off"
         autocorrect="off"
         autocapitalize="off"
         spellcheck="false"/>
  <span class="search-button__kbd-shortcut"><kbd class="kbd-shortcut__modifier">Ctrl</kbd>+<kbd>K</kbd></span>
</form></div>
  </div>
  
    <nav class="bd-header navbar navbar-expand-lg bd-navbar">
    </nav>
  
  <div class="bd-container">
    <div class="bd-container__inner bd-page-width">
      
      <div class="bd-sidebar-primary bd-sidebar">
        

  
  <div class="sidebar-header-items sidebar-primary__section">
    
    
    
    
  </div>
  
    <div class="sidebar-primary-items__start sidebar-primary__section">
        <div class="sidebar-primary-item">
  

<a class="navbar-brand logo" href="intro.html">
  
  
  
  
    
    
      
    
    
    <img src="_static/logo.png" class="logo__image only-light" alt="Logo image"/>
    <script>document.write(`<img src="_static/logo.png" class="logo__image only-dark" alt="Logo image"/>`);</script>
  
  
</a></div>
        <div class="sidebar-primary-item"><nav class="bd-links" id="bd-docs-nav" aria-label="Main">
    <div class="bd-toc-item navbar-nav active">
        
        <ul class="nav bd-sidenav bd-sidenav__home-link">
            <li class="toctree-l1">
                <a class="reference internal" href="intro.html">
                    Ciencia de datos aplicada a la banca
                </a>
            </li>
        </ul>
        <ul class="current nav bd-sidenav">
<li class="toctree-l1"><a class="reference internal" href="modulo_1.html"><strong>Módulo 1: Introducción a la ciencia de datos con Python</strong></a></li>
<li class="toctree-l1 current active"><a class="current reference internal" href="#"><strong>Módulo 2: Estructuración y manipulación de datos con Python</strong></a></li>
<li class="toctree-l1"><a class="reference internal" href="modulo_3.html"><strong>Modulo 3: Análisis exploratorio de datos de la banca</strong></a></li>
<li class="toctree-l1"><a class="reference internal" href="modulo_4.html"><strong>Módulo 4: Visualización de datos con Python</strong></a></li>
<li class="toctree-l1"><a class="reference internal" href="modulo_5.html"><strong>Modulo 5: Introducción a Streamlit</strong></a></li>
<li class="toctree-l1"><a class="reference internal" href="modulo_6.html"><strong>Módulo 6: Machine Learning</strong></a></li>
<li class="toctree-l1"><a class="reference internal" href="modulo_7.html"><strong>Modulo 7: Despliegue de modelos</strong></a></li>
</ul>

    </div>
</nav></div>
    </div>
  
  
  <div class="sidebar-primary-items__end sidebar-primary__section">
  </div>
  
  <div id="rtd-footer-container"></div>


      </div>
      
      <main id="main-content" class="bd-main">
        
        

<div class="sbt-scroll-pixel-helper"></div>

          <div class="bd-content">
            <div class="bd-article-container">
              
              <div class="bd-header-article">
<div class="header-article-items header-article__inner">
  
    <div class="header-article-items__start">
      
        <div class="header-article-item"><label class="sidebar-toggle primary-toggle btn btn-sm" for="__primary" title="Toggle primary sidebar" data-bs-placement="bottom" data-bs-toggle="tooltip">
  <span class="fa-solid fa-bars"></span>
</label></div>
      
    </div>
  
  
    <div class="header-article-items__end">
      
        <div class="header-article-item">

<div class="article-header-buttons">





<div class="dropdown dropdown-source-buttons">
  <button class="btn dropdown-toggle" type="button" data-bs-toggle="dropdown" aria-expanded="false" aria-label="Source repositories">
    <i class="fab fa-github"></i>
  </button>
  <ul class="dropdown-menu">
      
      
      
      <li><a href="https://github.com/executablebooks/jupyter-book" target="_blank"
   class="btn btn-sm btn-source-repository-button dropdown-item"
   title="Source repository"
   data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fab fa-github"></i>
  </span>
<span class="btn__text-container">Repository</span>
</a>
</li>
      
      
      
      
      <li><a href="https://github.com/executablebooks/jupyter-book/issues/new?title=Issue%20on%20page%20%2Fmodulo_2.html&body=Your%20issue%20content%20here." target="_blank"
   class="btn btn-sm btn-source-issues-button dropdown-item"
   title="Open an issue"
   data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-lightbulb"></i>
  </span>
<span class="btn__text-container">Open issue</span>
</a>
</li>
      
  </ul>
</div>






<div class="dropdown dropdown-download-buttons">
  <button class="btn dropdown-toggle" type="button" data-bs-toggle="dropdown" aria-expanded="false" aria-label="Download this page">
    <i class="fas fa-download"></i>
  </button>
  <ul class="dropdown-menu">
      
      
      
      <li><a href="_sources/modulo_2.ipynb" target="_blank"
   class="btn btn-sm btn-download-source-button dropdown-item"
   title="Download source file"
   data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-file"></i>
  </span>
<span class="btn__text-container">.ipynb</span>
</a>
</li>
      
      
      
      
      <li>
<button onclick="window.print()"
  class="btn btn-sm btn-download-pdf-button dropdown-item"
  title="Print to PDF"
  data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-file-pdf"></i>
  </span>
<span class="btn__text-container">.pdf</span>
</button>
</li>
      
  </ul>
</div>




<button onclick="toggleFullScreen()"
  class="btn btn-sm btn-fullscreen-button"
  title="Fullscreen mode"
  data-bs-placement="bottom" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-expand"></i>
  </span>

</button>


<script>
document.write(`
  <button class="theme-switch-button btn btn-sm btn-outline-primary navbar-btn rounded-circle" title="light/dark" aria-label="light/dark" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <span class="theme-switch" data-mode="light"><i class="fa-solid fa-sun"></i></span>
    <span class="theme-switch" data-mode="dark"><i class="fa-solid fa-moon"></i></span>
    <span class="theme-switch" data-mode="auto"><i class="fa-solid fa-circle-half-stroke"></i></span>
  </button>
`);
</script>

<script>
document.write(`
  <button class="btn btn-sm navbar-btn search-button search-button__button" title="Search" aria-label="Search" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <i class="fa-solid fa-magnifying-glass"></i>
  </button>
`);
</script>
<label class="sidebar-toggle secondary-toggle btn btn-sm" for="__secondary"title="Toggle secondary sidebar" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <span class="fa-solid fa-list"></span>
</label>
</div></div>
      
    </div>
  
</div>
</div>
              
              

<div id="jb-print-docs-body" class="onlyprint">
    <h1>Módulo 2: Estructuración y manipulación de datos con Python</h1>
    <!-- Table of contents -->
    <div id="print-main-content">
        <div id="jb-print-toc">
            
            <div>
                <h2> Contents </h2>
            </div>
            <nav aria-label="Page">
                <ul class="visible nav section-nav flex-column">
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#archivos-planos-con-numpy-y-pandas"><strong>Archivos planos con Numpy y Pandas</strong></a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#archivos-planos"><strong>Archivos planos</strong></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#importacion-y-exportacion-de-archivos-planos-con-numpy"><strong>Importación y exportación de archivos planos con Numpy</strong></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#importacion-y-exportacion-de-archivos-planos-con-pandas"><strong>Importación y exportación de archivos planos con Pandas</strong></a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#importacion-e-exportacion-de-datos-de-otros-tipos-de-archivos"><strong>Importación e exportación de datos de otros tipos de archivos</strong></a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#importacion-y-exportacion-de-datos-serializados"><strong>Importación y exportación de datos serializados</strong></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#importacion-y-exportacion-de-datos-en-excel"><strong>Importación y exportación de datos en Excel</strong></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#importacion-de-archivos-sas-y-stata-usando-pandas"><strong>Importación de archivos SAS y Stata usando Pandas</strong></a><ul class="nav section-nav flex-column">
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#importacion-de-archivos-sas"><strong>Importación de archivos SAS</strong>.</a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#importacion-de-archivos-stata"><strong>Importación de Archivos Stata</strong>.</a></li>
</ul>
</li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#importacion-de-ficheros-planos-desde-la-web"><strong>Importación de ficheros planos desde la web</strong></a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#manipulacion-de-datos-con-pandas"><strong>Manipulación de datos con pandas</strong></a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#series"><strong>Series</strong></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#pandas"><strong>Pandas</strong></a><ul class="nav section-nav flex-column">
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#metodo-1-creacion-de-dataframes-a-partir-de-diccionarios"><strong>Método 1: Creación de DataFrames a partir de Diccionarios</strong></a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#metodo-2-creacion-de-dataframes-a-partir-de-listas-anidadas"><strong>Método 2: Creación de DataFrames a partir de Listas Anidadas</strong></a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#metodo-3-creacion-de-dataframes-a-partir-de-listas-de-diccionarios"><strong>Método 3: Creación de DataFrames a partir de Listas de Diccionarios</strong></a></li>
</ul>
</li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#manipulacion"><strong>Manipulación</strong></a><ul class="nav section-nav flex-column">
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#introduccion-a-la-manipulacion-de-datos"><strong>Introducción a la manipulación de datos</strong></a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#descripcion-estadistica"><strong>Descripción estadística</strong></a><ul class="nav section-nav flex-column">
<li class="toc-h5 nav-item toc-entry"><a class="reference internal nav-link" href="#resumen-estadistico-univariado"><strong>Resumen estadístico univariado</strong></a></li>
<li class="toc-h5 nav-item toc-entry"><a class="reference internal nav-link" href="#resumen-estadistico-bivariado"><strong>Resumen estadístico bivariado</strong></a></li>
<li class="toc-h5 nav-item toc-entry"><a class="reference internal nav-link" href="#resumen-estadistico-con-tablas-dinamicas"><strong>Resumen estadístico con tablas dinámicas</strong></a></li>
</ul>
</li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#indices-explicitos"><strong>Indices explicitos</strong></a></li>
</ul>
</li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#visualizacion-sencilla-de-datos"><strong>Visualización sencilla de datos</strong></a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#histograma"><strong>Histograma</strong></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#cajas-y-bigotes"><strong>Cajas y bigotes</strong></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#barras"><strong>Barras</strong></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#circulares"><strong>Circulares</strong></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#lineas"><strong>Lineas</strong></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#dispersion-scatter-plots"><strong>Dispersión (Scatter Plots)</strong></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#histogramas-con-variable-categorica"><strong>Histogramas con variable categórica</strong></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#cajas-y-bigotes-con-variable-categorica"><strong>Cajas y bigotes con variable categórica</strong></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#diagrama-de-barras-con-variables-categoricas"><strong>Diagrama de barras con variables categóricas</strong></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#diagrama-hexagonal"><strong>Diagrama hexagonal</strong></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#diagrama-de-contorno"><strong>Diagrama de contorno</strong></a></li>
</ul>
</li>
</ul>
            </nav>
        </div>
    </div>
</div>

              
                
<div id="searchbox"></div>
                <article class="bd-article" role="main">
                  
  <section class="tex2jax_ignore mathjax_ignore" id="modulo-2-estructuracion-y-manipulacion-de-datos-con-python">
<h1><strong>Módulo 2: Estructuración y manipulación de datos con Python</strong><a class="headerlink" href="#modulo-2-estructuracion-y-manipulacion-de-datos-con-python" title="Permalink to this heading">#</a></h1>
<p>El manejo de datos es el corazón de cualquier proyecto de análisis, y Python se ha consolidado como uno de los lenguajes más poderosos y versátiles para este propósito. En este módulo, nos sumergiremos en las técnicas fundamentales para la estructuración y manipulación de datos utilizando Python, proporcionando las bases necesarias para transformar datos crudos en información útil y procesable.</p>
<p>Comenzaremos explorando las estructuras de datos disponibles en Python, como listas, dataframes, pilas, colas, árboles y grafos. Estas estructuras permiten organizar y acceder a la información de manera eficiente, lo que es crucial cuando se trabaja con grandes volúmenes de datos o datos complejos. Además, abordaremos cómo manipular y transformar datos no estructurados, como textos, imágenes y datos provenientes de redes sociales, que requieren enfoques y herramientas específicas para su análisis.</p>
<p>El módulo también se centrará en el uso de librerías especializadas como NumPy y Pandas, que son esenciales para el análisis de datos en Python. Estas librerías ofrecen potentes funciones para la manipulación y el análisis de datos estructurados, permitiendo realizar operaciones avanzadas con facilidad y eficiencia.</p>
<p>Además, aprenderemos a trabajar con secuencias de datos utilizando herramientas como <code class="docutils literal notranslate"><span class="pre">re</span></code>, <code class="docutils literal notranslate"><span class="pre">string</span></code> e <code class="docutils literal notranslate"><span class="pre">itertools</span></code>, que son fundamentales para el procesamiento y análisis de cadenas de texto y otras secuencias de información. La habilidad para manipular secuencias es clave en tareas como la limpieza de datos y la preparación de datos para modelos de machine learning.</p>
<p>Finalmente, exploraremos las bases de la visualización de datos para representar de manera gráfica los resultados del análisis, facilitando la interpretación y comunicación de los hallazgos. Este módulo también incluirá casos prácticos que permitirán a los participantes aplicar las técnicas aprendidas en escenarios reales, consolidando así los conceptos y habilidades adquiridos.</p>
<section id="archivos-planos-con-numpy-y-pandas">
<h2><strong>Archivos planos con Numpy y Pandas</strong><a class="headerlink" href="#archivos-planos-con-numpy-y-pandas" title="Permalink to this heading">#</a></h2>
<p>En esta sección aprenderás a importar datos a Python desde todo tipo de archivos planos, que son una forma sencilla y frecuente de almacenamiento de datos. Ya has aprendido a utilizar NumPy y Pandas: aprenderás a utilizar estos paquetes para importar archivos planos y personalizar tus importaciones.</p>
<section id="archivos-planos">
<h3><strong>Archivos planos</strong><a class="headerlink" href="#archivos-planos" title="Permalink to this heading">#</a></h3>
<p>Los archivos de texto plano se pueden clasificar en dos grandes tipos:</p>
<ol class="arabic simple">
<li><p><strong>Archivos que contienen texto sin formato</strong> . Por ejemplo:</p></li>
</ol>
<p><img alt="no estructurado" src="_images/noestructurado.png" /></p>
<ol class="arabic simple" start="2">
<li><p><strong>Archivos que contienen registros estructurados</strong>. Un ejemplo es el conjunto de datos del Titanic</p></li>
</ol>
<p><img alt="estructurado" src="_images/estructurado.png" /></p>
<p>En este archivo, cada columna representa una característica o rasgo, como el género, la cabina o si la persona sobrevivió, mientras que cada fila corresponde a una persona que estaba a bordo del Titanic.</p>
<p>Es fundamental que cualquier científico de datos comprenda el concepto de <strong>archivo plano</strong>. Estos son archivos de texto simples que contienen datos organizados en tablas, pero sin relaciones estructuradas complejas.</p>
<p>Es probable que hayas notado que la extensión del archivo es <code class="docutils literal notranslate"><span class="pre">.csv</span></code>. Tal vez te preguntes qué significa:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">.csv</span></code> (Comma-Separated Values): Archivo en el que los valores están separados por comas.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">.txt</span></code>: Archivo de texto simple.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">.tsv</span></code> (Tab-Separated Values): Archivo en el que los valores están separados por tabulaciones.</p></li>
</ul>
<p>Los valores en archivos planos pueden estar separados por diferentes caracteres, como comas o tabulaciones, conocidos como <strong>delimitadores</strong>. Estos delimitadores permiten organizar y estructurar los datos de manera sencilla y efectiva.</p>
<p>Ahora, para consultar cualquier archivo de texto sin formato, que debemos hacer:</p>
<ul class="simple">
<li><p>Asignar el nombre del archivo a una variable como una cadena.</p></li>
<li><p>Usamos la función básica <code class="docutils literal notranslate"><span class="pre">open</span></code> de Python para abrir una conexión al archivo y le pasamos el argumento <code class="docutils literal notranslate"><span class="pre">mode='r'</span></code>, lo que garantiza que solo podamos leerlo.</p></li>
<li><p>Despues le asignamos el texto del archivo a una variable <code class="docutils literal notranslate"><span class="pre">text</span></code> aplicando el método <code class="docutils literal notranslate"><span class="pre">read</span></code> a la conexión al archivo.</p></li>
<li><p>Después asegúrese de cerrar la conexión al archivo usando el comando <code class="docutils literal notranslate"><span class="pre">file.close</span></code>.</p></li>
</ul>
<p>Miremos un ejemplo:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">filename</span> <span class="o">=</span> <span class="s1">&#39;_data/datamanip/elprincipito.txt&#39;</span>
<span class="n">file</span> <span class="o">=</span> <span class="nb">open</span><span class="p">(</span><span class="n">filename</span><span class="p">,</span> <span class="n">mode</span><span class="o">=</span><span class="s1">&#39;r&#39;</span><span class="p">)</span> <span class="c1"># &#39;r&#39; es de lectura</span>
<span class="n">text</span> <span class="o">=</span> <span class="n">file</span><span class="o">.</span><span class="n">read</span><span class="p">()</span>
<span class="n">file</span><span class="o">.</span><span class="n">close</span><span class="p">()</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Imprimir el texto</span>
<span class="nb">print</span><span class="p">(</span><span class="n">text</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>1 



En el libro se afirmaba: &quot;La serpiente boa se traga su presa entera, sin masticarla. 
Luego ya no puede moverse y duerme durante ios seis meses que dura su 
digestión&quot;. 

Reflexioné mucho en ese momento sobre las aventuras de la jungla y a mi vez 
logré trazar con un lápiz de colores mi primer dibujo. Mi dibujo número 1 era de 
esta manera: 




Enseñé mi obra de arte a las personas mayores y les pregunté si mi dibujo les 
daba miedo. 

-¿por qué habría de asustar un sombrero? - me respondieron. 

Mi dibujo no representaba un sombrero. Representaba una serpiente boa que 
digiere un elefante. Dibujé entonces el interior de la serpiente boa a fin de que las 
personas mayores pudieran comprender. Siempre estas personas tienen 
necesidad de explicaciones. Mi dibujo número 2 era así: 
</pre></div>
</div>
</div>
</div>
<div class="attention admonition">
<p class="admonition-title"><strong>Observación</strong></p>
<ul class="simple">
<li><p>Para abrir un archivo en modo de escritura, debes usar <code class="docutils literal notranslate"><span class="pre">mode='w'</span></code></p></li>
</ul>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">filename</span> <span class="o">=</span> <span class="s1">&#39;_data/datamanip/escritura.txt&#39;</span>
<span class="n">file</span> <span class="o">=</span> <span class="nb">open</span><span class="p">(</span><span class="n">filename</span><span class="p">,</span> <span class="n">mode</span><span class="o">=</span><span class="s1">&#39;w&#39;</span><span class="p">)</span>  <span class="c1"># &#39;w&#39; es para escritura</span>


<span class="c1"># Escribir texto en el archivo</span>
<span class="n">file</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="s2">&quot;Era un pequeño príncipe que vivía en un planeta apenas más grande que él.&quot;</span><span class="p">)</span>

<span class="c1"># Cerrar el archivo después de escribir</span>
<span class="n">file</span><span class="o">.</span><span class="n">close</span><span class="p">()</span>
</pre></div>
</div>
<ul class="simple">
<li><p>Para verificar el contenido escrito en <code class="docutils literal notranslate"><span class="pre">escritura.txt</span></code>, primero debes abrir el archivo en modo de escritura como se muestra arriba. Luego, abre el archivo en modo de lectura para ver el contenido:</p></li>
</ul>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="c1"># Abrir el archivo en modo lectura</span>
<span class="n">file</span> <span class="o">=</span> <span class="nb">open</span><span class="p">(</span><span class="n">filename</span><span class="p">,</span> <span class="n">mode</span><span class="o">=</span><span class="s1">&#39;r&#39;</span><span class="p">)</span>  <span class="c1"># &#39;r&#39; es para lectura</span>

<span class="c1"># Leer el contenido del archivo</span>
<span class="n">content</span> <span class="o">=</span> <span class="n">file</span><span class="o">.</span><span class="n">read</span><span class="p">()</span>

<span class="c1"># Imprimir el contenido</span>
<span class="nb">print</span><span class="p">(</span><span class="n">content</span><span class="p">)</span>

<span class="c1"># Cerrar el archivo después de leer</span>
<span class="n">file</span><span class="o">.</span><span class="n">close</span><span class="p">()</span>
</pre></div>
</div>
</div>
<p>Puedes evitar tener que cerrar la conexión al archivo utilizando una declaración <code class="docutils literal notranslate"><span class="pre">with</span></code>. Esto le permite crear un contexto en el que puede ejecutar comandos con el archivo abierto. Una vez fuera de esta cláusula o contexto, el archivo ya no está abierto y, por esta razón, <code class="docutils literal notranslate"><span class="pre">with</span></code> se denomina <strong>administrador de contexto</strong>. Realmente asegura que el archivo se cierre correctamente, incluso si ocurre un error durante la escritura. Por ejemplo:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="s1">&#39;_data/datamanip/elprincipito.txt&#39;</span><span class="p">,</span><span class="n">mode</span> <span class="o">=</span><span class="s1">&#39;r&#39;</span><span class="p">)</span> <span class="k">as</span> <span class="n">file</span><span class="p">:</span>
    <span class="nb">print</span><span class="p">(</span><span class="n">file</span><span class="o">.</span><span class="n">read</span><span class="p">())</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>1 



En el libro se afirmaba: &quot;La serpiente boa se traga su presa entera, sin masticarla. 
Luego ya no puede moverse y duerme durante ios seis meses que dura su 
digestión&quot;. 

Reflexioné mucho en ese momento sobre las aventuras de la jungla y a mi vez 
logré trazar con un lápiz de colores mi primer dibujo. Mi dibujo número 1 era de 
esta manera: 




Enseñé mi obra de arte a las personas mayores y les pregunté si mi dibujo les 
daba miedo. 

-¿por qué habría de asustar un sombrero? - me respondieron. 

Mi dibujo no representaba un sombrero. Representaba una serpiente boa que 
digiere un elefante. Dibujé entonces el interior de la serpiente boa a fin de que las 
personas mayores pudieran comprender. Siempre estas personas tienen 
necesidad de explicaciones. Mi dibujo número 2 era así: 
</pre></div>
</div>
</div>
</div>
<div class="tip admonition">
<p class="admonition-title"><strong>Ejercicios</strong></p>
<ol class="arabic simple">
<li><p>Abre el archivo de texto <code class="docutils literal notranslate"><span class="pre">GabrielGarciaMarquez.txt</span></code> e imprimelo. Utiliza el administrador de contexto <code class="docutils literal notranslate"><span class="pre">with</span></code>.</p></li>
<li><p>En el caso de archivos grandes, puede que no queramos imprimir todo su contenido en el shell: tal vez quieras imprimir sólo las primeras líneas. Use el archivo de texto <code class="docutils literal notranslate"><span class="pre">GabrielGarciaMarquez.txt</span></code> e imprima las 3 primeras líneas. <strong>Sugerencia</strong>: use el método <code class="docutils literal notranslate"><span class="pre">readline()</span></code>.</p></li>
</ol>
</div>
</section>
<section id="importacion-y-exportacion-de-archivos-planos-con-numpy">
<h3><strong>Importación y exportación de archivos planos con Numpy</strong><a class="headerlink" href="#importacion-y-exportacion-de-archivos-planos-con-numpy" title="Permalink to this heading">#</a></h3>
<p>Ahora que sabes cómo usar la función incorporada <code class="docutils literal notranslate"><span class="pre">open</span></code> de Python para abrir archivos de texto, veamos cómo importar un archivo plano y asignarlo a una variable. Si todos los datos son numéricos, puedes usar el paquete NumPy para importarlos como una matriz NumPy. ¿Por qué querríamos hacer esto?</p>
<div class="note admonition">
<p class="admonition-title"><strong>Características de las matrices NumPy</strong></p>
<ol class="arabic">
<li><p><strong>Eficiencia y velocidad</strong>:</p>
<ul class="simple">
<li><p>Las matrices NumPy son el estándar de Python para almacenar datos numéricos debido a su eficiencia y rapidez.</p></li>
<li><p>Son ideales para manejar grandes volúmenes de datos de manera limpia y ordenada.</p></li>
</ul>
<figure class="align-center" id="imagen-de-numpy">
<a class="reference internal image-reference" href="_images/NumPy.png"><img alt="_images/NumPy.png" src="_images/NumPy.png" style="width: 192.0px; height: 86.4px;" /></a>
</figure>
</li>
<li><p><strong>Compatibilidad con otros paquetes</strong>:</p>
<ul class="simple">
<li><p>NumPy es esencial para muchos otros paquetes en Python, como <code class="docutils literal notranslate"><span class="pre">scikit-learn</span></code>, un popular paquete de aprendizaje automático.</p></li>
</ul>
<figure class="align-center" id="imagen-de-scikitlearn">
<a class="reference internal image-reference" href="_images/scikitlearn.png"><img alt="_images/scikitlearn.png" src="_images/scikitlearn.png" style="width: 122.4px; height: 66.0px;" /></a>
</figure>
<ul class="simple">
<li><p>Al trabajar con scikit-learn, es común que los datos estén en formato de matriz NumPy.</p></li>
</ul>
</li>
</ol>
</div>
<p><code class="docutils literal notranslate"><span class="pre">NumPy</span></code> tiene varias funciones integradas que nos permiten importar datos como matrices de forma mucho más sencilla y eficiente. Aquí se encuentran las funciones <code class="docutils literal notranslate"><span class="pre">loadtxt</span></code> y <code class="docutils literal notranslate"><span class="pre">genfromtxt</span></code>.</p>
<ol class="arabic simple">
<li><p><strong>loadtxt</strong>: Importa datos de un archivo de texto como una matriz NumPy. Por ejemplo</p></li>
</ol>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">numpy</span> <span class="k">as</span> <span class="nn">np</span>

<span class="c1"># dataset</span>
<span class="c1"># mnist es una colección de dígitos manuscritos del 0 al 9</span>

<span class="n">filename</span> <span class="o">=</span> <span class="s1">&#39;_data/datamanip/mnist.csv&#39;</span>
<span class="n">dataset</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">loadtxt</span><span class="p">(</span><span class="n">filename</span><span class="p">,</span><span class="n">delimiter</span><span class="o">=</span><span class="s1">&#39;,&#39;</span><span class="p">)</span>

<span class="n">dataset</span>
</pre></div>
</div>
</div>
</div>
<p>Algunos argumentos adicionales de <code class="docutils literal notranslate"><span class="pre">loadtxt</span></code></p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">skiprows</span></code>: Si deseas omitir la primera fila (por ejemplo, un encabezado), puedes usar <code class="docutils literal notranslate"><span class="pre">skiprows=1</span></code>.</p></li>
</ul>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">dataset</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">loadtxt</span><span class="p">(</span><span class="s1">&#39;_data/datamanip/babosa.txt&#39;</span><span class="p">,</span> <span class="n">delimiter</span><span class="o">=</span><span class="s1">&#39;</span><span class="se">\t</span><span class="s1">&#39;</span><span class="p">,</span> <span class="n">skiprows</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>
<span class="n">dataset</span>
</pre></div>
</div>
</div>
</div>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">usecols</span></code>: Si solo quieres importar columnas específicas, usa <code class="docutils literal notranslate"><span class="pre">usecols</span></code> con una lista de los índices de las columnas.</p></li>
</ul>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">dataset</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">loadtxt</span><span class="p">(</span><span class="s1">&#39;_data/datamanip/Startups.csv&#39;</span><span class="p">,</span> <span class="n">delimiter</span><span class="o">=</span><span class="s1">&#39;,&#39;</span><span class="p">,</span><span class="n">usecols</span><span class="o">=</span><span class="p">[</span><span class="mi">0</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">4</span><span class="p">],</span> <span class="n">skiprows</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>
<span class="n">dataset</span>
</pre></div>
</div>
</div>
</div>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">dtype</span></code>: Te ayuda a importar diferentes tipos de datos en matrices. <code class="docutils literal notranslate"><span class="pre">dtype=str</span></code> garantiza que todas las entradas se importen como cadenas</p></li>
</ul>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">dataset</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">loadtxt</span><span class="p">(</span><span class="s1">&#39;_data/datamanip/Startups.csv&#39;</span><span class="p">,</span> <span class="n">delimiter</span><span class="o">=</span><span class="s1">&#39;,&#39;</span><span class="p">,</span><span class="n">dtype</span><span class="o">=</span><span class="nb">str</span><span class="p">)</span>
<span class="n">dataset</span>
</pre></div>
</div>
</div>
</div>
<div class="warning admonition">
<p class="admonition-title"><strong>Observación</strong></p>
<p>Aunque <code class="docutils literal notranslate"><span class="pre">loadtxt</span></code> es útil para casos básicos. Si encuentra datos que no se pueden convertir al tipo especificado (por defecto, flotantes), generará un error, lo que puede detener el proceso de carga de datos.</p>
</div>
<ol class="arabic simple" start="2">
<li><p><strong>genfromtxt</strong>: Similar a <code class="docutils literal notranslate"><span class="pre">loadtxt</span></code>, pero más flexible para manejar datos mixtos. Además, cuando usamos <code class="docutils literal notranslate"><span class="pre">dtype=None</span></code> permite que NumPy adivine el tipo de datos para cada columna. Por ejemplo:</p></li>
</ol>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">data</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">genfromtxt</span><span class="p">(</span><span class="s1">&#39;_data/datamanip/mnist.csv&#39;</span><span class="p">,</span> <span class="n">delimiter</span><span class="o">=</span><span class="s1">&#39;,&#39;</span><span class="p">,</span> <span class="n">dtype</span><span class="o">=</span><span class="kc">None</span><span class="p">)</span>
<span class="n">data</span>
</pre></div>
</div>
</div>
</div>
<div class="tip admonition">
<p class="admonition-title"><strong>Ejercicios</strong></p>
<p>Del archivo <code class="docutils literal notranslate"><span class="pre">digitos.txt</span></code>, que tiene la primera fila con los nombres de las variables y está delimitado por tabulaciones. Importe solo las 3 primeras columnas del archivo plano. Imprime la primera fila</p>
</div>
<p>Ahora, para exportar archivos planos usando <code class="docutils literal notranslate"><span class="pre">NumPy</span></code>, puedes utilizar la función <code class="docutils literal notranslate"><span class="pre">numpy.savetxt()</span></code>. Esta función es muy útil para guardar datos en un archivo de texto con un formato específico. Aquí te muestro un ejemplo básico:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Crear una matriz NumPy</span>
<span class="n">data</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">],</span> <span class="p">[</span><span class="mi">4</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="mi">6</span><span class="p">],</span> <span class="p">[</span><span class="mi">7</span><span class="p">,</span> <span class="mi">8</span><span class="p">,</span> <span class="mi">9</span><span class="p">]])</span>

<span class="c1"># Guardar la matriz en un archivo de texto</span>
<span class="n">np</span><span class="o">.</span><span class="n">savetxt</span><span class="p">(</span><span class="s1">&#39;_data/datamanip/archivo.txt&#39;</span><span class="p">,</span> <span class="n">data</span><span class="p">,</span> <span class="n">fmt</span><span class="o">=</span><span class="s1">&#39;</span><span class="si">%d</span><span class="s1">&#39;</span><span class="p">,</span> <span class="n">delimiter</span><span class="o">=</span><span class="s1">&#39;,&#39;</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<p>Una breve explicación de los parámetros es la siguiente:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">'archivo.txt'</span></code>: Nombre del archivo en el que se guardarán los datos.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">data</span></code>: La matriz <code class="docutils literal notranslate"><span class="pre">NumPy</span></code> que deseas guardar.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">fmt='%d'</span></code>: El formato en el que los datos se guardarán (en este caso, enteros). Puedes ajustar el formato según el tipo de datos que estás manejando (por ejemplo, %.2f para números de punto flotante con dos decimales).</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">delimiter=','</span></code>: El delimitador que separa los valores en el archivo. Aquí se usa una coma, pero puedes cambiarlo a otro carácter como un espacio <code class="docutils literal notranslate"><span class="pre">'</span> <span class="pre">'</span></code> o un punto y coma <code class="docutils literal notranslate"><span class="pre">';'</span></code>.</p></li>
</ul>
<p>Si quieres agregar un encabezado al archivo, puedes hacerlo con el parámetro <code class="docutils literal notranslate"><span class="pre">header</span></code>:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">np</span><span class="o">.</span><span class="n">savetxt</span><span class="p">(</span><span class="s1">&#39;_data/datamanip/archivo.csv&#39;</span><span class="p">,</span> <span class="n">data</span><span class="p">,</span> <span class="n">fmt</span><span class="o">=</span><span class="s1">&#39;</span><span class="si">%d</span><span class="s1">&#39;</span><span class="p">,</span> 
           <span class="n">delimiter</span><span class="o">=</span><span class="s1">&#39;,&#39;</span><span class="p">,</span> <span class="n">header</span><span class="o">=</span><span class="s1">&#39;Columna1,Columna2,Columna3&#39;</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
</section>
<section id="importacion-y-exportacion-de-archivos-planos-con-pandas">
<h3><strong>Importación y exportación de archivos planos con Pandas</strong><a class="headerlink" href="#importacion-y-exportacion-de-archivos-planos-con-pandas" title="Permalink to this heading">#</a></h3>
<p>En la ciencia de datos, se requiere manejar <em>estructuras de datos etiquetadas bidimensionales con columnas de tipos potencialmente diferentes</em>, algo que las matrices <code class="docutils literal notranslate"><span class="pre">NumPy</span></code> no pueden satisfacer completamente. Esta necesidad impulsó a <strong>Wes McKinney</strong> a desarrollar la biblioteca <code class="docutils literal notranslate"><span class="pre">Pandas</span></code> para <code class="docutils literal notranslate"><span class="pre">Python</span></code>, que se ha convertido en una herramienta esencial para los científicos de datos.</p>
<p><code class="docutils literal notranslate"><span class="pre">Pandas</span></code> es una biblioteca de <code class="docutils literal notranslate"><span class="pre">Python</span></code> que permite llevar a cabo todo el flujo de trabajo de análisis de datos sin cambiar a otro lenguaje específico como <code class="docutils literal notranslate"><span class="pre">R</span></code>. La estructura de datos más relevante en <code class="docutils literal notranslate"><span class="pre">Pandas</span></code> es el DataFrame, que es el análogo Pythonic del marco de datos en <code class="docutils literal notranslate"><span class="pre">R</span></code>.</p>
<div class="note admonition">
<p class="admonition-title"><strong>Características claves de Pandas</strong></p>
<ul class="simple">
<li><p><strong>Importación de datos</strong>: <code class="docutils literal notranslate"><span class="pre">Pandas</span></code> facilita la importación de archivos planos, bases de datos, archivos Excel, entre otros, como DataFrames.</p></li>
<li><p><strong>Estructuras de datos etiquetadas</strong>: Los DataFrames permiten manipular y analizar datos con etiquetas en filas y columnas, lo que facilita el manejo de diferentes tipos de datos en un solo lugar.</p></li>
<li><p><strong>Manipulación de datos</strong>: <code class="docutils literal notranslate"><span class="pre">Pandas</span></code> ofrece funciones para cortar, remodelar, agrupar, unir y fusionar datos de manera eficiente.</p></li>
<li><p><strong>Estadísticas y manejo de valores faltantes</strong>: Realiza cálculos estadísticos sin afectar los valores faltantes y proporciona herramientas para manejar series temporales.</p></li>
</ul>
</div>
<p>Ahora importemos un archivo plano con <code class="docutils literal notranslate"><span class="pre">Pandas</span></code>:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">pandas</span> <span class="k">as</span> <span class="nn">pd</span>

<span class="c1"># Importar un archivo CSV como DataFrame</span>
<span class="n">filename</span> <span class="o">=</span> <span class="s1">&#39;_data/datamanip/winequality-red.csv&#39;</span>
<span class="n">data</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">read_csv</span><span class="p">(</span><span class="n">filename</span><span class="p">)</span>

<span class="c1"># Ver las primeras 5 filas del DataFrame</span>
<span class="n">data</span><span class="o">.</span><span class="n">head</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>fixed acidity;"volatile acidity";"citric acid";"residual sugar";"chlorides";"free sulfur dioxide";"total sulfur dioxide";"density";"pH";"sulphates";"alcohol";"quality"</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>7.4;0.7;0;1.9;0.076;11;34;0.9978;3.51;0.56;9.4;5</td>
    </tr>
    <tr>
      <th>1</th>
      <td>7.8;0.88;0;2.6;0.098;25;67;0.9968;3.2;0.68;9.8;5</td>
    </tr>
    <tr>
      <th>2</th>
      <td>7.8;0.76;0.04;2.3;0.092;15;54;0.997;3.26;0.65;...</td>
    </tr>
    <tr>
      <th>3</th>
      <td>11.2;0.28;0.56;1.9;0.075;17;60;0.998;3.16;0.58...</td>
    </tr>
    <tr>
      <th>4</th>
      <td>7.4;0.7;0;1.9;0.076;11;34;0.9978;3.51;0.56;9.4;5</td>
    </tr>
  </tbody>
</table>
</div></div></div>
</div>
<p>También podemos convertir fácilmente el DataFrame en una matriz <code class="docutils literal notranslate"><span class="pre">numpy</span></code>.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">data_array</span> <span class="o">=</span> <span class="n">data</span><span class="o">.</span><span class="n">to_numpy</span><span class="p">()</span>
<span class="n">data_array</span>
</pre></div>
</div>
</div>
</div>
<div class="warning admonition">
<p class="admonition-title"><strong>Observación</strong></p>
<ol class="arabic simple">
<li><p><code class="docutils literal notranslate"><span class="pre">Pandas</span></code> simplifica la manipulación y análisis de datos, permitiendo realizar operaciones complejas con un código conciso y legible.</p></li>
<li><p>Es compatible con muchas fuentes de datos, lo que lo convierte en una herramienta versátil para diferentes flujos de trabajo.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">Pandas</span></code> tiene una comunidad activa y una documentación extensa, lo que facilita el aprendizaje y la resolución de problemas.</p></li>
</ol>
</div>
<p>Para familiarizarte más con <code class="docutils literal notranslate"><span class="pre">Pandas</span></code>, es recomendable experimentar importando archivos planos que presenten desafíos, como comentarios incrustados y cadenas que deben interpretarse como valores faltantes. Esto te permitirá dominar las herramientas de limpieza y preparación de datos que ofrece Pandas.</p>
<div class="tip admonition">
<p class="admonition-title"><strong>Ejercicios</strong></p>
<ol class="arabic simple">
<li><p>Importe el dataset del <code class="docutils literal notranslate"><span class="pre">titanic.csv</span></code>, guardelo en el objeto <code class="docutils literal notranslate"><span class="pre">df</span></code> y muestre las 5 ultimas filas.</p></li>
<li><p>Completa el código:</p></li>
</ol>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="c1"># Asignar el nombre de archivo: file</span>
<span class="n">file</span> <span class="o">=</span> <span class="s1">&#39;digitos.csv&#39;</span>

<span class="c1"># Leer las primeras 5 filas del archivo en un DataFrame: data</span>
<span class="c1"># Use nrow y header</span>
<span class="c1"># TU CODIGO</span>

<span class="c1"># Construir un de numpy a partir del DataFrame: data_array</span>
<span class="c1"># TU CODIGO</span>

<span class="c1"># Imprimir el tipo de dato de data_array en la consola</span>
<span class="nb">print</span><span class="p">(</span><span class="nb">type</span><span class="p">(</span><span class="n">data_array</span><span class="p">))</span>
</pre></div>
</div>
<ol class="arabic simple" start="3">
<li><p>Complete el código:</p></li>
</ol>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="c1"># Asignar el nombre del archivo: file</span>
<span class="n">file</span> <span class="o">=</span> <span class="s1">&#39;titanic_corrupt.txt&#39;</span>

<span class="c1"># Importar el archivo: data</span>
<span class="n">data</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">read_csv</span><span class="p">(</span><span class="n">file</span><span class="p">,</span> <span class="n">sep</span><span class="o">=</span><span class="n">____</span><span class="p">,</span> <span class="n">comment</span><span class="o">=</span><span class="n">____</span><span class="p">,</span> <span class="n">na_values</span><span class="o">=</span><span class="n">____</span><span class="p">)</span>

<span class="c1"># Imprimir las primeras filas del DataFrame</span>
<span class="nb">print</span><span class="p">(</span><span class="n">data</span><span class="o">.</span><span class="n">head</span><span class="p">())</span>
</pre></div>
</div>
<p>donde</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">sep=</span></code> es el delimitador que separa los campos en el archivo (en tu caso, debería ser <code class="docutils literal notranslate"><span class="pre">'\t'</span></code> o <code class="docutils literal notranslate"><span class="pre">','</span></code>).</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">comment=</span></code> especifica el carácter que indica el inicio de un comentario (en tu caso, debería ser <code class="docutils literal notranslate"><span class="pre">'#'</span></code> ).</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">na_values=</span></code> define los valores que deben ser interpretados como valores faltantes (puedes usar `’NA’, 0 ‘NaN’ o ‘Nothing’).</p></li>
</ul>
</div>
<p>Ahora, para exportar archivos planos usando <code class="docutils literal notranslate"><span class="pre">pandas</span></code>, puedes utilizar la función <code class="docutils literal notranslate"><span class="pre">to_csv()</span></code> para guardar datos en formato CSV. Aquí te muestro cómo hacerlo para archivos CSV y otros formatos comunes:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Crear un DataFrame</span>
<span class="n">data</span> <span class="o">=</span> <span class="p">{</span>
    <span class="s1">&#39;Columna1&#39;</span><span class="p">:</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">7</span><span class="p">],</span>
    <span class="s1">&#39;Columna2&#39;</span><span class="p">:</span> <span class="p">[</span><span class="mi">2</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="mi">8</span><span class="p">],</span>
    <span class="s1">&#39;Columna3&#39;</span><span class="p">:</span> <span class="p">[</span><span class="mi">3</span><span class="p">,</span> <span class="mi">6</span><span class="p">,</span> <span class="mi">9</span><span class="p">]</span>
<span class="p">}</span>
<span class="n">df</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">(</span><span class="n">data</span><span class="p">)</span>

<span class="c1"># Guardar el DataFrame en un archivo CSV</span>
<span class="n">df</span><span class="o">.</span><span class="n">to_csv</span><span class="p">(</span><span class="s1">&#39;_data/datamanip/archivo.csv&#39;</span><span class="p">,</span> <span class="n">index</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<p>Una breve explicación de los parámetros de <code class="docutils literal notranslate"><span class="pre">to_csv()</span></code>:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">'archivo.csv'</span></code>: Nombre del archivo CSV a generar.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">index=False</span></code>: Evita que se guarde la columna de índices del DataFrame en el archivo CSV.</p></li>
</ul>
<p>Puedes usar <code class="docutils literal notranslate"><span class="pre">to_csv()</span></code> con diferentes delimitadores para crear archivos de texto con otros formatos:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">df</span><span class="o">.</span><span class="n">to_csv</span><span class="p">(</span><span class="s1">&#39;_data/datamanip/archivo.txt&#39;</span><span class="p">,</span> <span class="n">sep</span><span class="o">=</span><span class="s1">&#39;</span><span class="se">\t</span><span class="s1">&#39;</span><span class="p">,</span> <span class="n">index</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span> 
</pre></div>
</div>
</div>
</div>
</section>
</section>
<section id="importacion-e-exportacion-de-datos-de-otros-tipos-de-archivos">
<h2><strong>Importación e exportación de datos de otros tipos de archivos</strong><a class="headerlink" href="#importacion-e-exportacion-de-datos-de-otros-tipos-de-archivos" title="Permalink to this heading">#</a></h2>
<p>Como científico de datos, es crucial saber cómo importar datos desde una variedad de tipos de archivo. En esta sección, exploraremos cómo importar datos en <code class="docutils literal notranslate"><span class="pre">Python</span></code> desde varios formatos importantes. Cubriremos:</p>
<ul class="simple">
<li><p><strong>Archivos serializados (Pickle)</strong>: Usados para almacenar datos de manera eficiente en <code class="docutils literal notranslate"><span class="pre">Python</span></code>. El concepto de serializados (Pickle)  un archivo está motivado por lo siguiente: si bien puede ser fácil guardar una matriz <code class="docutils literal notranslate"><span class="pre">numpy</span></code> o un <code class="docutils literal notranslate"><span class="pre">dataframe</span></code> de <code class="docutils literal notranslate"><span class="pre">pandas</span></code> en un archivo plano, hay muchos otros tipos de datos, como diccionarios y listas, para los cuales no es obvio cómo almacenarlos.</p></li>
<li><p><strong>Hojas de Cálculo Excel</strong>: Permiten integrar datos de análisis de hojas de cálculo comunes.</p></li>
<li><p><strong>Archivos SAS y Stata</strong>: Formatoss utilizados en software de estadística y análisis de datos.</p></li>
</ul>
<p>Aprenderás a manejar estos formatos para que puedas trabajar con una amplia gama de datos en tus proyectos de ciencia de datos.</p>
<section id="importacion-y-exportacion-de-datos-serializados">
<h3><strong>Importación y exportación de datos serializados</strong><a class="headerlink" href="#importacion-y-exportacion-de-datos-serializados" title="Permalink to this heading">#</a></h3>
<p>Los <strong>datos serializados</strong> es el proceso de convertir los datos que han sido convertidos de su formato original (por ejemplo, un diccionario, una lista, un objeto de clase, etc.) a una secuencia de bytes. Este proceso se llama <strong>serialización</strong> o <strong>marshalling</strong>. La serialización permite que estos datos se almacenen en un archivo, se envíen a través de una red o se transmitan entre diferentes partes de un programa de manera eficiente. En <code class="docutils literal notranslate"><span class="pre">Python</span></code>, la serialización es manejada por el módulo <code class="docutils literal notranslate"><span class="pre">pickle</span></code>.</p>
<div class="tip dropdown admonition">
<p class="admonition-title">¿Por qué serializar datos?</p>
<ol class="arabic simple">
<li><p><strong>Almacenamiento</strong> : Puedes guardar un objeto complejo (como un diccionario o un árbol binario) en un archivo y cargarlo más tarde sin perder su estructura.</p></li>
<li><p><strong>Comunicación entre procesos</strong>: Los datos serializados pueden enviarse entre diferentes procesos de un programa o entre programas diferentes (por ejemplo, entre un cliente y un servidor en una aplicación web).</p></li>
<li><p><strong>Persistencia de objetos</strong>: Los datos serializados permiten almacenar el estado de un objeto, de modo que pueda ser restaurado más tarde y seguir funcionando donde se dejó.</p></li>
</ol>
</div>
<p>Por ejemplo</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">pickle</span>

<span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="s1">&#39;_data/datamanip/data_fruta.pkl&#39;</span><span class="p">,</span><span class="s1">&#39;rb&#39;</span><span class="p">)</span> <span class="k">as</span> <span class="n">file</span><span class="p">:</span>
    <span class="n">data</span> <span class="o">=</span> <span class="n">pickle</span><span class="o">.</span><span class="n">load</span><span class="p">(</span><span class="n">file</span><span class="p">)</span>
    
<span class="nb">print</span><span class="p">(</span><span class="n">data</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<div class="admonition-caracteristicas-de-un-archivo-pkl admonition">
<p class="admonition-title"><strong>Características de un archivo <code class="docutils literal notranslate"><span class="pre">.pkl</span></code></strong>:</p>
<p>Algunas característica son:</p>
<ul class="simple">
<li><p>Almacena una representación binaria de los objetos, lo que significa que el contenido del archivo no es legible por humanos. Solo se puede interpretar correctamente mediante deserialización utilizando <code class="docutils literal notranslate"><span class="pre">pickle</span></code> u otras herramientas compatibles con el formato.</p></li>
<li><p>Es ideal para guardar estructuras de datos complejas, como diccionarios, listas, o incluso objetos personalizados en Python. Estos datos pueden ser restaurados más tarde a su estado original, lo que permite la persistencia de información entre sesiones de programación.</p></li>
<li><p>Casi cualquier objeto de <code class="docutils literal notranslate"><span class="pre">Python</span></code> puede ser serializado a un archivo <code class="docutils literal notranslate"><span class="pre">.pkl</span></code>, incluyendo funciones y clases, lo que lo hace muy versátil.</p></li>
</ul>
</div>
<p>Ahora, exportemos los datos a un archivo <code class="docutils literal notranslate"><span class="pre">.pkl</span></code> usando <code class="docutils literal notranslate"><span class="pre">pickle</span></code> en <code class="docutils literal notranslate"><span class="pre">Python</span></code>, que es útil para serializar objetos de Python (como listas, diccionarios, o DataFrames). Aquí te muestro cómo hacerlo:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Crear un objeto (por ejemplo, un diccionario)</span>
<span class="n">data</span> <span class="o">=</span> <span class="p">{</span><span class="s1">&#39;a&#39;</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span> <span class="s1">&#39;b&#39;</span><span class="p">:</span> <span class="mi">2</span><span class="p">,</span> <span class="s1">&#39;c&#39;</span><span class="p">:</span> <span class="mi">3</span><span class="p">}</span>

<span class="c1"># Guardar el objeto en un archivo pickle</span>
<span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="s1">&#39;_data/datamanip/archivo.pkl&#39;</span><span class="p">,</span> <span class="s1">&#39;wb&#39;</span><span class="p">)</span> <span class="k">as</span> <span class="n">file</span><span class="p">:</span>
    <span class="n">pickle</span><span class="o">.</span><span class="n">dump</span><span class="p">(</span><span class="n">data</span><span class="p">,</span> <span class="n">file</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<div class="danger admonition">
<p class="admonition-title"><strong>Consideraciones</strong></p>
<p>1 <strong>No cargues archivos <code class="docutils literal notranslate"><span class="pre">pickle</span></code> de fuentes no confiables</strong>, ya que pueden ejecutar código malicioso durante la deserialización.</p>
<ol class="arabic simple" start="2">
<li><p>Archivos <code class="docutils literal notranslate"><span class="pre">pickle</span></code> son <strong>específicos de <code class="docutils literal notranslate"><span class="pre">Python</span></code></strong>, por lo que no se pueden leer fácilmente en otros lenguajes de programación sin soporte para <code class="docutils literal notranslate"><span class="pre">pickle</span></code>.</p></li>
</ol>
</div>
<div class="tip admonition">
<p class="admonition-title"><strong>Ejercicios</strong></p>
<ol class="arabic simple">
<li><p>Complete el código:</p></li>
</ol>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="c1"># Importar el paquete pickle </span>
<span class="c1"># TU CÓDIGO</span>

<span class="c1"># Abre el archivo pickle y carga los datos llamados data: d</span>
<span class="c1"># TU CÓDIGO</span>

<span class="c1"># Imprime y el tipo de dato de d</span>
<span class="c1"># TU CÓDIGO</span>
</pre></div>
</div>
</div>
</section>
<section id="importacion-y-exportacion-de-datos-en-excel">
<h3><strong>Importación y exportación de datos en Excel</strong><a class="headerlink" href="#importacion-y-exportacion-de-datos-en-excel" title="Permalink to this heading">#</a></h3>
<p>Las hojas de cálculo de Excel son una herramienta universalmente conocida y ampliamente utilizada, especialmente en el ámbito del análisis de datos. Un archivo de Excel generalmente contiene múltiples hojas de cálculo, cada una de las cuales puede almacenar diferentes conjuntos de datos relacionados o independientes. En el contexto de la ciencia de datos, el manejo eficiente de estos archivos es fundamental, y la biblioteca <code class="docutils literal notranslate"><span class="pre">pandas</span></code> de <code class="docutils literal notranslate"><span class="pre">Python</span></code> se destaca como una herramienta poderosa para este propósito.</p>
<p><code class="docutils literal notranslate"><span class="pre">Pandas</span></code> permite importar archivos de Excel de manera sencilla y convertir sus hojas de cálculo en DataFrames, que son estructuras de datos optimizadas para el análisis y la manipulación de datos. La conversión de las hojas de Excel a DataFrames facilita enormemente el trabajo con los datos, ya que pandas proporciona una amplia gama de funciones para exploración, transformación y análisis.</p>
<p>Para comenzar, se puede utilizar la función <code class="docutils literal notranslate"><span class="pre">ExcelFile</span></code> de pandas para cargar un archivo de Excel en una variable, generalmente llamada data o algún nombre descriptivo. Este objeto <code class="docutils literal notranslate"><span class="pre">ExcelFile</span></code> actúa como un contenedor del archivo de Excel, permitiendo el acceso a sus diferentes hojas sin necesidad de cargarlas todas en la memoria al mismo tiempo.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Especifica el nombre del archivo de Excel</span>
<span class="n">file</span> <span class="o">=</span> <span class="s1">&#39;_data/datamanip/urbanpop.xlsx&#39;</span> 

<span class="c1"># Carga el archivo de Excel en un objeto ExcelFile</span>
<span class="n">data</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">ExcelFile</span><span class="p">(</span><span class="n">file</span><span class="p">)</span>

<span class="c1"># Imprime la lista de nombres de las hojas en el archivo</span>
<span class="nb">print</span><span class="p">(</span><span class="n">data</span><span class="o">.</span><span class="n">sheet_names</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<p>Esto indica que el archivo contiene tres hojas de cálculo, cada una correspondiente a un rango de años diferente.</p>
<p>Una vez que conoces los nombres de las hojas, puedes cargar cualquier hoja en particular como un DataFrame para empezar a analizar los datos. Para hacer esto, utilizas el método <code class="docutils literal notranslate"><span class="pre">parse</span></code> del objeto <code class="docutils literal notranslate"><span class="pre">ExcelFile</span></code>. Este método acepta un argumento, que puede ser el nombre de la hoja como una cadena o su índice como un número entero (no como un <code class="docutils literal notranslate"><span class="pre">float</span></code>, ya que Python no acepta índices de hojas en forma de floats).</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Cargar una hoja usando su nombre</span>
<span class="n">df1</span> <span class="o">=</span> <span class="n">data</span><span class="o">.</span><span class="n">parse</span><span class="p">(</span><span class="s1">&#39;1960-1966&#39;</span><span class="p">)</span> 

<span class="c1"># Cargar una hoja usando su índice (comienza en 0)</span>
<span class="n">df2</span> <span class="o">=</span> <span class="n">data</span><span class="o">.</span><span class="n">parse</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span>  

<span class="c1"># imprimir las primeras filas</span>
<span class="nb">print</span><span class="p">(</span><span class="n">df1</span><span class="o">.</span><span class="n">head</span><span class="p">())</span>
</pre></div>
</div>
</div>
</div>
<p><code class="docutils literal notranslate"><span class="pre">pandas</span></code> es lo suficientemente inteligente para interpretar si le estás proporcionando un nombre de hoja o un índice, por lo que puedes utilizar cualquiera de los dos métodos según tu preferencia.</p>
<p>El método <code class="docutils literal notranslate"><span class="pre">read_excel()</span></code> de <code class="docutils literal notranslate"><span class="pre">pandas</span></code> es una función muy útil y versátil para leer archivos de Excel directamente en un DataFrame. A diferencia de <code class="docutils literal notranslate"><span class="pre">ExcelFile</span></code> y <code class="docutils literal notranslate"><span class="pre">parse()</span></code>, que se usan en conjunto cuando necesitas trabajar con múltiples hojas de un archivo de Excel, <code class="docutils literal notranslate"><span class="pre">read_excel()</span></code> es una función de uso directo que simplifica la lectura de una o más hojas de cálculo.</p>
<div class="tip dropdown admonition">
<p class="admonition-title">¿Cuándo usar <code class="docutils literal notranslate"><span class="pre">read_excel()</span></code>?</p>
<ol class="arabic simple">
<li><p><strong>Lectura directa de una hoja de Excel</strong>: Si solo necesitas cargar una hoja específica de un archivo Excel sin necesidad de explorar todas las hojas primero, <code class="docutils literal notranslate"><span class="pre">read_excel()</span></code> es la mejor opción.</p></li>
<li><p><strong>Lectura de múltiples hojas</strong>: Puedes leer varias hojas al mismo tiempo especificando una lista de nombres o índices de hojas.</p></li>
<li><p><strong>Simplicidad</strong>: <code class="docutils literal notranslate"><span class="pre">read_excel()</span></code> es más directa y menos verbosa que el uso combinado de <code class="docutils literal notranslate"><span class="pre">ExcelFile</span></code> y <code class="docutils literal notranslate"><span class="pre">parse()</span></code>.</p></li>
</ol>
</div>
<p>Algunos ejemplos del uso de la función <code class="docutils literal notranslate"><span class="pre">read_excel()</span></code></p>
<ol class="arabic simple">
<li><p><strong>Leer una sola hoja de cálculo</strong>: Si sabes el nombre de la hoja que necesitas, puedes leerla directamente en un DataFrame:</p></li>
</ol>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Lee la hoja &#39;1960–1966&#39; del archivo Excel y la carga en un DataFrame</span>
<span class="n">df</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">read_excel</span><span class="p">(</span><span class="s1">&#39;_data/datamanip/urbanpop.xlsx&#39;</span><span class="p">,</span> <span class="n">sheet_name</span><span class="o">=</span><span class="s1">&#39;1960-1966&#39;</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<p>O si prefieres usar el índice de la hoja:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Lee la primera hoja (índice 0) del archivo Excel</span>
<span class="n">df</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">read_excel</span><span class="p">(</span><span class="s1">&#39;_data/datamanip/urbanpop.xlsx&#39;</span><span class="p">,</span> <span class="n">sheet_name</span><span class="o">=</span><span class="mi">0</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<ol class="arabic simple" start="2">
<li><p><strong>Leer múltiples hojas al mismo tiempo</strong>: Si necesitas cargar varias hojas de un archivo de Excel, <code class="docutils literal notranslate"><span class="pre">read_excel()</span></code> puede hacerlo en una sola llamada y devolver un diccionario donde las llaves son los nombres de las hojas y los valores son los DataFrames correspondientes.</p></li>
</ol>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Lee las hojas &#39;1960–1966&#39; y &#39;1975–2011&#39; del archivo Excel</span>
<span class="n">sheets</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">read_excel</span><span class="p">(</span><span class="s1">&#39;_data/datamanip/urbanpop.xlsx&#39;</span><span class="p">,</span> <span class="n">sheet_name</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;1960-1966&#39;</span><span class="p">,</span> <span class="s1">&#39;1975-2011&#39;</span><span class="p">])</span>

<span class="c1"># Accede a cada DataFrame por el nombre de la hoja</span>
<span class="n">df1</span> <span class="o">=</span> <span class="n">sheets</span><span class="p">[</span><span class="s1">&#39;1960-1966&#39;</span><span class="p">]</span>
<span class="n">df2</span> <span class="o">=</span> <span class="n">sheets</span><span class="p">[</span><span class="s1">&#39;1975-2011&#39;</span><span class="p">]</span>
</pre></div>
</div>
</div>
</div>
<ol class="arabic simple" start="3">
<li><p><strong>Leer todas las hojas de un archivo de Excel</strong>: Si quieres leer todas las hojas del archivo de Excel sin tener que especificar sus nombres, puedes hacerlo pasando <code class="docutils literal notranslate"><span class="pre">None</span></code> al argumento <code class="docutils literal notranslate"><span class="pre">sheet_name</span></code>.</p></li>
</ol>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Lee todas las hojas del archivo Excel</span>
<span class="n">all_sheets</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">read_excel</span><span class="p">(</span><span class="s1">&#39;_data/datamanip/urbanpop.xlsx&#39;</span><span class="p">,</span> <span class="n">sheet_name</span><span class="o">=</span><span class="kc">None</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<p><code class="docutils literal notranslate"><span class="pre">read_excel()</span></code> es ideal para situaciones en las que necesitas una solución rápida y directa para leer archivos de Excel en <code class="docutils literal notranslate"><span class="pre">Python</span></code>. Su simplicidad lo hace la primera opción para la mayoría de los casos de uso, mientras que <code class="docutils literal notranslate"><span class="pre">ExcelFile</span></code> y <code class="docutils literal notranslate"><span class="pre">parse()</span></code> ofrecen más flexibilidad para tareas más complejas.</p>
<p>Ahora, para exportar datos a un archivo Excel usando pandas, puedes utilizar el método <code class="docutils literal notranslate"><span class="pre">to_excel()</span></code> del DataFrame. Aquí te muestro cómo hacerlo, con opciones para personalizar la exportación. Por ejemplo</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Crear un DataFrame</span>
<span class="n">data</span> <span class="o">=</span> <span class="p">{</span>
    <span class="s1">&#39;Columna1&#39;</span><span class="p">:</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">7</span><span class="p">],</span>
    <span class="s1">&#39;Columna2&#39;</span><span class="p">:</span> <span class="p">[</span><span class="mi">2</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="mi">8</span><span class="p">],</span>
    <span class="s1">&#39;Columna3&#39;</span><span class="p">:</span> <span class="p">[</span><span class="mi">3</span><span class="p">,</span> <span class="mi">6</span><span class="p">,</span> <span class="mi">9</span><span class="p">]</span>
<span class="p">}</span>
<span class="n">df</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">(</span><span class="n">data</span><span class="p">)</span>

<span class="c1"># Guardar el DataFrame en un archivo Excel</span>
<span class="n">df</span><span class="o">.</span><span class="n">to_excel</span><span class="p">(</span><span class="s1">&#39;_data/datamanip/archivo_nuevo.xlsx&#39;</span><span class="p">,</span> <span class="n">index</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<p>Si quieres exportar a múltiples hojas de un archivo excel, puedes guardar diferentes DataFrames en diferentes hojas del mismo archivo Excel usando un <code class="docutils literal notranslate"><span class="pre">ExcelWriter</span></code>:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="k">with</span> <span class="n">pd</span><span class="o">.</span><span class="n">ExcelWriter</span><span class="p">(</span><span class="s1">&#39;_data/datamanip/archivo_multihojas.xlsx&#39;</span><span class="p">)</span> <span class="k">as</span> <span class="n">writer</span><span class="p">:</span>
    <span class="n">df1</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">({</span><span class="s1">&#39;A&#39;</span><span class="p">:</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">],</span> <span class="s1">&#39;B&#39;</span><span class="p">:</span> <span class="p">[</span><span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">]})</span>
    <span class="n">df2</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">({</span><span class="s1">&#39;X&#39;</span><span class="p">:</span> <span class="p">[</span><span class="mi">5</span><span class="p">,</span> <span class="mi">6</span><span class="p">],</span> <span class="s1">&#39;Y&#39;</span><span class="p">:</span> <span class="p">[</span><span class="mi">7</span><span class="p">,</span> <span class="mi">8</span><span class="p">]})</span>
    
    <span class="c1"># Guardar DataFrames en hojas diferentes</span>
    <span class="n">df1</span><span class="o">.</span><span class="n">to_excel</span><span class="p">(</span><span class="n">writer</span><span class="p">,</span> <span class="n">sheet_name</span><span class="o">=</span><span class="s1">&#39;Hoja1&#39;</span><span class="p">,</span> <span class="n">index</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
    <span class="n">df2</span><span class="o">.</span><span class="n">to_excel</span><span class="p">(</span><span class="n">writer</span><span class="p">,</span> <span class="n">sheet_name</span><span class="o">=</span><span class="s1">&#39;Hoja2&#39;</span><span class="p">,</span> <span class="n">index</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<div class="tip admonition">
<p class="admonition-title"><strong>Ejercicios</strong></p>
<ol class="arabic simple">
<li><p>Complete el código:</p></li>
</ol>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="c1"># Asigna el nombre del archivo de excel battledeath: file</span>
<span class="c1"># TU CÓDIGO</span>

<span class="c1"># Cargar hoja de cálculo: xls</span>
<span class="c1"># TU CÓDIGO</span>

<span class="c1"># Imprimir nombres de hojas</span>
<span class="c1"># TU CÓDIGO</span>
</pre></div>
</div>
<ol class="arabic simple" start="2">
<li><p>Usando el punto anterior: Complete</p></li>
</ol>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="c1"># Cargar una hoja en un DataFrame por nombre: df1</span>
<span class="n">df1</span> <span class="o">=</span> <span class="n">xls</span><span class="o">.</span><span class="n">parse</span><span class="p">(</span><span class="n">__TU</span> <span class="n">CÓDIGO__</span><span class="p">)</span>

<span class="c1"># Imprimir las primeras filas del DataFrame df1</span>
<span class="nb">print</span><span class="p">(</span><span class="n">__TU</span> <span class="n">CÓDIGO__</span><span class="p">)</span>

<span class="c1"># Cargar una hoja en un DataFrame por índice: df2</span>
<span class="n">df2</span> <span class="o">=</span> <span class="n">xls</span><span class="o">.</span><span class="n">parse</span><span class="p">(</span><span class="n">__TU</span> <span class="n">CÓDIGO__</span><span class="p">)</span>

<span class="c1"># Imprimir las primeras filas del DataFrame df2</span>
<span class="nb">print</span><span class="p">(</span><span class="n">__TU</span> <span class="n">CÓDIGO__</span><span class="p">)</span>
</pre></div>
</div>
<ol class="arabic simple" start="3">
<li><p>Usando el punto anterior. Complete en código en python. Sugerencia: Los valores pasados a <code class="docutils literal notranslate"><span class="pre">skiprows</span></code> y names deben ser todos del tipo <code class="docutils literal notranslate"><span class="pre">list</span></code></p></li>
</ol>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="c1"># Analizar la primera hoja y renombrar las columnas: df1</span>
<span class="n">df1</span> <span class="o">=</span> <span class="n">xls</span><span class="o">.</span><span class="n">parse</span><span class="p">(</span><span class="n">__TU</span> <span class="n">CÓDIGO__</span><span class="p">,</span> <span class="n">skiprows</span><span class="o">=</span><span class="n">__TU</span> <span class="n">CÓDIGO__</span><span class="p">,</span> <span class="n">names</span><span class="o">=</span><span class="n">__TU</span> <span class="n">CÓDIGO__</span><span class="p">)</span>

<span class="c1"># Imprimir las primeras filas del DataFrame df1</span>
<span class="nb">print</span><span class="p">(</span><span class="n">df1</span><span class="o">.</span><span class="n">head</span><span class="p">())</span>

<span class="c1"># Analizar la primera columna de la segunda hoja y renombrar la columna: df2</span>
<span class="n">df2</span> <span class="o">=</span> <span class="n">xls</span><span class="o">.</span><span class="n">parse</span><span class="p">(</span><span class="n">__TU</span> <span class="n">CÓDIGO__</span><span class="p">,</span> <span class="n">usecols</span><span class="o">=</span><span class="n">__TU</span> <span class="n">CÓDIGO__</span><span class="p">,</span> <span class="n">skiprows</span><span class="o">=</span><span class="n">__TU</span> <span class="n">CÓDIGO__</span><span class="p">,</span> <span class="n">names</span><span class="o">=</span><span class="n">__TU</span> <span class="n">CÓDIGO__</span><span class="p">)</span>

<span class="c1"># Imprimir las primeras filas del DataFrame df2</span>
<span class="nb">print</span><span class="p">(</span><span class="n">df2</span><span class="o">.</span><span class="n">head</span><span class="p">())</span>

</pre></div>
</div>
</div>
</section>
<section id="importacion-de-archivos-sas-y-stata-usando-pandas">
<h3><strong>Importación de archivos SAS y Stata usando Pandas</strong><a class="headerlink" href="#importacion-de-archivos-sas-y-stata-usando-pandas" title="Permalink to this heading">#</a></h3>
<p>Hay una amplia variedad de paquetes de software estadístico disponibles, y aunque no siempre necesites utilizarlos, como científico de datos es fundamental que puedas importar archivos de estos paquetes a tu entorno Python de manera efectiva. Esta habilidad te permitirá integrar y analizar datos de diversas fuentes, ampliando tu capacidad para realizar análisis más completos y profundos.</p>
<section id="importacion-de-archivos-sas">
<h4><strong>Importación de archivos SAS</strong>.<a class="headerlink" href="#importacion-de-archivos-sas" title="Permalink to this heading">#</a></h4>
<p><strong>SAS</strong>: Acrónimo de <em>Statistical Analysis System</em> (Sistema de Análisis Estadístico). Es un software popular en análisis de negocios y bioestadística. Los archivos SAS son formatos utilizados en el software SAS para realizar análisis avanzados, multivariados, inteligencia empresarial, gestión de datos, análisis predictivos y es un estándar para que los estadísticos realicen análisis computacionales. La extensión común es <code class="docutils literal notranslate"><span class="pre">.sas7bdat</span></code> que sirve para archivos de conjunto de datos.</p>
<p>Miremos un ejemplo de la importación de estos archivos:</p>
<p>Antes de usar el paquete <code class="docutils literal notranslate"><span class="pre">sas7bdat</span></code>, se debe instalar con <code class="docutils literal notranslate"><span class="pre">pip</span> <span class="pre">install</span> <span class="pre">sas7bdat</span></code></p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span> <span class="c1"># Importa la clase SAS7BDAT del paquete sas7bdat</span>
<span class="kn">from</span> <span class="nn">sas7bdat</span> <span class="kn">import</span> <span class="n">SAS7BDAT</span> 

<span class="c1"># Abre el archivo SAS usando un administrador de contexto</span>
<span class="k">with</span> <span class="n">SAS7BDAT</span><span class="p">(</span><span class="s1">&#39;_data/datamanip/sales.sas7bdat&#39;</span><span class="p">)</span> <span class="k">as</span> <span class="n">file</span><span class="p">:</span>
    <span class="n">df_sas</span> <span class="o">=</span> <span class="n">file</span><span class="o">.</span><span class="n">to_data_frame</span><span class="p">()</span>

<span class="c1"># imprimir</span>
<span class="nb">print</span><span class="p">(</span><span class="n">df_sas</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<div class="tip dropdown admonition">
<p class="admonition-title">¿Por qué mportar archivos SAS:?</p>
<p>SAS es un estándar en la industria para el análisis estadístico, especialmente en sectores como la bioestadística y análisis de negocios, por lo que la habilidad de importar y manejar estos archivos en Python es esencial para científicos de datos.</p>
</div>
<p>Para exportar directamente a <code class="docutils literal notranslate"><span class="pre">.sas7bdat</span></code>, <em>tendrás que usar herramientas externas o software como SAS</em> . Alternativamente, podrías buscar librerías específicas para manejar archivos SAS en lugar de intentar escribir directamente en ese formato desde pandas.</p>
</section>
<section id="importacion-de-archivos-stata">
<h4><strong>Importación de Archivos Stata</strong>.<a class="headerlink" href="#importacion-de-archivos-stata" title="Permalink to this heading">#</a></h4>
<p><strong>Stata</strong>: Un software de análisis estadístico y gestión de datos, especialmente valorado en investigación académica, incluyendo economía y epidemiología. Su área de uso es predominantemente utilizado en ciencias sociales y en investigación académica.</p>
<p>Los archivos Stata tienen la extensión <code class="docutils literal notranslate"><span class="pre">.dta</span></code> y podemos importarlos usando <code class="docutils literal notranslate"><span class="pre">pandas</span></code>. ¡Ni siquiera necesitamos inicializar un administrador de contexto en este caso! Simplemente pasamos el nombre del archivo a la función <code class="docutils literal notranslate"><span class="pre">read_stata</span></code> y lo asignamos a una variable, tal como se muestra a continuación:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Leer el archivo Stata</span>
<span class="n">df_stata</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">read_stata</span><span class="p">(</span><span class="s1">&#39;_data/datamanip/disarea.dta&#39;</span><span class="p">)</span>
<span class="n">df_stata</span>
</pre></div>
</div>
</div>
</div>
<p>Ahora, para exportar archivos Stata (<code class="docutils literal notranslate"><span class="pre">.dta</span></code>) desde Python, puedes usar la biblioteca <code class="docutils literal notranslate"><span class="pre">pandas</span></code>, que tiene soporte nativo para leer y escribir archivos en formato Stata.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Crear un DataFrame de ejemplo</span>
<span class="n">df</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">({</span>
    <span class="s1">&#39;columna1&#39;</span><span class="p">:</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">],</span>
    <span class="s1">&#39;columna2&#39;</span><span class="p">:</span> <span class="p">[</span><span class="s1">&#39;A&#39;</span><span class="p">,</span> <span class="s1">&#39;B&#39;</span><span class="p">,</span> <span class="s1">&#39;C&#39;</span><span class="p">]</span>
<span class="p">})</span>

<span class="c1"># Especifica el nombre del archivo de salida</span>
<span class="n">archivo_stata</span> <span class="o">=</span> <span class="s1">&#39;_data/datamanip/datos_exportados.dta&#39;</span>

<span class="c1"># Exporta el DataFrame a un archivo Stata (.dta)</span>
<span class="n">df</span><span class="o">.</span><span class="n">to_stata</span><span class="p">(</span><span class="n">archivo_stata</span><span class="p">,</span> <span class="n">write_index</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<p>Este método te permite exportar tus datos desde un DataFrame de <code class="docutils literal notranslate"><span class="pre">pandas</span></code> a un archivo Stata (<code class="docutils literal notranslate"><span class="pre">.dta</span></code>) de manera sencilla y efectiva.</p>
<div class="tip admonition">
<p class="admonition-title"><strong>Ejercicios</strong></p>
<ol class="arabic simple">
<li><p>Instala el paquete <code class="docutils literal notranslate"><span class="pre">h5py</span></code> y completa el código</p></li>
</ol>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="c1"># Importar paquetes de numpy y h5py</span>
<span class="c1"># TU CODIGO</span>

<span class="c1"># Asigna el nombre del archivo a la variable file y use L-L1_LOSC_4_V1-1126259446-32</span>
<span class="c1"># TU CODIGO</span>

<span class="c1"># Carga el archivo como sólo lectura en la variable data</span>
<span class="n">data</span> <span class="o">=</span> <span class="n">h5py</span><span class="o">.</span><span class="n">File</span><span class="p">(</span><span class="n">__</span><span class="c1"># TU CODIGO__, __# TU CODIGO__)</span>

<span class="c1"># Imprime el tipo de dato de data</span>
<span class="c1"># TU CODIGO</span>

<span class="c1"># Imprime los nombres o claves grpde los grupos en el archivo</span>
<span class="k">for</span> <span class="n">key</span> <span class="ow">in</span> <span class="n">__</span><span class="c1"># TU CODIGO__:</span>
    <span class="nb">print</span><span class="p">(</span><span class="n">__</span><span class="c1"># TU CODIGO__)</span>
</pre></div>
</div>
<ol class="arabic simple" start="2">
<li><p>Instale el paquete <code class="docutils literal notranslate"><span class="pre">sqlalchemy</span></code> y complete el siguiente código</p></li>
</ol>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="c1"># Crea el engine</span>
<span class="c1"># Importa la función create_engine, inspect del módulo sqlalchemy</span>
<span class="c1"># TU CODIGO</span>

<span class="c1"># un motor que se conecte a la base de datos SQLite</span>
<span class="n">engine</span> <span class="o">=</span> <span class="n">create_engine</span><span class="p">(</span><span class="s1">&#39;sqlite:///_data/datamanip/Chinook.sqlite&#39;</span><span class="p">)</span>

<span class="c1"># Usa el Inspector para obtener los nombres de las tablas</span>
<span class="n">inspector</span> <span class="o">=</span> <span class="c1"># TU CODIGO</span>
<span class="n">table_names</span> <span class="o">=</span> <span class="n">inspector</span><span class="o">.</span><span class="n">get_table_names</span><span class="p">()</span>

<span class="c1"># Imprime los nombres de las tablas</span>
<span class="c1"># TU CODIGO</span>
</pre></div>
</div>
<p>Despues, veamos cómo hacer cada uno de estos pasos para obtener un DataFrame</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">sqlalchemy</span> <span class="kn">import</span> <span class="n">text</span>

<span class="c1"># Abre la conexión al engine</span>
<span class="k">with</span> <span class="n">engine</span><span class="o">.</span><span class="n">connect</span><span class="p">()</span> <span class="k">as</span> <span class="n">con</span><span class="p">:</span>
    <span class="c1"># Ejecutar la consulta usando text()</span>
    <span class="n">rs</span> <span class="o">=</span> <span class="n">con</span><span class="o">.</span><span class="n">execute</span><span class="p">(</span><span class="n">text</span><span class="p">(</span><span class="s1">&#39;SELECT * FROM Album&#39;</span><span class="p">))</span>

    <span class="c1"># Convertir el resultado en un DataFrame de pandas</span>
    <span class="n">df</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">(</span><span class="n">rs</span><span class="o">.</span><span class="n">fetchall</span><span class="p">())</span>

    <span class="c1"># Asignar los nombres de las columnas</span>
    <span class="n">df</span><span class="o">.</span><span class="n">columns</span> <span class="o">=</span> <span class="n">rs</span><span class="o">.</span><span class="n">keys</span><span class="p">()</span>

<span class="c1"># Mostrar el DataFrame</span>
<span class="nb">print</span><span class="p">(</span><span class="n">df</span><span class="o">.</span><span class="n">head</span><span class="p">())</span>
</pre></div>
</div>
<p>Conectarse a los datos de album es más facil con <code class="docutils literal notranslate"><span class="pre">pandas</span></code>:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="c1"># Ejecutar la consulta y almacenar los registros en un DataFrame: df</span>
<span class="n">df</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">read_sql_query</span><span class="p">(</span><span class="s1">&#39;SELECT * FROM Album&#39;</span><span class="p">,</span> <span class="n">engine</span><span class="p">)</span>

<span class="c1"># Imprimir las primeras filas del DataFrame</span>
<span class="nb">print</span><span class="p">(</span><span class="n">df</span><span class="o">.</span><span class="n">head</span><span class="p">())</span>
</pre></div>
</div>
</div>
</section>
</section>
<section id="importacion-de-ficheros-planos-desde-la-web">
<h3><strong>Importación de ficheros planos desde la web</strong><a class="headerlink" href="#importacion-de-ficheros-planos-desde-la-web" title="Permalink to this heading">#</a></h3>
<p>Ahora puedes importar datos en Python desde todo tipo de archivos planos como <code class="docutils literal notranslate"><span class="pre">.txt</span></code>, <code class="docutils literal notranslate"><span class="pre">.csv</span></code>, otros tipos de archivos como archivos <code class="docutils literal notranslate"><span class="pre">pickled</span></code>, hojas de cálculo de Excel y archivos SAS y Stata. También has adquirido una valiosa experiencia en la consulta de bases de datos relacionales para importar datos de ellas mediante SQL. Sin embargo, <em>todas estas habilidades implican la importación de datos de archivos que tiene localmente</em>. Sin embargo, estas habilidades usualmente implican trabajar con archivos locales. En muchos casos, como científico de datos, necesitarás <strong>importar datos directamente desde la web</strong>.</p>
<p>Por ejemplo, supongamos que necesitas obtener el conjunto de datos de unas campañas de marketing directo (llamadas telefónicas) de una institución bancaria portuguesa desde el repositorio de GitHub de cdeoroaguado. Aunque puedes hacerlo manualmente usando un navegador, este método no es reproducible ni escalable. Es más eficiente y profesional utilizar código Python para automatizar la descarga e importación de estos datos.</p>
<p>Para hacer el proceso de importación desde la Web debemos tener algunos conceptos claros.</p>
<p>El paquete <code class="docutils literal notranslate"><span class="pre">urllib</span></code> en Python proporciona una interfaz de alto nivel para obtener datos de la World Wide Web. En particular, la función <code class="docutils literal notranslate"><span class="pre">urlopen</span></code> es similar a la función integrada <code class="docutils literal notranslate"><span class="pre">open</span></code>, pero acepta URLs en lugar de nombres de archivo.</p>
<div class="admonition-caracteristicas-de-urllib admonition">
<p class="admonition-title"><strong>Características de <code class="docutils literal notranslate"><span class="pre">urllib</span></code></strong></p>
<p><code class="docutils literal notranslate"><span class="pre">urllib</span></code> tiene algunas funciones inmersas. Algunas son:</p>
<ul class="simple">
<li><p><strong>urlopen</strong>: Abre una URL y devuelve un objeto similar a un archivo.</p></li>
<li><p><strong>urlretrieve</strong>: Descarga archivos directamente desde una URL y los guarda localmente.</p></li>
</ul>
</div>
<div class="warning admonition">
<p class="admonition-title"><strong>Observación</strong></p>
<ul class="simple">
<li><p>Es útil para tareas sencillas de importación de datos desde la web.</p></li>
<li><p>Para tareas más complejas, podrías considerar el uso de <code class="docutils literal notranslate"><span class="pre">requests</span></code> junto con <code class="docutils literal notranslate"><span class="pre">BeautifulSoup</span></code>.</p></li>
</ul>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Importar el paquete</span>
<span class="kn">from</span> <span class="nn">urllib.request</span> <span class="kn">import</span> <span class="n">urlretrieve</span>

<span class="c1"># Importar pandas</span>
<span class="kn">import</span> <span class="nn">pandas</span> <span class="k">as</span> <span class="nn">pd</span>

<span class="c1"># Asignar la URL del archivo: url</span>
<span class="n">url</span> <span class="o">=</span><span class="s1">&#39;https://raw.githubusercontent.com/cdeoroaguado/jbook_ml202430/main/data/bank/bank.csv&#39;</span>

<span class="c1"># Guardar el archivo localmente</span>
<span class="n">urlretrieve</span><span class="p">(</span><span class="n">url</span><span class="p">,</span><span class="s1">&#39;_data/datamanip/bank.csv&#39;</span><span class="p">)</span>

<span class="c1"># Leer el archivo en un DataFrame y mostrar sus primeras filas</span>
<span class="n">df</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">read_csv</span><span class="p">(</span><span class="s1">&#39;_data/datamanip/bank.csv&#39;</span><span class="p">,</span> <span class="n">sep</span><span class="o">=</span><span class="s1">&#39;;&#39;</span><span class="p">)</span>

<span class="c1"># Imprimir el encabezado del dataframe</span>
<span class="n">df</span><span class="o">.</span><span class="n">head</span><span class="p">()</span>
</pre></div>
</div>
</div>
</div>
<p>Tambíen, podias hacer la lectura de los datos, <em>sin descargalos</em>. Por ejemplo</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Asignar la URL del archivo: url</span>
<span class="n">url</span> <span class="o">=</span><span class="s1">&#39;https://raw.githubusercontent.com/cdeoroaguado/jbook_ml202430/main/data/bank/bank.csv&#39;</span>

<span class="c1"># leer el archivo en u dataframe:df</span>
<span class="n">df</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">read_csv</span><span class="p">(</span><span class="n">url</span><span class="p">,</span><span class="n">sep</span><span class="o">=</span><span class="s1">&#39;;&#39;</span><span class="p">)</span>

<span class="c1"># Imprimir el encabezado del dataframe</span>
<span class="n">df</span><span class="o">.</span><span class="n">head</span><span class="p">()</span>
</pre></div>
</div>
</div>
</div>
</section>
</section>
<section id="manipulacion-de-datos-con-pandas">
<h2><strong>Manipulación de datos con pandas</strong><a class="headerlink" href="#manipulacion-de-datos-con-pandas" title="Permalink to this heading">#</a></h2>
<p>La librería <code class="docutils literal notranslate"><span class="pre">pandas</span></code> (cuyo nombre deriva de <em>panel data</em>, un término utilizado para describir conjuntos de datos estructurados y multidimensionales) ofrece potentes estructuras de datos y funciones de alto nivel que facilitan el trabajo con datos estructurados de manera eficiente y cómoda. Es una herramienta esencial en el análisis de datos, ampliamente utilizada por su versatilidad y funcionalidad.</p>
<figure class="align-center" id="imagen-de-pandas">
<a class="reference internal image-reference" href="_images/pandas.png"><img alt="_images/pandas.png" src="_images/pandas.png" style="width: 176.5px; height: 71.5px;" /></a>
</figure>
<p>Entre los principales objetos que proporciona pandas se encuentran el <code class="docutils literal notranslate"><span class="pre">DataFrame</span></code>, una estructura tabular bidimensional, la <code class="docutils literal notranslate"><span class="pre">Serie</span></code>, ambos construidos sobre arrays multidimensionales de <code class="docutils literal notranslate"><span class="pre">NumPy</span></code> y el <code class="docutils literal notranslate"><span class="pre">Panel</span></code>, que representa un cubo de datos tridimensional. Aunque <code class="docutils literal notranslate"><span class="pre">NumPy</span></code> es excelente para el almacenamiento eficiente de datos con su estructura `ndarray, presenta ciertas limitaciones en análisis más complejos. Estas limitaciones incluyen la falta de flexibilidad para aplicar etiquetas a los datos, gestionar valores faltantes, realizar agrupaciones, entre otros. Pandas supera estas barreras con sus estructuras de datos avanzadas, proporcionando una mayor flexibilidad y funcionalidad.</p>
<p>Para más información, puedes consultar la <a class="reference external" href="https://pandas.pydata.org/">documentación oficial de pandas</a>, donde encontrarás recursos y ejemplos detallados para aprovechar al máximo esta poderosa librería.</p>
<p><strong>Recordemos algunas cosas de <code class="docutils literal notranslate"><span class="pre">pandas</span></code></strong></p>
<p>Para iniciar el proceso de creación, manipulación, entre otras debemos instalar el ia en el terminal. <strong>Recuerde activar el ambiente</strong>.</p>
<p><img alt="installpandas" src="_images/installpandas.png" /></p>
<p>Importemos la libreria <code class="docutils literal notranslate"><span class="pre">numpy</span></code> y <code class="docutils literal notranslate"><span class="pre">pandas</span></code></p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">pandas</span> <span class="k">as</span> <span class="nn">pd</span>
<span class="kn">import</span> <span class="nn">numpy</span> <span class="k">as</span> <span class="nn">np</span>
</pre></div>
</div>
</div>
</div>
<p>Ahora, daremos los conceptos y ejemplos de una <code class="docutils literal notranslate"><span class="pre">series</span></code>.</p>
<section id="series">
<h3><strong>Series</strong><a class="headerlink" href="#series" title="Permalink to this heading">#</a></h3>
<p>Las <code class="docutils literal notranslate"><span class="pre">series</span></code> son estructuras similares a los arrays unidimensionales que ya hemos visto, con la diferencia de que también son homogéneas. Esto significa que todos sus elementos deben ser del mismo tipo y que su tamaño es fijo, es decir, no se puede modificar una vez definido.</p>
<p>Vamos a comenzar creando una serie a partir de una lista. Primero, necesitamos definir una lista con algunos datos. Por ejemplo:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Definimos una lista de trabajos</span>
<span class="n">trabajos</span> <span class="o">=</span> <span class="p">[</span><span class="s2">&quot;Ingeniero de Software&quot;</span><span class="p">,</span> <span class="s2">&quot;Analista de Datos&quot;</span><span class="p">,</span>
            <span class="s2">&quot;Diseñador UX&quot;</span><span class="p">,</span> <span class="s2">&quot;Gerente de Producto&quot;</span><span class="p">,</span>
            <span class="s2">&quot;Científico de datos&quot;</span><span class="p">]</span>

<span class="c1"># Creamos un índice personalizado para estos trabajos</span>
<span class="n">indices</span> <span class="o">=</span> <span class="p">[</span><span class="s2">&quot;Empresa1&quot;</span><span class="p">,</span> <span class="s2">&quot;Empresa2&quot;</span><span class="p">,</span> <span class="s2">&quot;Empresa3&quot;</span><span class="p">,</span> 
           <span class="s2">&quot;Empresa4&quot;</span><span class="p">,</span><span class="s2">&quot;Empresa5&quot;</span><span class="p">]</span>
</pre></div>
</div>
</div>
</div>
<p>Para crear la serie en Pandas usando estos datos y con indices personalizados, utilizamos el siguiente código:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Creamos una serie con los trabajos</span>
<span class="n">serie</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">Series</span><span class="p">(</span><span class="n">data</span><span class="o">=</span><span class="n">trabajos</span><span class="p">,</span> <span class="n">dtype</span><span class="o">=</span><span class="s2">&quot;string&quot;</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">serie</span><span class="p">)</span>

<span class="c1"># Creamos una serie con el índice personalizado</span>
<span class="n">serie</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">Series</span><span class="p">(</span><span class="n">data</span><span class="o">=</span><span class="n">trabajos</span><span class="p">,</span> <span class="n">index</span><span class="o">=</span><span class="n">indices</span><span class="p">,</span> <span class="n">dtype</span><span class="o">=</span><span class="s2">&quot;string&quot;</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">serie</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<p>Ahora, vamos a crear una serie a partir de un diccionario</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Definimos un diccionario con trabajos y sus respectivos salarios</span>
<span class="n">diccionario</span> <span class="o">=</span> <span class="p">{</span>
    <span class="s2">&quot;Ingeniero de Software&quot;</span><span class="p">:</span> <span class="mi">70000</span><span class="p">,</span>
    <span class="s2">&quot;Analista de Datos&quot;</span><span class="p">:</span> <span class="mi">60000</span><span class="p">,</span>
    <span class="s2">&quot;Diseñador UX&quot;</span><span class="p">:</span> <span class="mi">65000</span><span class="p">,</span>
    <span class="s2">&quot;Gerente de Producto&quot;</span><span class="p">:</span> <span class="mi">80000</span><span class="p">,</span>
    <span class="s2">&quot;Científico de datos&quot;</span><span class="p">:</span> <span class="mi">65000</span>
<span class="p">}</span>

<span class="c1"># Creamos una serie a partir del diccionario</span>
<span class="n">serie_diccionario</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">Series</span><span class="p">(</span><span class="n">diccionario</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">serie_diccionario</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<p>Para explorar algunos atributos de la <code class="docutils literal notranslate"><span class="pre">serie</span></code>, puedes usar los siguientes métodos:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Tamaño de nuestra serie</span>
<span class="nb">print</span><span class="p">(</span><span class="n">serie_diccionario</span><span class="o">.</span><span class="n">size</span><span class="p">)</span>

<span class="c1"># imprimir la lista de los nombres de las filas</span>
<span class="nb">print</span><span class="p">(</span><span class="n">serie_diccionario</span><span class="o">.</span><span class="n">index</span><span class="p">)</span>

<span class="c1"># imprimir el tipo de datos</span>
<span class="nb">print</span><span class="p">(</span><span class="n">serie_diccionario</span><span class="o">.</span><span class="n">dtype</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<p>Para acceder a los elementos de la <code class="docutils literal notranslate"><span class="pre">serie</span></code></p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Accedemos a un elemento específico usando su índice</span>
<span class="nb">print</span><span class="p">(</span><span class="n">serie_diccionario</span><span class="p">[</span><span class="s2">&quot;Ingeniero de Software&quot;</span><span class="p">])</span>  

<span class="c1"># Accedemos a un rango de valores</span>
<span class="nb">print</span><span class="p">(</span><span class="n">serie_diccionario</span><span class="p">[</span><span class="mi">0</span><span class="p">:</span><span class="mi">3</span><span class="p">])</span>  

<span class="c1"># Accedemos a múltiples elementos usando una lista de índices</span>
<span class="nb">print</span><span class="p">(</span><span class="n">serie_diccionario</span><span class="p">[[</span><span class="s2">&quot;Diseñador UX&quot;</span><span class="p">,</span> <span class="s2">&quot;Analista de Datos&quot;</span><span class="p">]])</span>
</pre></div>
</div>
</div>
</div>
<p>También puedes utilizar algunos métodos útiles para análisis, como:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Usamos métodos para obtener estadísticas de la serie</span>
<span class="nb">print</span><span class="p">(</span><span class="n">serie_diccionario</span><span class="o">.</span><span class="n">count</span><span class="p">())</span>  <span class="c1"># Conteo de elementos no nulos</span>
<span class="nb">print</span><span class="p">(</span><span class="n">serie_diccionario</span><span class="o">.</span><span class="n">sum</span><span class="p">())</span>  <span class="c1"># Suma de los valores</span>
<span class="nb">print</span><span class="p">(</span><span class="n">serie_diccionario</span><span class="o">.</span><span class="n">cumsum</span><span class="p">())</span>  <span class="c1"># Valores acumulados</span>
<span class="nb">print</span><span class="p">(</span><span class="n">serie_diccionario</span><span class="o">.</span><span class="n">value_counts</span><span class="p">())</span>  <span class="c1"># Conteo de valores repetidos</span>
<span class="nb">print</span><span class="p">(</span><span class="n">serie_diccionario</span><span class="o">.</span><span class="n">min</span><span class="p">())</span>  <span class="c1"># Valor mínimo</span>
<span class="nb">print</span><span class="p">(</span><span class="n">serie_diccionario</span><span class="o">.</span><span class="n">max</span><span class="p">())</span>  <span class="c1"># Valor máximo</span>
<span class="nb">print</span><span class="p">(</span><span class="n">serie_diccionario</span><span class="o">.</span><span class="n">mean</span><span class="p">())</span>  <span class="c1"># Media de los valores</span>
<span class="nb">print</span><span class="p">(</span><span class="n">serie_diccionario</span><span class="o">.</span><span class="n">std</span><span class="p">())</span>  <span class="c1"># Desviación estándar</span>
<span class="nb">print</span><span class="p">(</span><span class="n">serie_diccionario</span><span class="o">.</span><span class="n">quantile</span><span class="p">(</span><span class="mf">0.25</span><span class="p">))</span>  <span class="c1"># Cuantil 1 (25%)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">serie_diccionario</span><span class="o">.</span><span class="n">quantile</span><span class="p">(</span><span class="mf">0.75</span><span class="p">))</span>  <span class="c1"># Cuantil 3 (75%)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">serie_diccionario</span><span class="o">.</span><span class="n">describe</span><span class="p">())</span>  <span class="c1"># Resumen descriptivo de la serie</span>
</pre></div>
</div>
</div>
</div>
<p>Exploraremos cómo aplicar operaciones matemáticas y funciones a series de datos relacionadas con bancos, así como buscar información mediante condiciones, ordenar series y eliminar datos nulos o desconocidos.</p>
<ol class="arabic simple">
<li><p><strong>Operaciones Matemáticas Básicas</strong></p></li>
</ol>
<p>Primero, veremos cómo aplicar operaciones matemáticas a una serie que representa los saldos de las cuentas bancarias. A continuación, presentamos algunos ejemplos prácticos:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Una serie con saldos de cuentas bancarias</span>

<span class="n">saldos</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">Series</span><span class="p">([</span><span class="mi">1500</span><span class="p">,</span> <span class="mi">2000</span><span class="p">,</span> <span class="mi">2500</span><span class="p">,</span> <span class="mi">3000</span><span class="p">,</span> <span class="mi">3500</span><span class="p">])</span>

<span class="c1"># Aumentar en 100 cada saldo</span>
<span class="n">saldos</span> <span class="o">=</span> <span class="n">saldos</span> <span class="o">+</span> <span class="mi">100</span>
<span class="nb">print</span><span class="p">(</span><span class="n">saldos</span><span class="p">)</span>

<span class="c1"># Restar 200 a cada saldo</span>
<span class="n">saldos</span> <span class="o">=</span> <span class="n">saldos</span> <span class="o">-</span> <span class="mi">200</span>
<span class="nb">print</span><span class="p">(</span><span class="n">saldos</span><span class="p">)</span>

<span class="c1"># Multiplicar cada saldo por 1.05 (aplicando un aumento del 5%)</span>
<span class="n">saldos</span> <span class="o">=</span> <span class="n">saldos</span> <span class="o">*</span> <span class="mf">1.05</span>
<span class="nb">print</span><span class="p">(</span><span class="n">saldos</span><span class="p">)</span>

<span class="c1"># Dividir cada saldo por 2</span>
<span class="n">saldos</span> <span class="o">=</span> <span class="n">saldos</span> <span class="o">/</span> <span class="mi">2</span>
<span class="nb">print</span><span class="p">(</span><span class="n">saldos</span><span class="p">)</span>

<span class="c1"># Comprobar si los saldos son pares o impares</span>
<span class="nb">print</span><span class="p">(</span><span class="n">saldos</span> <span class="o">%</span> <span class="mi">2</span><span class="p">)</span>

<span class="c1"># Aplicar la función logaritmo a cada saldo</span>
<span class="nb">print</span><span class="p">(</span><span class="n">saldos</span><span class="o">.</span><span class="n">apply</span><span class="p">(</span><span class="k">lambda</span> <span class="n">x</span><span class="p">:</span> <span class="n">np</span><span class="o">.</span><span class="n">log</span><span class="p">(</span><span class="n">x</span><span class="p">)))</span>
</pre></div>
</div>
</div>
</div>
<p>Podemos aplicar funciones matemáticas a los saldos usando el método <code class="docutils literal notranslate"><span class="pre">apply</span></code>.Para ello debe importar el paquete <code class="docutils literal notranslate"><span class="pre">math</span></code>. Por ejemplo, para calcular el seno de cada saldo:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">math</span>

<span class="c1"># Calcular el seno de los salarios</span>
<span class="nb">print</span><span class="p">(</span><span class="n">saldos</span><span class="o">.</span><span class="n">apply</span><span class="p">(</span><span class="n">math</span><span class="o">.</span><span class="n">sin</span><span class="p">))</span>
</pre></div>
</div>
</div>
</div>
<ol class="arabic simple" start="2">
<li><p><strong>Operaciones con Datos de Tipo String</strong></p></li>
</ol>
<p>Supongamos que tenemos una serie con nombres de bancos y queremos repetir cada nombre un número específico de veces:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Crear una serie con nombres de bancos</span>
<span class="n">bancos</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">Series</span><span class="p">([</span><span class="s1">&#39;banco A&#39;</span><span class="p">,</span> <span class="s1">&#39;banco B&#39;</span><span class="p">,</span> <span class="s1">&#39;banco C&#39;</span><span class="p">])</span>

<span class="c1"># Repetir cada nombre 3 veces</span>
<span class="nb">print</span><span class="p">(</span><span class="n">bancos</span><span class="o">.</span><span class="n">apply</span><span class="p">(</span><span class="k">lambda</span> <span class="n">x</span><span class="p">:</span> <span class="n">x</span> <span class="o">*</span> <span class="mi">3</span><span class="p">))</span>

<span class="c1"># Capitalizar el nombre de cada banco</span>
<span class="nb">print</span><span class="p">(</span><span class="n">bancos</span><span class="o">.</span><span class="n">str</span><span class="o">.</span><span class="n">title</span><span class="p">())</span>

<span class="c1"># Convertir todos los caracteres a minúsculas</span>
<span class="nb">print</span><span class="p">(</span><span class="n">bancos</span><span class="o">.</span><span class="n">str</span><span class="o">.</span><span class="n">lower</span><span class="p">())</span>

<span class="c1"># Convertir todos los caracteres a mayúsculas</span>
<span class="nb">print</span><span class="p">(</span><span class="nb">print</span><span class="p">(</span><span class="n">bancos</span><span class="o">.</span><span class="n">str</span><span class="o">.</span><span class="n">upper</span><span class="p">()))</span>

<span class="c1"># Eliminar espacios en blanco al principio y al final</span>
<span class="nb">print</span><span class="p">(</span><span class="n">bancos</span><span class="o">.</span><span class="n">str</span><span class="o">.</span><span class="n">strip</span><span class="p">())</span>

<span class="c1"># Eliminar espacios en blanco al principio</span>
<span class="nb">print</span><span class="p">(</span><span class="n">bancos</span><span class="o">.</span><span class="n">str</span><span class="o">.</span><span class="n">lstrip</span><span class="p">())</span>

<span class="c1"># Eliminar espacios en blanco al final</span>
<span class="nb">print</span><span class="p">(</span><span class="n">bancos</span><span class="o">.</span><span class="n">str</span><span class="o">.</span><span class="n">rstrip</span><span class="p">())</span>

<span class="c1"># Reemplazar &#39;Banco&#39; por &#39;Entidad&#39;</span>
<span class="nb">print</span><span class="p">(</span><span class="n">bancos</span><span class="o">.</span><span class="n">str</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s1">&#39;banco&#39;</span><span class="p">,</span> <span class="s1">&#39;entidad&#39;</span><span class="p">))</span>

<span class="c1"># Dividir cadenas en una lista de substrings por un delimitador</span>
<span class="nb">print</span><span class="p">(</span><span class="n">bancos</span><span class="o">.</span><span class="n">str</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s1">&#39; &#39;</span><span class="p">))</span>

<span class="c1"># Unir las cadenas en una sola con un delimitador</span>
<span class="nb">print</span><span class="p">(</span><span class="n">bancos</span><span class="o">.</span><span class="n">str</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="s1">&#39;, &#39;</span><span class="p">))</span>

<span class="c1"># Encontrar la posición de &#39;Banco&#39; en cada cadena</span>
<span class="nb">print</span><span class="p">(</span><span class="n">bancos</span><span class="o">.</span><span class="n">str</span><span class="o">.</span><span class="n">find</span><span class="p">(</span><span class="s1">&#39;banco&#39;</span><span class="p">))</span>

<span class="c1"># Verificar si cada cadena contiene &#39;A&#39;</span>
<span class="nb">print</span><span class="p">(</span><span class="n">bancos</span><span class="o">.</span><span class="n">str</span><span class="o">.</span><span class="n">contains</span><span class="p">(</span><span class="s1">&#39;A&#39;</span><span class="p">))</span>

<span class="c1"># Extraer los primeros 4 caracteres de cada cadena</span>
<span class="nb">print</span><span class="p">(</span><span class="n">bancos</span><span class="o">.</span><span class="n">str</span><span class="p">[:</span><span class="mi">4</span><span class="p">])</span>

<span class="c1"># Contar el número de veces que aparece &#39;Banco&#39;</span>
<span class="nb">print</span><span class="p">(</span><span class="n">bancos</span><span class="o">.</span><span class="n">str</span><span class="o">.</span><span class="n">count</span><span class="p">(</span><span class="s1">&#39;banco&#39;</span><span class="p">))</span>

<span class="c1"># Verificar si cada cadena comienza con &#39;banco&#39;</span>
<span class="n">bancos</span><span class="o">.</span><span class="n">str</span><span class="o">.</span><span class="n">startswith</span><span class="p">(</span><span class="s1">&#39;banco&#39;</span><span class="p">)</span>

<span class="c1"># Verificar si cada cadena termina con &#39;A&#39;</span>
<span class="n">bancos</span><span class="o">.</span><span class="n">str</span><span class="o">.</span><span class="n">endswith</span><span class="p">(</span><span class="s1">&#39;A&#39;</span><span class="p">)</span>

<span class="c1"># Reemplazar dígitos por &#39;X&#39;</span>
<span class="n">bancos</span><span class="o">.</span><span class="n">str</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="sa">r</span><span class="s1">&#39;\d+&#39;</span><span class="p">,</span> <span class="s1">&#39;X&#39;</span><span class="p">,</span> <span class="n">regex</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>

<span class="c1"># Obtener la longitud de cada cadena</span>
<span class="n">bancos</span><span class="o">.</span><span class="n">str</span><span class="o">.</span><span class="n">len</span><span class="p">()</span>

<span class="c1"># Eliminar caracteres no alfabéticos</span>
<span class="n">bancos</span><span class="o">.</span><span class="n">str</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="sa">r</span><span class="s1">&#39;[^a-zA-Z\s]&#39;</span><span class="p">,</span> <span class="s1">&#39;&#39;</span><span class="p">,</span> <span class="n">regex</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<ol class="arabic simple" start="3">
<li><p><strong>Filtrado de Datos</strong></p></li>
</ol>
<p>El objetivo es seleccionar saldos que cumplan una condición. Por ejemplo</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Seleccionar saldos mayores o iguales a 3000</span>
<span class="nb">print</span><span class="p">(</span><span class="n">saldos</span><span class="p">[</span><span class="n">saldos</span> <span class="o">&gt;=</span> <span class="mi">3000</span><span class="p">])</span>

<span class="c1"># Seleccionar saldos diferentes a 3000</span>
<span class="nb">print</span><span class="p">(</span><span class="n">saldos</span><span class="p">[</span><span class="n">saldos</span> <span class="o">!=</span> <span class="mi">3000</span><span class="p">])</span>
</pre></div>
</div>
</div>
</div>
<ol class="arabic simple" start="4">
<li><p><strong>Ordenar series</strong></p></li>
</ol>
<p>Para ordenar los saldos de manera ascendente o descendente:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Ordenar los saldos de manera ascendente</span>
<span class="nb">print</span><span class="p">(</span><span class="n">saldos</span><span class="o">.</span><span class="n">sort_values</span><span class="p">(</span><span class="n">ascending</span><span class="o">=</span><span class="kc">True</span><span class="p">))</span>

<span class="c1"># Ordenar los saldos de manera descendente</span>
<span class="nb">print</span><span class="p">(</span><span class="n">saldos</span><span class="o">.</span><span class="n">sort_values</span><span class="p">(</span><span class="n">ascending</span><span class="o">=</span><span class="kc">False</span><span class="p">))</span>

<span class="c1"># Ordenar por índices de manera ascendente</span>
<span class="nb">print</span><span class="p">(</span><span class="n">saldos</span><span class="o">.</span><span class="n">sort_index</span><span class="p">(</span><span class="n">ascending</span><span class="o">=</span><span class="kc">True</span><span class="p">))</span>

<span class="c1"># Ordenar por índices de manera descendente</span>
<span class="nb">print</span><span class="p">(</span><span class="n">saldos</span><span class="o">.</span><span class="n">sort_index</span><span class="p">(</span><span class="n">ascending</span><span class="o">=</span><span class="kc">False</span><span class="p">))</span>
</pre></div>
</div>
</div>
</div>
<ol class="arabic simple" start="5">
<li><p><strong>Eliminación de Datos Nulos y Desconocidos</strong></p></li>
</ol>
<p>Finalmente, para eliminar datos nulos o desconocidos en la serie de saldos:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Crear valores nulos en la serie de saldos</span>
<span class="n">saldos</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">Series</span><span class="p">([</span><span class="mi">1500</span><span class="p">,</span> <span class="n">np</span><span class="o">.</span><span class="n">nan</span><span class="p">,</span> <span class="mi">2500</span><span class="p">,</span> <span class="kc">None</span><span class="p">,</span> <span class="mi">3500</span><span class="p">])</span>

<span class="c1"># Eliminar valores nulos</span>
<span class="n">saldos_limpios</span> <span class="o">=</span> <span class="n">saldos</span><span class="o">.</span><span class="n">dropna</span><span class="p">()</span>
<span class="nb">print</span><span class="p">(</span><span class="n">saldos_limpios</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<p>Con estos ejemplos, has aprendido cómo realizar diversas operaciones con series relacionadas con datos bancarios en Pandas. En la próximo sección, exploraremos cómo trabajar con DataFrames.</p>
</section>
<section id="pandas">
<h3><strong>Pandas</strong><a class="headerlink" href="#pandas" title="Permalink to this heading">#</a></h3>
<p>En este módulo, profundizaremos en la creación de <code class="docutils literal notranslate"><span class="pre">DataFrames</span></code>, una de las estructuras de datos más versátiles y poderosas para la manipulación de información financiera. Exploraremos tres métodos distintos para construir DataFrames, cada uno con aplicaciones específicas en la industria bancaria.</p>
<p>Un <code class="docutils literal notranslate"><span class="pre">DataFrame</span></code> es una estructura bidimensional, similar a una tabla, que nos permite organizar y manipular datos con facilidad. En el contexto bancario, los DataFrames son ideales para manejar información de clientes, transacciones, productos financieros, y otros tipos de datos críticos.</p>
<section id="metodo-1-creacion-de-dataframes-a-partir-de-diccionarios">
<h4><strong>Método 1: Creación de DataFrames a partir de Diccionarios</strong><a class="headerlink" href="#metodo-1-creacion-de-dataframes-a-partir-de-diccionarios" title="Permalink to this heading">#</a></h4>
<p>En este primer enfoque, utilizaremos un diccionario para organizar los datos de clientes bancarios. Las claves del diccionario representarán las columnas del DataFrame, tales como <code class="docutils literal notranslate"><span class="pre">Nombre</span></code>, <code class="docutils literal notranslate"><span class="pre">Edad</span></code>, <code class="docutils literal notranslate"><span class="pre">Saldo</span></code>, y <code class="docutils literal notranslate"><span class="pre">Calificación_Crédito</span></code>.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Importación de la librería pandas</span>
<span class="kn">import</span> <span class="nn">pandas</span> <span class="k">as</span> <span class="nn">pd</span>

<span class="c1"># Definición de los datos mediante un diccionario</span>
<span class="n">clientes</span> <span class="o">=</span> <span class="p">{</span>
    <span class="s1">&#39;Nombre&#39;</span><span class="p">:</span> <span class="p">[</span><span class="s1">&#39;José&#39;</span><span class="p">,</span> <span class="s1">&#39;Rodolfo&#39;</span><span class="p">,</span> <span class="s1">&#39;María&#39;</span><span class="p">,</span> <span class="s1">&#39;Julieta&#39;</span><span class="p">],</span>
    <span class="s1">&#39;Edad&#39;</span><span class="p">:</span> <span class="p">[</span><span class="mi">45</span><span class="p">,</span> <span class="mi">52</span><span class="p">,</span> <span class="mi">34</span><span class="p">,</span> <span class="mi">29</span><span class="p">],</span>
    <span class="s1">&#39;Saldo&#39;</span><span class="p">:</span> <span class="p">[</span><span class="mi">50000</span><span class="p">,</span> <span class="mi">70000</span><span class="p">,</span> <span class="mi">60000</span><span class="p">,</span> <span class="mi">15000</span><span class="p">],</span>
    <span class="s1">&#39;Calificación_Crédito&#39;</span><span class="p">:</span> <span class="p">[</span><span class="mi">700</span><span class="p">,</span> <span class="mi">750</span><span class="p">,</span> <span class="mi">680</span><span class="p">,</span> <span class="mi">720</span><span class="p">]</span>
<span class="p">}</span>

<span class="c1"># Creación del DataFrame utilizando el diccionario</span>
<span class="n">df_clientes</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">(</span><span class="n">clientes</span><span class="p">)</span>

<span class="c1"># Visualización del DataFrame</span>
<span class="nb">print</span><span class="p">(</span><span class="n">df_clientes</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<p>Este enfoque es eficiente cuando se tiene un conjunto de datos bien estructurado, con columnas predefinidas y valores coherentes. Es comúnmente utilizado en situaciones donde los datos provienen de sistemas bancarios estructurados, como bases de datos relacionales.</p>
</section>
<section id="metodo-2-creacion-de-dataframes-a-partir-de-listas-anidadas">
<h4><strong>Método 2: Creación de DataFrames a partir de Listas Anidadas</strong><a class="headerlink" href="#metodo-2-creacion-de-dataframes-a-partir-de-listas-anidadas" title="Permalink to this heading">#</a></h4>
<p>El siguiente método consiste en utilizar listas de listas para estructurar los datos. Este enfoque puede ser útil cuando los datos provienen de una fuente menos estructurada, como archivos CSV o entrada manual.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Definición de los datos mediante listas anidadas</span>
<span class="n">datos_clientes</span> <span class="o">=</span> <span class="p">[</span>
    <span class="p">[</span><span class="s1">&#39;José&#39;</span><span class="p">,</span> <span class="mi">45</span><span class="p">,</span> <span class="mi">50000</span><span class="p">,</span> <span class="mi">700</span><span class="p">],</span>
    <span class="p">[</span><span class="s1">&#39;Rodolfo&#39;</span><span class="p">,</span> <span class="mi">52</span><span class="p">,</span> <span class="mi">70000</span><span class="p">,</span> <span class="mi">750</span><span class="p">],</span>
    <span class="p">[</span><span class="s1">&#39;María&#39;</span><span class="p">,</span> <span class="mi">34</span><span class="p">,</span> <span class="mi">60000</span><span class="p">,</span> <span class="mi">680</span><span class="p">],</span>
    <span class="p">[</span><span class="s1">&#39;Julieta&#39;</span><span class="p">,</span> <span class="mi">29</span><span class="p">,</span> <span class="mi">15000</span><span class="p">,</span> <span class="mi">720</span><span class="p">]</span>
<span class="p">]</span>

<span class="c1"># Definición de las columnas</span>
<span class="n">columnas</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;Nombre&#39;</span><span class="p">,</span> <span class="s1">&#39;Edad&#39;</span><span class="p">,</span> <span class="s1">&#39;Saldo&#39;</span><span class="p">,</span> <span class="s1">&#39;Calificación_Crédito&#39;</span><span class="p">]</span>

<span class="c1"># Creación del DataFrame</span>
<span class="n">df_clientes_lista</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">(</span><span class="n">datos_clientes</span><span class="p">,</span> <span class="n">columns</span><span class="o">=</span><span class="n">columnas</span><span class="p">)</span>

<span class="c1"># Visualización del DataFrame</span>
<span class="nb">print</span><span class="p">(</span><span class="n">df_clientes_lista</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<p>Este método es particularmente útil cuando los datos no están previamente etiquetados y requieren un procesamiento adicional para ser organizados en un formato tabular. Es frecuente en la integración de datos desde múltiples fuentes no homogéneas, como encuestas o registros de transacciones.</p>
</section>
<section id="metodo-3-creacion-de-dataframes-a-partir-de-listas-de-diccionarios">
<h4><strong>Método 3: Creación de DataFrames a partir de Listas de Diccionarios</strong><a class="headerlink" href="#metodo-3-creacion-de-dataframes-a-partir-de-listas-de-diccionarios" title="Permalink to this heading">#</a></h4>
<p>Finalmente, exploraremos cómo crear un DataFrame a partir de una lista de diccionarios. Este método es flexible y permite manejar datos con campos opcionales o información incompleta, algo común en grandes bases de datos bancarias.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Definición de los datos mediante una lista de diccionarios</span>
<span class="n">clientes_dict</span> <span class="o">=</span> <span class="p">[</span>
    <span class="p">{</span><span class="s1">&#39;Nombre&#39;</span><span class="p">:</span> <span class="s1">&#39;José&#39;</span><span class="p">,</span> <span class="s1">&#39;Edad&#39;</span><span class="p">:</span> <span class="mi">45</span><span class="p">,</span> <span class="s1">&#39;Saldo&#39;</span><span class="p">:</span> <span class="mi">50000</span><span class="p">,</span> <span class="s1">&#39;Calificación_Crédito&#39;</span><span class="p">:</span> <span class="mi">700</span><span class="p">},</span>
    <span class="p">{</span><span class="s1">&#39;Nombre&#39;</span><span class="p">:</span> <span class="s1">&#39;Rodolfo&#39;</span><span class="p">,</span> <span class="s1">&#39;Edad&#39;</span><span class="p">:</span> <span class="mi">52</span><span class="p">,</span> <span class="s1">&#39;Saldo&#39;</span><span class="p">:</span> <span class="mi">70000</span><span class="p">,</span> <span class="s1">&#39;Calificación_Crédito&#39;</span><span class="p">:</span> <span class="mi">750</span><span class="p">},</span>
    <span class="p">{</span><span class="s1">&#39;Nombre&#39;</span><span class="p">:</span> <span class="s1">&#39;María&#39;</span><span class="p">,</span> <span class="s1">&#39;Edad&#39;</span><span class="p">:</span> <span class="mi">34</span><span class="p">,</span> <span class="s1">&#39;Saldo&#39;</span><span class="p">:</span> <span class="mi">60000</span><span class="p">},</span>  <span class="c1"># Falta calificación de crédito</span>
    <span class="p">{</span><span class="s1">&#39;Nombre&#39;</span><span class="p">:</span> <span class="s1">&#39;Julieta&#39;</span><span class="p">,</span> <span class="s1">&#39;Edad&#39;</span><span class="p">:</span> <span class="mi">29</span><span class="p">,</span> <span class="s1">&#39;Calificación_Crédito&#39;</span><span class="p">:</span> <span class="mi">720</span><span class="p">},</span>  <span class="c1"># Falta saldo</span>
    <span class="p">{</span><span class="s1">&#39;Edad&#39;</span><span class="p">:</span> <span class="mi">28</span><span class="p">,</span> <span class="s1">&#39;Saldo&#39;</span><span class="p">:</span> <span class="mi">30000</span><span class="p">}</span>  <span class="c1"># Faltan nombre y calificación de crédito</span>
<span class="p">]</span>

<span class="c1"># Creación del DataFrame</span>
<span class="n">df_clientes_dict</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">(</span><span class="n">clientes_dict</span><span class="p">)</span>

<span class="c1"># Visualización del DataFrame</span>
<span class="nb">print</span><span class="p">(</span><span class="n">df_clientes_dict</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<p>La capacidad de manejar datos incompletos o parcialmente definidos es crucial en el análisis de datos bancarios, donde la información puede provenir de fuentes dispares y no siempre estará completa. Este método permite construir DataFrames robustos que pueden ser limpiados o completados en etapas posteriores del análisis.</p>
<div class="warning admonition">
<p class="admonition-title"><strong>Observación</strong></p>
<p>Algunas diferencias clave entre una Serie (<code class="docutils literal notranslate"><span class="pre">Series</span></code>) y un <code class="docutils literal notranslate"><span class="pre">DataFrame</span></code> en <code class="docutils literal notranslate"><span class="pre">Pandas</span></code>:</p>
<ol class="arabic simple">
<li><p><strong>Dimensionalidad</strong>:</p>
<ul class="simple">
<li><p><strong>Serie</strong>: Es unidimensional, como una lista o columna única de datos.</p></li>
<li><p><strong>DataFrame</strong>: Es bidimensional, similar a una tabla con múltiples filas y columnas.</p></li>
</ul>
</li>
<li><p><strong>Estructura</strong>:</p>
<ul class="simple">
<li><p><strong>Serie</strong>: Contiene una sola columna de datos con un índice.</p></li>
<li><p><strong>DataFrame</strong>: Contiene múltiples columnas, cada una de las cuales es una Serie.</p></li>
</ul>
</li>
<li><p><strong>Uso</strong>:</p>
<ul class="simple">
<li><p><strong>Serie</strong>: Ideal para manejar una sola secuencia de datos.</p></li>
<li><p><strong>DataFrame</strong>: Ideal para trabajar con datos tabulares que tienen múltiples variables o características.</p></li>
</ul>
</li>
<li><p><strong>Etiquetas del Eje</strong>:</p>
<ul class="simple">
<li><p><strong>Serie</strong>: Tiene un único conjunto de etiquetas o índice asociado con los datos.</p></li>
<li><p><strong>DataFrame</strong>: Tiene dos ejes de etiquetas: uno para las filas (índice) y otro para las columnas.</p></li>
</ul>
</li>
<li><p><strong>Operaciones de Agregación</strong>:</p>
<ul class="simple">
<li><p><strong>Serie</strong>: Las operaciones de agregación, como la suma o el promedio, se aplican directamente a la secuencia de datos.</p></li>
<li><p><strong>DataFrame</strong>: Puedes aplicar operaciones de agregación a lo largo de filas o columnas, permitiendo un análisis más detallado y comparativo.</p></li>
</ul>
</li>
</ol>
</div>
</section>
</section>
<section id="manipulacion">
<h3><strong>Manipulación</strong><a class="headerlink" href="#manipulacion" title="Permalink to this heading">#</a></h3>
<p>La manipulación de datos con Pandas es una de las habilidades fundamentales en el análisis de datos. <code class="docutils literal notranslate"><span class="pre">Pandas</span></code> es una biblioteca de Python que proporciona estructuras de datos fáciles de usar, como Series y DataFrames, que permiten realizar operaciones y transformaciones complejas de manera sencilla y eficiente.</p>
<section id="introduccion-a-la-manipulacion-de-datos">
<h4><strong>Introducción a la manipulación de datos</strong><a class="headerlink" href="#introduccion-a-la-manipulacion-de-datos" title="Permalink to this heading">#</a></h4>
<p>Ahora carguemos el conjunto de datos de <strong>marketing del banco</strong> <code class="docutils literal notranslate"><span class="pre">bank-full</span></code>.</p>
<p>Los datos están relacionados con <code class="docutils literal notranslate"><span class="pre">campañas</span> <span class="pre">de</span> <span class="pre">marketing</span> <span class="pre">directo</span></code> (llamadas telefónicas) de una institución bancaria portuguesa.</p>
<p>Este conjunto de datos tiene 4521 observaciones y 17 variables. Las variables son:</p>
<ul class="simple">
<li><p><strong>age:</strong> Edad del cliente.</p></li>
<li><p><strong>job</strong>: Profesión del cliente (por ejemplo, desempleado, servicios, gestión).</p></li>
<li><p><strong>marital</strong>: Estado civil del cliente (soltero, casado, divorciado).</p></li>
<li><p><strong>education</strong>: Nivel educativo del cliente (primaria, secundaria, terciaria).</p></li>
<li><p><strong>default</strong> : Indica si el cliente tiene crédito en incumplimiento (sí o no).</p></li>
<li><p><strong>balance</strong>: Saldo promedio anual de la cuenta bancaria del cliente.</p></li>
<li><p><strong>housing</strong>: Indica si el cliente tiene un préstamo hipotecario (sí o no).</p></li>
<li><p><strong>loan</strong>: Indica si el cliente tiene un préstamo personal (sí o no).</p></li>
<li><p><strong>contact</strong>: Tipo de comunicación de contacto (teléfono celular, teléfono fijo).</p></li>
<li><p><strong>day</strong>: Día del mes en que se realizó el último contacto con el cliente.</p></li>
<li><p><strong>month</strong>: Mes en que se realizó el último contacto con el cliente.</p></li>
<li><p><strong>duration</strong>: Duración del último contacto en segundos.</p></li>
<li><p><strong>campaign</strong>: Número de contactos realizados durante esta campaña de marketing.</p></li>
<li><p><strong>pdays</strong>: Días que han pasado desde que el cliente fue contactado por última vez en una campaña anterior (valores -1 indican que el cliente no fue contactado previamente).</p></li>
<li><p><strong>previous</strong>: Número de contactos realizados antes de esta campaña.</p></li>
<li><p><strong>poutcome</strong>: Resultado de una campaña de marketing anterior (éxito, fracaso, desconocido).</p></li>
<li><p><strong>y</strong>: Resultado de la campaña actual (si el cliente suscribió o no un depósito a plazo fijo).</p></li>
</ul>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># importar librerias</span>
<span class="kn">import</span> <span class="nn">pandas</span> <span class="k">as</span> <span class="nn">pd</span>
<span class="kn">import</span> <span class="nn">numpy</span> <span class="k">as</span> <span class="nn">np</span>

<span class="c1"># Asignar la URL del archivo: url</span>
<span class="n">url</span> <span class="o">=</span><span class="s1">&#39;https://raw.githubusercontent.com/cdeoroaguado/jbook_ml202430/main/data/bank/bank-full.csv&#39;</span>

<span class="c1"># leer el archivo en u dataframe:df</span>
<span class="n">df</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">read_csv</span><span class="p">(</span><span class="n">url</span><span class="p">,</span><span class="n">sep</span><span class="o">=</span><span class="s1">&#39;;&#39;</span><span class="p">)</span>

<span class="c1"># Imprimir el encabezado del dataframe</span>
<span class="n">df</span><span class="o">.</span><span class="n">head</span><span class="p">()</span>

<span class="c1"># Mostrar las 5 ultimas filas de DataFrame</span>
<span class="n">df</span><span class="o">.</span><span class="n">tail</span><span class="p">()</span>

<span class="c1"># Concatenar el encabezado y las últimas 5 filas del DataFrame</span>
<span class="n">result</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">concat</span><span class="p">([</span><span class="n">df</span><span class="o">.</span><span class="n">head</span><span class="p">(),</span> <span class="n">df</span><span class="o">.</span><span class="n">tail</span><span class="p">()])</span>
<span class="nb">print</span><span class="p">(</span><span class="n">result</span><span class="p">)</span>

<span class="c1"># Para ignorar el indice</span>
<span class="nb">print</span><span class="p">(</span><span class="n">pd</span><span class="o">.</span><span class="n">concat</span><span class="p">([</span><span class="n">df</span><span class="o">.</span><span class="n">head</span><span class="p">(),</span> <span class="n">df</span><span class="o">.</span><span class="n">tail</span><span class="p">()],</span><span class="n">ignore_index</span><span class="o">=</span><span class="kc">True</span><span class="p">))</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>       age           job   marital  education default  balance housing loan  \
0       58    management   married   tertiary      no     2143     yes   no   
1       44    technician    single  secondary      no       29     yes   no   
2       33  entrepreneur   married  secondary      no        2     yes  yes   
3       47   blue-collar   married    unknown      no     1506     yes   no   
4       33       unknown    single    unknown      no        1      no   no   
45206   51    technician   married   tertiary      no      825      no   no   
45207   71       retired  divorced    primary      no     1729      no   no   
45208   72       retired   married  secondary      no     5715      no   no   
45209   57   blue-collar   married  secondary      no      668      no   no   
45210   37  entrepreneur   married  secondary      no     2971      no   no   

         contact  day month  duration  campaign  pdays  previous poutcome    y  
0        unknown    5   may       261         1     -1         0  unknown   no  
1        unknown    5   may       151         1     -1         0  unknown   no  
2        unknown    5   may        76         1     -1         0  unknown   no  
3        unknown    5   may        92         1     -1         0  unknown   no  
4        unknown    5   may       198         1     -1         0  unknown   no  
45206   cellular   17   nov       977         3     -1         0  unknown  yes  
45207   cellular   17   nov       456         2     -1         0  unknown  yes  
45208   cellular   17   nov      1127         5    184         3  success  yes  
45209  telephone   17   nov       508         4     -1         0  unknown   no  
45210   cellular   17   nov       361         2    188        11    other   no  
   age           job   marital  education default  balance housing loan  \
0   58    management   married   tertiary      no     2143     yes   no   
1   44    technician    single  secondary      no       29     yes   no   
2   33  entrepreneur   married  secondary      no        2     yes  yes   
3   47   blue-collar   married    unknown      no     1506     yes   no   
4   33       unknown    single    unknown      no        1      no   no   
5   51    technician   married   tertiary      no      825      no   no   
6   71       retired  divorced    primary      no     1729      no   no   
7   72       retired   married  secondary      no     5715      no   no   
8   57   blue-collar   married  secondary      no      668      no   no   
9   37  entrepreneur   married  secondary      no     2971      no   no   

     contact  day month  duration  campaign  pdays  previous poutcome    y  
0    unknown    5   may       261         1     -1         0  unknown   no  
1    unknown    5   may       151         1     -1         0  unknown   no  
2    unknown    5   may        76         1     -1         0  unknown   no  
3    unknown    5   may        92         1     -1         0  unknown   no  
4    unknown    5   may       198         1     -1         0  unknown   no  
5   cellular   17   nov       977         3     -1         0  unknown  yes  
6   cellular   17   nov       456         2     -1         0  unknown  yes  
7   cellular   17   nov      1127         5    184         3  success  yes  
8  telephone   17   nov       508         4     -1         0  unknown   no  
9   cellular   17   nov       361         2    188        11    other   no  
</pre></div>
</div>
</div>
</div>
<p>Las dimensiones del dataset:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Obtener las dimensiones del DataFrame</span>
<span class="n">df</span><span class="o">.</span><span class="n">shape</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>(45211, 17)
</pre></div>
</div>
</div>
</div>
<p>Información de la estructura del dataset de marketing:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Obtener información sobre la estructura del DataFrame</span>
<span class="n">df</span><span class="o">.</span><span class="n">info</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>&lt;class &#39;pandas.core.frame.DataFrame&#39;&gt;
RangeIndex: 45211 entries, 0 to 45210
Data columns (total 17 columns):
 #   Column     Non-Null Count  Dtype 
---  ------     --------------  ----- 
 0   age        45211 non-null  int64 
 1   job        45211 non-null  object
 2   marital    45211 non-null  object
 3   education  45211 non-null  object
 4   default    45211 non-null  object
 5   balance    45211 non-null  int64 
 6   housing    45211 non-null  object
 7   loan       45211 non-null  object
 8   contact    45211 non-null  object
 9   day        45211 non-null  int64 
 10  month      45211 non-null  object
 11  duration   45211 non-null  int64 
 12  campaign   45211 non-null  int64 
 13  pdays      45211 non-null  int64 
 14  previous   45211 non-null  int64 
 15  poutcome   45211 non-null  object
 16  y          45211 non-null  object
dtypes: int64(7), object(10)
memory usage: 5.9+ MB
</pre></div>
</div>
</div>
</div>
<p>El atributo <code class="docutils literal notranslate"><span class="pre">df.size</span></code> en pandas devuelve el número total de elementos en un <code class="docutils literal notranslate"><span class="pre">DataFrame</span></code>. Esto se calcula multiplicando el número de filas por el número de columnas. Es útil para obtener una visión rápida del tamaño total del DataFrame en términos de elementos.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># número total de elementos en el dataframe</span>
<span class="n">df</span><span class="o">.</span><span class="n">size</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>768587
</pre></div>
</div>
</div>
</div>
<p>Puede ocurrir que el conjunto de datos de marketing para la banca tenga duplicados. El método <code class="docutils literal notranslate"><span class="pre">drop_duplicates()</span></code> en pandas se utiliza para eliminar filas duplicadas de un DataFrame. Este método permite identificar y remover filas que contienen los mismos valores en las columnas seleccionadas, o en todas las columnas si no se especifica ninguna.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Eliminar filas duplicadas</span>
<span class="n">df</span> <span class="o">=</span> <span class="n">df</span><span class="o">.</span><span class="n">drop_duplicates</span><span class="p">()</span>
<span class="n">df</span><span class="o">.</span><span class="n">info</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>&lt;class &#39;pandas.core.frame.DataFrame&#39;&gt;
RangeIndex: 45211 entries, 0 to 45210
Data columns (total 17 columns):
 #   Column     Non-Null Count  Dtype 
---  ------     --------------  ----- 
 0   age        45211 non-null  int64 
 1   job        45211 non-null  object
 2   marital    45211 non-null  object
 3   education  45211 non-null  object
 4   default    45211 non-null  object
 5   balance    45211 non-null  int64 
 6   housing    45211 non-null  object
 7   loan       45211 non-null  object
 8   contact    45211 non-null  object
 9   day        45211 non-null  int64 
 10  month      45211 non-null  object
 11  duration   45211 non-null  int64 
 12  campaign   45211 non-null  int64 
 13  pdays      45211 non-null  int64 
 14  previous   45211 non-null  int64 
 15  poutcome   45211 non-null  object
 16  y          45211 non-null  object
dtypes: int64(7), object(10)
memory usage: 5.9+ MB
</pre></div>
</div>
</div>
</div>
<div class="warning admonition">
<p class="admonition-title"><strong>Observación</strong></p>
<p>Si nuestro conjunto de datos de marketing en la banca contiene valores nulos, se utiliza el método <code class="docutils literal notranslate"><span class="pre">dropna()</span></code> o. Este método te permite eliminar filas o columnas que contengan valores nulos (NaN). A continuación te muestro cómo hacerlo:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span>
<span class="c1"># Eliminar todas las filas que contengan al menos un valor nulo</span>
<span class="n">df_sin_nulos</span> <span class="o">=</span> <span class="n">df</span><span class="o">.</span><span class="n">dropna</span><span class="p">()</span>

<span class="c1"># Eliminar filas que contengan al menos un valor nulo</span>
<span class="n">df_sin_nulos_filas</span> <span class="o">=</span> <span class="n">df</span><span class="o">.</span><span class="n">dropna</span><span class="p">(</span><span class="n">axis</span><span class="o">=</span><span class="mi">0</span><span class="p">)</span>

<span class="c1"># Eliminar columnas que contengan al menos un valor nulo</span>
<span class="n">df_sin_nulos_columnas</span> <span class="o">=</span> <span class="n">df</span><span class="o">.</span><span class="n">dropna</span><span class="p">(</span><span class="n">axis</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>

<span class="c1"># Mostrar los DataFrames sin valores nulos</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;DataFrame sin valores nulos en filas:&quot;</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">df_sin_nulos_filas</span><span class="p">)</span>

<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;</span><span class="se">\n</span><span class="s2">DataFrame sin valores nulos en columnas:&quot;</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">df_sin_nulos_columnas</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="danger admonition">
<p class="admonition-title"><strong>Consideraciones</strong></p>
<p>El uso de <code class="docutils literal notranslate"><span class="pre">df.dropna()</span></code> puede resultar en la pérdida de datos importantes si una gran cantidad de valores nulos está presente. Antes de eliminar los valores nulos, considera las siguientes opciones:</p>
<ul class="simple">
<li><p><strong>Imputar Valores Nulos</strong>: Puedes reemplazar los valores nulos con valores específicos utilizando <code class="docutils literal notranslate"><span class="pre">df.fillna()</span></code>.</p></li>
<li><p><strong>Revisar el Impacto</strong>: Evalúa cómo la eliminación de valores nulos afectará tu análisis y si es necesario ajustar tu enfoque para manejar los datos faltantes de manera más adecuada.</p></li>
</ul>
</div>
<p>Ahora, el nombres de las variables, el indice, el tipo de dato del dataset de marketing</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># nombre de las variables</span>
<span class="nb">print</span><span class="p">(</span><span class="n">df</span><span class="o">.</span><span class="n">columns</span><span class="p">)</span>

<span class="c1"># Obtener el índice del DataFrame</span>
<span class="nb">print</span><span class="p">(</span><span class="n">df</span><span class="o">.</span><span class="n">index</span><span class="p">)</span>

<span class="c1"># tipo de dato</span>
<span class="nb">print</span><span class="p">(</span><span class="n">df</span><span class="o">.</span><span class="n">dtypes</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Index([&#39;age&#39;, &#39;job&#39;, &#39;marital&#39;, &#39;education&#39;, &#39;default&#39;, &#39;balance&#39;, &#39;housing&#39;,
       &#39;loan&#39;, &#39;contact&#39;, &#39;day&#39;, &#39;month&#39;, &#39;duration&#39;, &#39;campaign&#39;, &#39;pdays&#39;,
       &#39;previous&#39;, &#39;poutcome&#39;, &#39;y&#39;],
      dtype=&#39;object&#39;)
RangeIndex(start=0, stop=45211, step=1)
age           int64
job          object
marital      object
education    object
default      object
balance       int64
housing      object
loan         object
contact      object
day           int64
month        object
duration      int64
campaign      int64
pdays         int64
previous      int64
poutcome     object
y            object
dtype: object
</pre></div>
</div>
</div>
</div>
<div class="warning admonition">
<p class="admonition-title"><strong>Observación</strong></p>
<ol class="arabic simple">
<li><p>Si quieres cambiar el nombre de las columnas o los indices. Usas <code class="docutils literal notranslate"><span class="pre">df.rename</span></code> de la siguiente forma</p></li>
</ol>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">df</span><span class="o">.</span><span class="n">rename</span><span class="p">(</span><span class="n">columns</span><span class="o">=</span><span class="p">{},</span><span class="n">index</span><span class="o">=</span><span class="p">{})</span>
</pre></div>
</div>
<ol class="arabic simple" start="2">
<li><p>Para reindexar un dataframe debemos usar<code class="docutils literal notranslate"><span class="pre">df.reindex</span></code> y los selecciona:</p></li>
</ol>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">df</span><span class="o">.</span><span class="n">reindex</span><span class="p">(</span><span class="n">index</span> <span class="o">=</span> <span class="p">[],</span><span class="n">columns</span> <span class="o">=</span> <span class="p">[],</span><span class="n">fill_value</span><span class="o">=</span><span class="s1">&#39;&#39;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<p>Queremos saber los clientes menores de 20 años:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Seleccionar solo las filas donde la condición es True</span>
<span class="n">df</span><span class="o">.</span><span class="n">loc</span><span class="p">[:,</span><span class="s1">&#39;age&#39;</span><span class="p">]</span> <span class="o">&lt;</span> <span class="mi">20</span>

<span class="c1"># Mostrar los clientes menores de 20 años</span>
<span class="n">dfm20</span> <span class="o">=</span> <span class="n">df</span><span class="p">[</span><span class="n">df</span><span class="o">.</span><span class="n">loc</span><span class="p">[:,</span><span class="s1">&#39;age&#39;</span><span class="p">]</span> <span class="o">&lt;</span> <span class="mi">20</span><span class="p">]</span>

<span class="c1"># imprimir el dataframe las 5 primeras</span>
<span class="n">dfm20</span><span class="o">.</span><span class="n">head</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>age</th>
      <th>job</th>
      <th>marital</th>
      <th>education</th>
      <th>default</th>
      <th>balance</th>
      <th>housing</th>
      <th>loan</th>
      <th>contact</th>
      <th>day</th>
      <th>month</th>
      <th>duration</th>
      <th>campaign</th>
      <th>pdays</th>
      <th>previous</th>
      <th>poutcome</th>
      <th>y</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>30791</th>
      <td>19</td>
      <td>student</td>
      <td>single</td>
      <td>unknown</td>
      <td>no</td>
      <td>1169</td>
      <td>no</td>
      <td>no</td>
      <td>cellular</td>
      <td>6</td>
      <td>feb</td>
      <td>463</td>
      <td>18</td>
      <td>-1</td>
      <td>0</td>
      <td>unknown</td>
      <td>no</td>
    </tr>
    <tr>
      <th>31041</th>
      <td>19</td>
      <td>student</td>
      <td>single</td>
      <td>unknown</td>
      <td>no</td>
      <td>0</td>
      <td>no</td>
      <td>no</td>
      <td>cellular</td>
      <td>11</td>
      <td>feb</td>
      <td>123</td>
      <td>3</td>
      <td>-1</td>
      <td>0</td>
      <td>unknown</td>
      <td>no</td>
    </tr>
    <tr>
      <th>31263</th>
      <td>19</td>
      <td>student</td>
      <td>single</td>
      <td>unknown</td>
      <td>no</td>
      <td>27</td>
      <td>no</td>
      <td>no</td>
      <td>telephone</td>
      <td>5</td>
      <td>mar</td>
      <td>86</td>
      <td>12</td>
      <td>-1</td>
      <td>0</td>
      <td>unknown</td>
      <td>no</td>
    </tr>
    <tr>
      <th>31304</th>
      <td>19</td>
      <td>student</td>
      <td>single</td>
      <td>secondary</td>
      <td>no</td>
      <td>1803</td>
      <td>no</td>
      <td>no</td>
      <td>cellular</td>
      <td>10</td>
      <td>mar</td>
      <td>59</td>
      <td>1</td>
      <td>-1</td>
      <td>0</td>
      <td>unknown</td>
      <td>no</td>
    </tr>
    <tr>
      <th>31432</th>
      <td>19</td>
      <td>student</td>
      <td>single</td>
      <td>primary</td>
      <td>no</td>
      <td>134</td>
      <td>no</td>
      <td>no</td>
      <td>cellular</td>
      <td>27</td>
      <td>mar</td>
      <td>271</td>
      <td>2</td>
      <td>-1</td>
      <td>0</td>
      <td>unknown</td>
      <td>yes</td>
    </tr>
  </tbody>
</table>
</div></div></div>
</div>
<p>Escojamos las columnas <code class="docutils literal notranslate"><span class="pre">age</span></code>, <code class="docutils literal notranslate"><span class="pre">marital</span></code>, <code class="docutils literal notranslate"><span class="pre">balance</span></code>, <code class="docutils literal notranslate"><span class="pre">y</span></code> de los clientes menores de 20</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># seleccionemos las columnas</span>
<span class="n">new_dfm20</span> <span class="o">=</span> <span class="n">dfm20</span><span class="p">[[</span><span class="s1">&#39;age&#39;</span><span class="p">,</span><span class="s1">&#39;marital&#39;</span><span class="p">,</span><span class="s1">&#39;balance&#39;</span><span class="p">,</span><span class="s1">&#39;y&#39;</span><span class="p">]]</span>

<span class="c1"># imprimir</span>
<span class="nb">print</span><span class="p">(</span><span class="n">new_dfm20</span><span class="o">.</span><span class="n">head</span><span class="p">())</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>       age marital  balance    y
30791   19  single     1169   no
31041   19  single        0   no
31263   19  single       27   no
31304   19  single     1803   no
31432   19  single      134  yes
</pre></div>
</div>
</div>
</div>
<div class="warning admonition">
<p class="admonition-title"><strong>Observación</strong></p>
<p>Para agregar y eliminar columnas o filas</p>
<ol class="arabic simple">
<li><p>Puedes agregar una columna a un DataFrame en pandas usando una Serie (Series) de la siguiente manera:</p></li>
</ol>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="c1"># Crear una Serie con los datos que quieres agregar como nueva columna</span>
<span class="n">nueva_columna</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">Series</span><span class="p">([</span><span class="n">valor1</span><span class="p">,</span> <span class="n">valor2</span><span class="p">,</span> <span class="n">valor3</span><span class="p">,</span> <span class="o">...</span><span class="p">],</span> <span class="n">index</span><span class="o">=</span><span class="n">df</span><span class="o">.</span><span class="n">index</span><span class="p">)</span>

<span class="c1"># Agregar la Serie al DataFrame como una nueva columna</span>
<span class="n">df</span><span class="p">[</span><span class="s1">&#39;nombre_nueva_columna&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">nueva_columna</span>

<span class="c1"># Mostrar el DataFrame con la nueva columna</span>
<span class="nb">print</span><span class="p">(</span><span class="n">df</span><span class="p">)</span>
</pre></div>
</div>
<ol class="arabic simple" start="2">
<li><p>Para eliminar una, dos o más columnas de un DataFrame en pandas, puedes pasar una lista con los nombres de las columnas al método <code class="docutils literal notranslate"><span class="pre">drop()</span></code>. A continuación te muestro cómo hacerlo:</p></li>
</ol>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="c1"># Crear una lista con los nombres de las columnas que quieres eliminar</span>
<span class="n">columnas_a_eliminar</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;nombre_columna1&#39;</span><span class="p">,</span> <span class="s1">&#39;nombre_columna2&#39;</span><span class="p">]</span>

<span class="c1"># Eliminar las columnas especificadas en la lista</span>
<span class="n">df</span><span class="o">.</span><span class="n">drop</span><span class="p">(</span><span class="n">columnas_a_eliminar</span><span class="p">,</span> <span class="n">axis</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">inplace</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>

<span class="c1"># Mostrar el DataFrame actualizado</span>
<span class="nb">print</span><span class="p">(</span><span class="n">df</span><span class="p">)</span>
</pre></div>
</div>
<ol class="arabic simple" start="3">
<li><p>Para agregar una nueva fila a un DataFrame en pandas, puedes seguir estos pasos generales:</p></li>
</ol>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="c1"># Crear una nueva fila como un diccionario</span>
<span class="n">nueva_fila</span> <span class="o">=</span> <span class="p">{</span>
    <span class="s1">&#39;columna1&#39;</span><span class="p">:</span> <span class="n">valor1</span><span class="p">,</span>
    <span class="s1">&#39;columna2&#39;</span><span class="p">:</span> <span class="n">valor2</span><span class="p">,</span>
    <span class="s1">&#39;columna3&#39;</span><span class="p">:</span> <span class="n">valor3</span><span class="p">,</span>
    <span class="c1"># Agregar más columnas si es necesario</span>
<span class="p">}</span>

<span class="c1"># Convertir la nueva fila en un DataFrame</span>
<span class="n">nueva_fila_df</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">([</span><span class="n">nueva_fila</span><span class="p">])</span>

<span class="c1"># Agregar la nueva fila al DataFrame original</span>
<span class="n">df</span> <span class="o">=</span> <span class="n">df</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">nueva_fila_df</span><span class="p">,</span> <span class="n">ignore_index</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>

<span class="c1"># Mostrar el DataFrame actualizado</span>
<span class="nb">print</span><span class="p">(</span><span class="n">df</span><span class="p">)</span>
</pre></div>
</div>
<ol class="arabic simple" start="4">
<li><p>Para eliminar una fila de un DataFrame en pandas, puedes seguir estos pasos generales:</p></li>
</ol>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="c1"># Identificar el índice de la fila que deseas eliminar</span>
<span class="n">indice_a_eliminar</span> <span class="o">=</span> <span class="mi">5</span> 

<span class="c1"># Usar el método drop() para eliminar la fila</span>
<span class="n">df</span> <span class="o">=</span> <span class="n">df</span><span class="o">.</span><span class="n">drop</span><span class="p">(</span><span class="n">indice_a_eliminar</span><span class="p">,</span> <span class="n">axis</span><span class="o">=</span><span class="mi">0</span><span class="p">)</span>

<span class="c1"># (Opcional) Resetear los índices si es necesario</span>
<span class="n">df</span> <span class="o">=</span> <span class="n">df</span><span class="o">.</span><span class="n">reset_index</span><span class="p">(</span><span class="n">drop</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>

<span class="c1"># Mostrar el DataFrame actualizado</span>
<span class="nb">print</span><span class="p">(</span><span class="n">df</span><span class="p">)</span>

</pre></div>
</div>
</div>
<p>Para saber quien tiene mayor balance en la cuenta de los menores de 20, debo ordenarlo usando el método <code class="docutils literal notranslate"><span class="pre">sort_values</span></code>:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># ordenar</span>
<span class="n">new_dfm20</span><span class="o">.</span><span class="n">sort_values</span><span class="p">(</span><span class="n">by</span><span class="o">=</span><span class="s1">&#39;balance&#39;</span><span class="p">,</span><span class="n">ascending</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>age</th>
      <th>marital</th>
      <th>balance</th>
      <th>y</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>34281</th>
      <td>19</td>
      <td>single</td>
      <td>5368</td>
      <td>no</td>
    </tr>
    <tr>
      <th>40736</th>
      <td>18</td>
      <td>single</td>
      <td>1944</td>
      <td>no</td>
    </tr>
    <tr>
      <th>40376</th>
      <td>19</td>
      <td>single</td>
      <td>1803</td>
      <td>no</td>
    </tr>
    <tr>
      <th>31304</th>
      <td>19</td>
      <td>single</td>
      <td>1803</td>
      <td>no</td>
    </tr>
    <tr>
      <th>33774</th>
      <td>19</td>
      <td>single</td>
      <td>1247</td>
      <td>no</td>
    </tr>
    <tr>
      <th>30791</th>
      <td>19</td>
      <td>single</td>
      <td>1169</td>
      <td>no</td>
    </tr>
    <tr>
      <th>31492</th>
      <td>19</td>
      <td>single</td>
      <td>779</td>
      <td>yes</td>
    </tr>
    <tr>
      <th>32169</th>
      <td>19</td>
      <td>single</td>
      <td>626</td>
      <td>no</td>
    </tr>
    <tr>
      <th>43680</th>
      <td>19</td>
      <td>single</td>
      <td>608</td>
      <td>yes</td>
    </tr>
    <tr>
      <th>42274</th>
      <td>18</td>
      <td>single</td>
      <td>608</td>
      <td>yes</td>
    </tr>
    <tr>
      <th>40887</th>
      <td>18</td>
      <td>single</td>
      <td>608</td>
      <td>yes</td>
    </tr>
    <tr>
      <th>41446</th>
      <td>19</td>
      <td>single</td>
      <td>527</td>
      <td>no</td>
    </tr>
    <tr>
      <th>42488</th>
      <td>19</td>
      <td>single</td>
      <td>526</td>
      <td>no</td>
    </tr>
    <tr>
      <th>44058</th>
      <td>19</td>
      <td>single</td>
      <td>526</td>
      <td>no</td>
    </tr>
    <tr>
      <th>44644</th>
      <td>18</td>
      <td>single</td>
      <td>438</td>
      <td>no</td>
    </tr>
    <tr>
      <th>44042</th>
      <td>19</td>
      <td>single</td>
      <td>424</td>
      <td>no</td>
    </tr>
    <tr>
      <th>43408</th>
      <td>19</td>
      <td>single</td>
      <td>394</td>
      <td>yes</td>
    </tr>
    <tr>
      <th>44110</th>
      <td>19</td>
      <td>single</td>
      <td>372</td>
      <td>yes</td>
    </tr>
    <tr>
      <th>43637</th>
      <td>18</td>
      <td>single</td>
      <td>348</td>
      <td>yes</td>
    </tr>
    <tr>
      <th>41930</th>
      <td>19</td>
      <td>single</td>
      <td>329</td>
      <td>yes</td>
    </tr>
    <tr>
      <th>43594</th>
      <td>19</td>
      <td>single</td>
      <td>329</td>
      <td>yes</td>
    </tr>
    <tr>
      <th>44211</th>
      <td>19</td>
      <td>single</td>
      <td>302</td>
      <td>yes</td>
    </tr>
    <tr>
      <th>34675</th>
      <td>19</td>
      <td>single</td>
      <td>291</td>
      <td>no</td>
    </tr>
    <tr>
      <th>45170</th>
      <td>19</td>
      <td>single</td>
      <td>245</td>
      <td>no</td>
    </tr>
    <tr>
      <th>41619</th>
      <td>19</td>
      <td>single</td>
      <td>179</td>
      <td>no</td>
    </tr>
    <tr>
      <th>42146</th>
      <td>18</td>
      <td>single</td>
      <td>156</td>
      <td>no</td>
    </tr>
    <tr>
      <th>31432</th>
      <td>19</td>
      <td>single</td>
      <td>134</td>
      <td>yes</td>
    </tr>
    <tr>
      <th>44493</th>
      <td>19</td>
      <td>single</td>
      <td>108</td>
      <td>yes</td>
    </tr>
    <tr>
      <th>40744</th>
      <td>18</td>
      <td>single</td>
      <td>108</td>
      <td>yes</td>
    </tr>
    <tr>
      <th>41487</th>
      <td>18</td>
      <td>single</td>
      <td>108</td>
      <td>yes</td>
    </tr>
    <tr>
      <th>42954</th>
      <td>18</td>
      <td>single</td>
      <td>108</td>
      <td>yes</td>
    </tr>
    <tr>
      <th>43258</th>
      <td>19</td>
      <td>single</td>
      <td>108</td>
      <td>yes</td>
    </tr>
    <tr>
      <th>42705</th>
      <td>19</td>
      <td>single</td>
      <td>103</td>
      <td>no</td>
    </tr>
    <tr>
      <th>40564</th>
      <td>19</td>
      <td>single</td>
      <td>103</td>
      <td>yes</td>
    </tr>
    <tr>
      <th>41830</th>
      <td>19</td>
      <td>single</td>
      <td>103</td>
      <td>no</td>
    </tr>
    <tr>
      <th>33789</th>
      <td>19</td>
      <td>single</td>
      <td>96</td>
      <td>no</td>
    </tr>
    <tr>
      <th>41500</th>
      <td>19</td>
      <td>single</td>
      <td>88</td>
      <td>no</td>
    </tr>
    <tr>
      <th>41057</th>
      <td>19</td>
      <td>single</td>
      <td>60</td>
      <td>no</td>
    </tr>
    <tr>
      <th>40927</th>
      <td>19</td>
      <td>single</td>
      <td>56</td>
      <td>no</td>
    </tr>
    <tr>
      <th>41706</th>
      <td>19</td>
      <td>single</td>
      <td>55</td>
      <td>no</td>
    </tr>
    <tr>
      <th>41222</th>
      <td>18</td>
      <td>single</td>
      <td>35</td>
      <td>no</td>
    </tr>
    <tr>
      <th>31263</th>
      <td>19</td>
      <td>single</td>
      <td>27</td>
      <td>no</td>
    </tr>
    <tr>
      <th>41252</th>
      <td>18</td>
      <td>single</td>
      <td>5</td>
      <td>no</td>
    </tr>
    <tr>
      <th>41402</th>
      <td>19</td>
      <td>single</td>
      <td>4</td>
      <td>no</td>
    </tr>
    <tr>
      <th>41273</th>
      <td>18</td>
      <td>single</td>
      <td>3</td>
      <td>yes</td>
    </tr>
    <tr>
      <th>34288</th>
      <td>19</td>
      <td>single</td>
      <td>0</td>
      <td>no</td>
    </tr>
    <tr>
      <th>31041</th>
      <td>19</td>
      <td>single</td>
      <td>0</td>
      <td>no</td>
    </tr>
  </tbody>
</table>
</div></div></div>
</div>
<p>Puedes aplicar una función personalizada a una columna específica del DataFrame usando el método <code class="docutils literal notranslate"><span class="pre">apply()</span></code> de <code class="docutils literal notranslate"><span class="pre">pandas</span></code>. Supongamos que deseas crear una nueva columna llamada <code class="docutils literal notranslate"><span class="pre">balance_category</span></code> que clasifique el balance de cada cliente en <code class="docutils literal notranslate"><span class="pre">&quot;Bajo&quot;</span></code>, <code class="docutils literal notranslate"><span class="pre">&quot;Medio&quot;</span></code> o <code class="docutils literal notranslate"><span class="pre">&quot;Alto&quot;</span></code> según ciertos umbrales.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Definir una función para categorizar el balance</span>
<span class="k">def</span> <span class="nf">categorizar_balance</span><span class="p">(</span><span class="n">balance</span><span class="p">):</span>
    <span class="k">if</span> <span class="n">balance</span> <span class="o">&lt;</span> <span class="mi">500</span><span class="p">:</span>
        <span class="k">return</span> <span class="s1">&#39;Bajo&#39;</span>
    <span class="k">elif</span> <span class="mi">500</span> <span class="o">&lt;=</span> <span class="n">balance</span> <span class="o">&lt;</span> <span class="mi">1500</span><span class="p">:</span>
        <span class="k">return</span> <span class="s1">&#39;Medio&#39;</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="k">return</span> <span class="s1">&#39;Alto&#39;</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Aplicar la función &#39;categorizar_balance&#39; a la columna &#39;balance&#39;</span>
<span class="c1"># y crear la nueva columna &#39;balance_category&#39;</span>
<span class="n">new_dfm20</span><span class="o">.</span><span class="n">loc</span><span class="p">[:,</span><span class="s1">&#39;balance_category&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">new_dfm20</span><span class="p">[</span><span class="s1">&#39;balance&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">apply</span><span class="p">(</span><span class="n">categorizar_balance</span><span class="p">)</span>

<span class="c1"># Mostrar el DataFrame actualizado</span>
<span class="nb">print</span><span class="p">(</span><span class="n">new_dfm20</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>       age marital  balance    y balance_category
30791   19  single     1169   no            Medio
31041   19  single        0   no             Bajo
31263   19  single       27   no             Bajo
31304   19  single     1803   no             Alto
31432   19  single      134  yes             Bajo
31492   19  single      779  yes            Medio
32169   19  single      626   no            Medio
33774   19  single     1247   no            Medio
33789   19  single       96   no             Bajo
34281   19  single     5368   no             Alto
34288   19  single        0   no             Bajo
34675   19  single      291   no             Bajo
40376   19  single     1803   no             Alto
40564   19  single      103  yes             Bajo
40736   18  single     1944   no             Alto
40744   18  single      108  yes             Bajo
40887   18  single      608  yes            Medio
40927   19  single       56   no             Bajo
41057   19  single       60   no             Bajo
41222   18  single       35   no             Bajo
41252   18  single        5   no             Bajo
41273   18  single        3  yes             Bajo
41402   19  single        4   no             Bajo
41446   19  single      527   no            Medio
41487   18  single      108  yes             Bajo
41500   19  single       88   no             Bajo
41619   19  single      179   no             Bajo
41706   19  single       55   no             Bajo
41830   19  single      103   no             Bajo
41930   19  single      329  yes             Bajo
42146   18  single      156   no             Bajo
42274   18  single      608  yes            Medio
42488   19  single      526   no            Medio
42705   19  single      103   no             Bajo
42954   18  single      108  yes             Bajo
43258   19  single      108  yes             Bajo
43408   19  single      394  yes             Bajo
43594   19  single      329  yes             Bajo
43637   18  single      348  yes             Bajo
43680   19  single      608  yes            Medio
44042   19  single      424   no             Bajo
44058   19  single      526   no            Medio
44110   19  single      372  yes             Bajo
44211   19  single      302  yes             Bajo
44493   19  single      108  yes             Bajo
44644   18  single      438   no             Bajo
45170   19  single      245   no             Bajo
</pre></div>
</div>
</div>
</div>
<p>Ahora, debemos obtener los clientes menores de 20 que si se suscribieron. Ademas los que se suscribieron con balance bajo.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># menores de 20 que se suscribieron</span>
<span class="n">new_dfm20</span><span class="p">[</span><span class="n">new_dfm20</span><span class="p">[</span><span class="s1">&#39;y&#39;</span><span class="p">]</span><span class="o">==</span><span class="s1">&#39;yes&#39;</span><span class="p">]</span>

<span class="c1"># Otra forma de seleccionarlos</span>
<span class="n">new_dfm20</span><span class="p">[</span><span class="n">new_dfm20</span><span class="p">[</span><span class="s2">&quot;y&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">isin</span><span class="p">([</span><span class="s2">&quot;yes&quot;</span><span class="p">])]</span>

<span class="c1"># menores de 20 que se suscribieron con balance bajo</span>
<span class="n">new_dfm20</span><span class="p">[(</span><span class="n">new_dfm20</span><span class="p">[</span><span class="s1">&#39;y&#39;</span><span class="p">]</span><span class="o">==</span><span class="s1">&#39;yes&#39;</span><span class="p">)</span> <span class="o">&amp;</span> <span class="p">(</span><span class="n">new_dfm20</span><span class="p">[</span><span class="s1">&#39;balance_category&#39;</span><span class="p">]</span><span class="o">==</span><span class="s1">&#39;Bajo&#39;</span><span class="p">)]</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>age</th>
      <th>marital</th>
      <th>balance</th>
      <th>y</th>
      <th>balance_category</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>31432</th>
      <td>19</td>
      <td>single</td>
      <td>134</td>
      <td>yes</td>
      <td>Bajo</td>
    </tr>
    <tr>
      <th>40564</th>
      <td>19</td>
      <td>single</td>
      <td>103</td>
      <td>yes</td>
      <td>Bajo</td>
    </tr>
    <tr>
      <th>40744</th>
      <td>18</td>
      <td>single</td>
      <td>108</td>
      <td>yes</td>
      <td>Bajo</td>
    </tr>
    <tr>
      <th>41273</th>
      <td>18</td>
      <td>single</td>
      <td>3</td>
      <td>yes</td>
      <td>Bajo</td>
    </tr>
    <tr>
      <th>41487</th>
      <td>18</td>
      <td>single</td>
      <td>108</td>
      <td>yes</td>
      <td>Bajo</td>
    </tr>
    <tr>
      <th>41930</th>
      <td>19</td>
      <td>single</td>
      <td>329</td>
      <td>yes</td>
      <td>Bajo</td>
    </tr>
    <tr>
      <th>42954</th>
      <td>18</td>
      <td>single</td>
      <td>108</td>
      <td>yes</td>
      <td>Bajo</td>
    </tr>
    <tr>
      <th>43258</th>
      <td>19</td>
      <td>single</td>
      <td>108</td>
      <td>yes</td>
      <td>Bajo</td>
    </tr>
    <tr>
      <th>43408</th>
      <td>19</td>
      <td>single</td>
      <td>394</td>
      <td>yes</td>
      <td>Bajo</td>
    </tr>
    <tr>
      <th>43594</th>
      <td>19</td>
      <td>single</td>
      <td>329</td>
      <td>yes</td>
      <td>Bajo</td>
    </tr>
    <tr>
      <th>43637</th>
      <td>18</td>
      <td>single</td>
      <td>348</td>
      <td>yes</td>
      <td>Bajo</td>
    </tr>
    <tr>
      <th>44110</th>
      <td>19</td>
      <td>single</td>
      <td>372</td>
      <td>yes</td>
      <td>Bajo</td>
    </tr>
    <tr>
      <th>44211</th>
      <td>19</td>
      <td>single</td>
      <td>302</td>
      <td>yes</td>
      <td>Bajo</td>
    </tr>
    <tr>
      <th>44493</th>
      <td>19</td>
      <td>single</td>
      <td>108</td>
      <td>yes</td>
      <td>Bajo</td>
    </tr>
  </tbody>
</table>
</div></div></div>
</div>
</section>
<section id="descripcion-estadistica">
<h4><strong>Descripción estadística</strong><a class="headerlink" href="#descripcion-estadistica" title="Permalink to this heading">#</a></h4>
<p>Exploraremos cómo obtener estadísticas de resumen detalladas para columnas específicas de un DataFrame, así como cómo realizar análisis estadísticos avanzados mediante agrupaciones y tablas dinámicas. Comenzaremos con el cálculo de métricas descriptivas básicas, tales como medias, medianas, y desviaciones estándar, para evaluar la distribución y variabilidad de los datos. A continuación, abordaremos técnicas para aplicar estas estadísticas a subconjuntos de datos mediante agrupaciones, permitiendo un análisis más granular y enfocado.</p>
<p>Finalmente, dominaremos el uso de tablas dinámicas para sintetizar, visualizar y resumir datos complejos, facilitando la extracción de insights clave y patrones significativos en grandes volúmenes de información. Este enfoque integral fortalecerá tu capacidad para extraer, interpretar y comunicar hallazgos estadísticos de manera efectiva en el análisis de datos.</p>
<section id="resumen-estadistico-univariado">
<h5><strong>Resumen estadístico univariado</strong><a class="headerlink" href="#resumen-estadistico-univariado" title="Permalink to this heading">#</a></h5>
<p>Calculemos las medidas descriptivas fundamentales, incluyendo la media, mediana, moda, varianza, desviación estándar y cuartiles, para proporcionar una visión general de la distribución de los datos. Usaremos el conjunto de datos.</p>
<ol class="arabic simple">
<li><p>Si la variable es <em>numérica</em></p></li>
</ol>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Descriptivo de una sola variable numérica solo promedio</span>
<span class="nb">print</span><span class="p">(</span><span class="n">df</span><span class="p">[</span><span class="s1">&#39;age&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">mean</span><span class="p">())</span>

<span class="c1"># Resumen descriptivo de una sola variable numérica</span>
<span class="nb">print</span><span class="p">(</span><span class="n">df</span><span class="p">[</span><span class="s1">&#39;age&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">agg</span><span class="p">({</span>
    <span class="s1">&#39;Promedio&#39;</span><span class="p">:</span> <span class="s1">&#39;mean&#39;</span><span class="p">,</span>                       <span class="c1"># Media</span>
    <span class="s1">&#39;Desviacion_Estandar&#39;</span><span class="p">:</span> <span class="s1">&#39;std&#39;</span><span class="p">,</span>             <span class="c1"># Desv Estandar</span>
    <span class="s1">&#39;Minimo&#39;</span><span class="p">:</span> <span class="s1">&#39;min&#39;</span><span class="p">,</span>                          <span class="c1"># Mínimo</span>
    <span class="s1">&#39;Maximo&#39;</span><span class="p">:</span> <span class="s1">&#39;max&#39;</span><span class="p">,</span>                          <span class="c1"># Máximo</span>
    <span class="s1">&#39;Mediana&#39;</span><span class="p">:</span> <span class="s1">&#39;median&#39;</span><span class="p">,</span>                      <span class="c1"># Mediana usando &#39;median&#39; en lugar de np.median</span>
    <span class="s1">&#39;Cuantil 1&#39;</span><span class="p">:</span> <span class="k">lambda</span> <span class="n">x</span><span class="p">:</span> <span class="n">x</span><span class="o">.</span><span class="n">quantile</span><span class="p">(</span><span class="mf">0.25</span><span class="p">),</span>  <span class="c1"># Cuantil 25%</span>
    <span class="s1">&#39;Cuantil 3&#39;</span><span class="p">:</span> <span class="k">lambda</span> <span class="n">x</span><span class="p">:</span> <span class="n">x</span><span class="o">.</span><span class="n">quantile</span><span class="p">(</span><span class="mf">0.75</span><span class="p">)</span>   <span class="c1"># Cuantil 75%</span>
<span class="p">}))</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>40.93621021432837
Promedio               40.936210
Desviacion_Estandar    10.618762
Minimo                 18.000000
Maximo                 95.000000
Mediana                39.000000
Cuantil 1              33.000000
Cuantil 3              48.000000
Name: age, dtype: float64
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Descriptivo de una varias variable numérica solo promedio</span>
<span class="nb">print</span><span class="p">(</span><span class="n">df</span><span class="p">[[</span><span class="s1">&#39;age&#39;</span><span class="p">,</span><span class="s1">&#39;balance&#39;</span><span class="p">]]</span><span class="o">.</span><span class="n">mean</span><span class="p">())</span>
              
<span class="c1"># Resumen descriptivo de varias variable numérica</span>
<span class="n">result</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">({</span>
    <span class="s1">&#39;Promedio&#39;</span><span class="p">:</span> <span class="n">df</span><span class="p">[[</span><span class="s1">&#39;age&#39;</span><span class="p">,</span> <span class="s1">&#39;balance&#39;</span><span class="p">]]</span><span class="o">.</span><span class="n">mean</span><span class="p">(),</span>
    <span class="s1">&#39;Desv. Estandar&#39;</span><span class="p">:</span> <span class="n">df</span><span class="p">[[</span><span class="s1">&#39;age&#39;</span><span class="p">,</span> <span class="s1">&#39;balance&#39;</span><span class="p">]]</span><span class="o">.</span><span class="n">std</span><span class="p">(),</span>
    <span class="s1">&#39;minimo&#39;</span><span class="p">:</span> <span class="n">df</span><span class="p">[[</span><span class="s1">&#39;age&#39;</span><span class="p">,</span> <span class="s1">&#39;balance&#39;</span><span class="p">]]</span><span class="o">.</span><span class="n">min</span><span class="p">(),</span>
    <span class="s1">&#39;maximo&#39;</span><span class="p">:</span> <span class="n">df</span><span class="p">[[</span><span class="s1">&#39;age&#39;</span><span class="p">,</span> <span class="s1">&#39;balance&#39;</span><span class="p">]]</span><span class="o">.</span><span class="n">max</span><span class="p">(),</span>
    <span class="s1">&#39;mediana&#39;</span><span class="p">:</span> <span class="n">df</span><span class="p">[[</span><span class="s1">&#39;age&#39;</span><span class="p">,</span> <span class="s1">&#39;balance&#39;</span><span class="p">]]</span><span class="o">.</span><span class="n">median</span><span class="p">(),</span>
    <span class="s1">&#39;Cuantil 1&#39;</span><span class="p">:</span> <span class="n">df</span><span class="p">[[</span><span class="s1">&#39;age&#39;</span><span class="p">,</span> <span class="s1">&#39;balance&#39;</span><span class="p">]]</span><span class="o">.</span><span class="n">quantile</span><span class="p">(</span><span class="mf">0.25</span><span class="p">),</span>
    <span class="s1">&#39;Cuantil 3&#39;</span><span class="p">:</span> <span class="n">df</span><span class="p">[[</span><span class="s1">&#39;age&#39;</span><span class="p">,</span> <span class="s1">&#39;balance&#39;</span><span class="p">]]</span><span class="o">.</span><span class="n">quantile</span><span class="p">(</span><span class="mf">0.75</span><span class="p">)</span>
<span class="p">})</span>

<span class="c1"># Mostrar los resultados</span>
<span class="nb">print</span><span class="p">(</span><span class="n">result</span><span class="o">.</span><span class="n">T</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>age          40.936210
balance    1362.272058
dtype: float64
                      age        balance
Promedio        40.936210    1362.272058
Desv. Estandar  10.618762    3044.765829
minimo          18.000000   -8019.000000
maximo          95.000000  102127.000000
mediana         39.000000     448.000000
Cuantil 1       33.000000      72.000000
Cuantil 3       48.000000    1428.000000
</pre></div>
</div>
</div>
</div>
<ol class="arabic simple" start="2">
<li><p>Si la variable es <em>catégorica</em></p></li>
</ol>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Descriptivo de una sola variable categórica solo conteo</span>
<span class="n">conteo</span> <span class="o">=</span> <span class="n">df</span><span class="p">[</span><span class="s1">&#39;job&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">value_counts</span><span class="p">()</span>
<span class="nb">print</span><span class="p">(</span><span class="n">conteo</span><span class="p">)</span>

<span class="c1"># Descriptivo de una sola variable categórica solo proporcion</span>
<span class="n">proporciones</span> <span class="o">=</span> <span class="n">df</span><span class="p">[</span><span class="s1">&#39;job&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">value_counts</span><span class="p">(</span><span class="n">normalize</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">proporciones</span><span class="p">)</span>

<span class="c1"># Combinar los resultados en un solo DataFrame</span>
<span class="n">resultado</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">({</span>
    <span class="s1">&#39;Conteo&#39;</span><span class="p">:</span> <span class="n">conteo</span><span class="p">,</span>
    <span class="s1">&#39;Proporción&#39;</span><span class="p">:</span> <span class="n">proporciones</span>
<span class="p">})</span>

<span class="c1"># imprimir</span>
<span class="nb">print</span><span class="p">(</span><span class="n">resultado</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>job
blue-collar      9732
management       9458
technician       7597
admin.           5171
services         4154
retired          2264
self-employed    1579
entrepreneur     1487
unemployed       1303
housemaid        1240
student           938
unknown           288
Name: count, dtype: int64
job
blue-collar      0.215257
management       0.209197
technician       0.168034
admin.           0.114375
services         0.091880
retired          0.050076
self-employed    0.034925
entrepreneur     0.032890
unemployed       0.028820
housemaid        0.027427
student          0.020747
unknown          0.006370
Name: proportion, dtype: float64
               Conteo  Proporción
job                              
blue-collar      9732    0.215257
management       9458    0.209197
technician       7597    0.168034
admin.           5171    0.114375
services         4154    0.091880
retired          2264    0.050076
self-employed    1579    0.034925
entrepreneur     1487    0.032890
unemployed       1303    0.028820
housemaid        1240    0.027427
student           938    0.020747
unknown           288    0.006370
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Descriptivo de varias variable categórica solo conteo</span>
<span class="n">conteo</span> <span class="o">=</span> <span class="n">df</span><span class="p">[[</span><span class="s1">&#39;job&#39;</span><span class="p">,</span><span class="s1">&#39;education&#39;</span><span class="p">]]</span><span class="o">.</span><span class="n">value_counts</span><span class="p">()</span>
<span class="c1"># print(conteo)</span>

<span class="c1"># Descriptivo de varias variable categórica solo proporcion</span>
<span class="n">proporciones</span> <span class="o">=</span> <span class="n">df</span><span class="p">[[</span><span class="s1">&#39;job&#39;</span><span class="p">,</span><span class="s1">&#39;education&#39;</span><span class="p">]]</span><span class="o">.</span><span class="n">value_counts</span><span class="p">(</span><span class="n">normalize</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="c1"># print(proporciones)</span>

<span class="c1"># Combinar los resultados en un solo DataFrame</span>
<span class="n">resultado</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">({</span>
    <span class="s1">&#39;Conteo&#39;</span><span class="p">:</span> <span class="n">conteo</span><span class="p">,</span>
    <span class="s1">&#39;Proporción&#39;</span><span class="p">:</span> <span class="n">proporciones</span>
<span class="p">})</span>

<span class="c1"># imprimir</span>
<span class="nb">print</span><span class="p">(</span><span class="n">resultado</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>                         Conteo  Proporción
job           education                    
management    tertiary     7801    0.172547
blue-collar   secondary    5371    0.118799
technician    secondary    5229    0.115658
admin.        secondary    4219    0.093318
blue-collar   primary      3758    0.083121
services      secondary    3457    0.076464
technician    tertiary     1968    0.043529
management    secondary    1121    0.024795
retired       secondary     984    0.021765
self-employed tertiary      833    0.018425
retired       primary       795    0.017584
unemployed    secondary     728    0.016102
entrepreneur  tertiary      686    0.015173
housemaid     primary       627    0.013868
self-employed secondary     577    0.012762
admin.        tertiary      572    0.012652
entrepreneur  secondary     542    0.011988
student       secondary     508    0.011236
blue-collar   unknown       454    0.010042
housemaid     secondary     395    0.008737
retired       tertiary      366    0.008095
services      primary       345    0.007631
management    primary       294    0.006503
unemployed    tertiary      289    0.006392
              primary       257    0.005684
management    unknown       242    0.005353
technician    unknown       242    0.005353
student       tertiary      223    0.004932
admin.        primary       209    0.004623
services      tertiary      202    0.004468
entrepreneur  primary       183    0.004048
housemaid     tertiary      173    0.003827
admin.        unknown       171    0.003782
student       unknown       163    0.003605
technician    primary       158    0.003495
services      unknown       150    0.003318
blue-collar   tertiary      149    0.003296
self-employed primary       130    0.002875
unknown       unknown       127    0.002809
retired       unknown       119    0.002632
entrepreneur  unknown        76    0.001681
unknown       secondary      71    0.001570
              primary        51    0.001128
housemaid     unknown        45    0.000995
student       primary        44    0.000973
self-employed unknown        39    0.000863
unknown       tertiary       39    0.000863
unemployed    unknown        29    0.000641
</pre></div>
</div>
</div>
</div>
</section>
<section id="resumen-estadistico-bivariado">
<h5><strong>Resumen estadístico bivariado</strong><a class="headerlink" href="#resumen-estadistico-bivariado" title="Permalink to this heading">#</a></h5>
<p>El resumen estadístico bivariado se refiere al estudio de dos variables simultáneamente para determinar si existe alguna relación o asociación entre ellas. Solo realizaremos las tablas para dicho análisis estadístico.</p>
<ol class="arabic simple">
<li><p><strong>Variable categórica vs variable numérica</strong></p></li>
</ol>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># descriptivo edad según la suscripcion solo una variable</span>
<span class="n">df</span><span class="o">.</span><span class="n">groupby</span><span class="p">(</span><span class="s1">&#39;y&#39;</span><span class="p">)[</span><span class="s1">&#39;age&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">mean</span><span class="p">()</span>

<span class="n">var_num_cat</span> <span class="o">=</span> <span class="n">df</span><span class="o">.</span><span class="n">groupby</span><span class="p">(</span><span class="s1">&#39;y&#39;</span><span class="p">)[</span><span class="s1">&#39;age&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">agg</span><span class="p">([</span>
    <span class="p">(</span><span class="s1">&#39;Promedio&#39;</span><span class="p">,</span> <span class="s1">&#39;mean&#39;</span><span class="p">),</span>                       <span class="c1"># Media</span>
    <span class="p">(</span><span class="s1">&#39;Desv Estandar&#39;</span><span class="p">,</span> <span class="s1">&#39;std&#39;</span><span class="p">),</span>                         <span class="c1"># Desviación estándar</span>
    <span class="p">(</span><span class="s1">&#39;Minimo&#39;</span><span class="p">,</span> <span class="s1">&#39;min&#39;</span><span class="p">),</span>                         <span class="c1"># Mínimo</span>
    <span class="p">(</span><span class="s1">&#39;Maximo&#39;</span><span class="p">,</span> <span class="s1">&#39;max&#39;</span><span class="p">),</span>                         <span class="c1"># Máximo</span>
    <span class="p">(</span><span class="s1">&#39;Mediana&#39;</span><span class="p">,</span> <span class="s1">&#39;median&#39;</span><span class="p">),</span>                   <span class="c1"># Mediana</span>
    <span class="p">(</span><span class="s1">&#39;Cuantil 1&#39;</span><span class="p">,</span> <span class="k">lambda</span> <span class="n">x</span><span class="p">:</span> <span class="n">x</span><span class="o">.</span><span class="n">quantile</span><span class="p">(</span><span class="mf">0.25</span><span class="p">)),</span>   <span class="c1"># Cuantil 25%</span>
    <span class="p">(</span><span class="s1">&#39;Cuantil 3&#39;</span><span class="p">,</span> <span class="k">lambda</span> <span class="n">x</span><span class="p">:</span> <span class="n">x</span><span class="o">.</span><span class="n">quantile</span><span class="p">(</span><span class="mf">0.75</span><span class="p">))</span>    <span class="c1"># Cuantil 75%</span>
<span class="p">])</span>

<span class="c1"># Mostrar los resultados</span>
<span class="nb">print</span><span class="p">(</span><span class="n">var_num_cat</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>      Promedio  Desv Estandar  Minimo  Maximo  Mediana  Cuantil 1  Cuantil 3
y                                                                           
no   40.838986      10.172662      18      95     39.0       33.0       48.0
yes  41.670070      13.497781      18      95     38.0       31.0       50.0
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># descriptivo edad según la suscripcion varias variable</span>
<span class="n">df</span><span class="o">.</span><span class="n">groupby</span><span class="p">(</span><span class="s1">&#39;y&#39;</span><span class="p">)[[</span><span class="s1">&#39;age&#39;</span><span class="p">,</span><span class="s1">&#39;balance&#39;</span><span class="p">]]</span><span class="o">.</span><span class="n">mean</span><span class="p">()</span>

<span class="c1"># Resumen descriptivo  de edad según la suscripcion solo una variable</span>
<span class="n">var_num_cat</span> <span class="o">=</span> <span class="n">df</span><span class="o">.</span><span class="n">groupby</span><span class="p">(</span><span class="s1">&#39;y&#39;</span><span class="p">)[[</span><span class="s1">&#39;age&#39;</span><span class="p">,</span><span class="s1">&#39;balance&#39;</span><span class="p">]]</span><span class="o">.</span><span class="n">agg</span><span class="p">([</span>
    <span class="s1">&#39;mean&#39;</span><span class="p">,</span>                       <span class="c1"># Media</span>
    <span class="s1">&#39;std&#39;</span><span class="p">,</span>                        <span class="c1"># Desviación estándar</span>
    <span class="s1">&#39;min&#39;</span><span class="p">,</span>                        <span class="c1"># Mínimo</span>
    <span class="s1">&#39;max&#39;</span><span class="p">,</span>                        <span class="c1"># Máximo</span>
    <span class="s1">&#39;median&#39;</span><span class="p">,</span>                     <span class="c1"># Mediana</span>
    <span class="k">lambda</span> <span class="n">x</span><span class="p">:</span> <span class="n">x</span><span class="o">.</span><span class="n">quantile</span><span class="p">(</span><span class="mf">0.25</span><span class="p">),</span>   <span class="c1"># Cuantil 25%</span>
    <span class="k">lambda</span> <span class="n">x</span><span class="p">:</span> <span class="n">x</span><span class="o">.</span><span class="n">quantile</span><span class="p">(</span><span class="mf">0.75</span><span class="p">)</span>    <span class="c1"># Cuantil 75%</span>
<span class="p">])</span>

<span class="c1"># Renombrar las columnas resultantes</span>
<span class="n">var_num_cat</span><span class="o">.</span><span class="n">columns</span> <span class="o">=</span> <span class="p">[</span>
    <span class="s1">&#39;Edad_Promedio&#39;</span><span class="p">,</span> <span class="s1">&#39;Edad_Desviacion_Estandar&#39;</span><span class="p">,</span> <span class="s1">&#39;Edad_Minimo&#39;</span><span class="p">,</span> <span class="s1">&#39;Edad_Maximo&#39;</span><span class="p">,</span> <span class="s1">&#39;Edad_Mediana&#39;</span><span class="p">,</span> <span class="s1">&#39;Edad_Cuantil_1&#39;</span><span class="p">,</span> <span class="s1">&#39;Edad_Cuantil_3&#39;</span><span class="p">,</span>
    <span class="s1">&#39;Balance_Promedio&#39;</span><span class="p">,</span> <span class="s1">&#39;Balance_Desviacion_Estandar&#39;</span><span class="p">,</span> <span class="s1">&#39;Balance_Minimo&#39;</span><span class="p">,</span> <span class="s1">&#39;Balance_Maximo&#39;</span><span class="p">,</span> <span class="s1">&#39;Balance_Mediana&#39;</span><span class="p">,</span> <span class="s1">&#39;Balance_Cuantil_1&#39;</span><span class="p">,</span> <span class="s1">&#39;Balance_Cuantil_3&#39;</span>
<span class="p">]</span>

<span class="c1"># imprimir</span>
<span class="nb">print</span><span class="p">(</span><span class="n">var_num_cat</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>     Edad_Promedio  Edad_Desviacion_Estandar  Edad_Minimo  Edad_Maximo  \
y                                                                        
no       40.838986                 10.172662           18           95   
yes      41.670070                 13.497781           18           95   

     Edad_Mediana  Edad_Cuantil_1  Edad_Cuantil_3  Balance_Promedio  \
y                                                                     
no           39.0            33.0            48.0       1303.714969   
yes          38.0            31.0            50.0       1804.267915   

     Balance_Desviacion_Estandar  Balance_Minimo  Balance_Maximo  \
y                                                                  
no                   2974.195473           -8019          102127   
yes                  3501.104777           -3058           81204   

     Balance_Mediana  Balance_Cuantil_1  Balance_Cuantil_3  
y                                                           
no             417.0               58.0             1345.0  
yes            733.0              210.0             2159.0  
</pre></div>
</div>
</div>
</div>
</section>
<section id="resumen-estadistico-con-tablas-dinamicas">
<h5><strong>Resumen estadístico con tablas dinámicas</strong><a class="headerlink" href="#resumen-estadistico-con-tablas-dinamicas" title="Permalink to this heading">#</a></h5>
<p>Las tablas dinámicas son otras formas de calcular estadística de resumen agrupada. Por ejemplo</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># promedio de la edad según la suscripcion con pivot_table</span>
<span class="n">df</span><span class="o">.</span><span class="n">pivot_table</span><span class="p">(</span><span class="n">values</span><span class="o">=</span><span class="s1">&#39;age&#39;</span><span class="p">,</span><span class="n">index</span><span class="o">=</span><span class="s1">&#39;y&#39;</span><span class="p">)</span>

<span class="c1"># descriptivo edad según la suscripcion con pivot_table</span>

<span class="n">df</span><span class="o">.</span><span class="n">pivot_table</span><span class="p">(</span><span class="n">values</span><span class="o">=</span><span class="s1">&#39;age&#39;</span><span class="p">,</span><span class="n">index</span><span class="o">=</span><span class="s1">&#39;y&#39;</span><span class="p">,</span><span class="n">aggfunc</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;mean&#39;</span><span class="p">,</span><span class="s1">&#39;std&#39;</span><span class="p">,</span><span class="s1">&#39;min&#39;</span><span class="p">,</span><span class="s1">&#39;max&#39;</span><span class="p">,</span><span class="s1">&#39;median&#39;</span><span class="p">])</span>

<span class="c1"># Agreaar los cuantiles 1 y 3</span>
<span class="k">def</span> <span class="nf">q25</span><span class="p">(</span><span class="n">series</span><span class="p">):</span>
    <span class="k">return</span> <span class="n">np</span><span class="o">.</span><span class="n">quantile</span><span class="p">(</span><span class="n">series</span><span class="p">,</span> <span class="mf">0.25</span><span class="p">)</span>

<span class="k">def</span> <span class="nf">q75</span><span class="p">(</span><span class="n">series</span><span class="p">):</span>
    <span class="k">return</span> <span class="n">np</span><span class="o">.</span><span class="n">quantile</span><span class="p">(</span><span class="n">series</span><span class="p">,</span> <span class="mf">0.75</span><span class="p">)</span>

<span class="n">df</span><span class="o">.</span><span class="n">pivot_table</span><span class="p">(</span><span class="n">values</span><span class="o">=</span><span class="s1">&#39;age&#39;</span><span class="p">,</span><span class="n">index</span><span class="o">=</span><span class="s1">&#39;y&#39;</span><span class="p">,</span><span class="n">aggfunc</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;mean&#39;</span><span class="p">,</span><span class="s1">&#39;std&#39;</span><span class="p">,</span><span class="s1">&#39;min&#39;</span><span class="p">,</span><span class="s1">&#39;max&#39;</span><span class="p">,</span><span class="s1">&#39;median&#39;</span><span class="p">,</span><span class="n">q25</span><span class="p">,</span><span class="n">q75</span><span class="p">])</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead tr th {
        text-align: left;
    }

    .dataframe thead tr:last-of-type th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr>
      <th></th>
      <th>mean</th>
      <th>std</th>
      <th>min</th>
      <th>max</th>
      <th>median</th>
      <th>q25</th>
      <th>q75</th>
    </tr>
    <tr>
      <th></th>
      <th>age</th>
      <th>age</th>
      <th>age</th>
      <th>age</th>
      <th>age</th>
      <th>age</th>
      <th>age</th>
    </tr>
    <tr>
      <th>y</th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>no</th>
      <td>40.838986</td>
      <td>10.172662</td>
      <td>18</td>
      <td>95</td>
      <td>39.0</td>
      <td>33.0</td>
      <td>48.0</td>
    </tr>
    <tr>
      <th>yes</th>
      <td>41.670070</td>
      <td>13.497781</td>
      <td>18</td>
      <td>95</td>
      <td>38.0</td>
      <td>31.0</td>
      <td>50.0</td>
    </tr>
  </tbody>
</table>
</div></div></div>
</div>
<p>Ahora, usemos <code class="docutils literal notranslate"><span class="pre">pivot_table</span></code> para dos variables categóricas. Por ejemplo</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Promedio de edad de la variable educación vs empleo</span>
<span class="n">df</span><span class="o">.</span><span class="n">pivot_table</span><span class="p">(</span><span class="n">values</span> <span class="o">=</span> <span class="s1">&#39;age&#39;</span><span class="p">,</span><span class="n">index</span><span class="o">=</span><span class="s1">&#39;education&#39;</span><span class="p">,</span> <span class="n">columns</span><span class="o">=</span><span class="s1">&#39;job&#39;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th>job</th>
      <th>admin.</th>
      <th>blue-collar</th>
      <th>entrepreneur</th>
      <th>housemaid</th>
      <th>management</th>
      <th>retired</th>
      <th>self-employed</th>
      <th>services</th>
      <th>student</th>
      <th>technician</th>
      <th>unemployed</th>
      <th>unknown</th>
    </tr>
    <tr>
      <th>education</th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>primary</th>
      <td>46.100478</td>
      <td>42.294838</td>
      <td>44.360656</td>
      <td>48.631579</td>
      <td>48.605442</td>
      <td>62.698113</td>
      <td>45.276923</td>
      <td>43.756522</td>
      <td>22.636364</td>
      <td>47.189873</td>
      <td>43.073930</td>
      <td>47.000000</td>
    </tr>
    <tr>
      <th>secondary</th>
      <td>39.276843</td>
      <td>38.340160</td>
      <td>41.583026</td>
      <td>43.898734</td>
      <td>42.051740</td>
      <td>60.058943</td>
      <td>41.537262</td>
      <td>38.238068</td>
      <td>25.779528</td>
      <td>39.576975</td>
      <td>41.409341</td>
      <td>44.436620</td>
    </tr>
    <tr>
      <th>tertiary</th>
      <td>35.083916</td>
      <td>36.664430</td>
      <td>41.706997</td>
      <td>42.450867</td>
      <td>39.735931</td>
      <td>62.090164</td>
      <td>38.845138</td>
      <td>36.227723</td>
      <td>28.215247</td>
      <td>37.458841</td>
      <td>37.788927</td>
      <td>47.076923</td>
    </tr>
    <tr>
      <th>unknown</th>
      <td>45.356725</td>
      <td>42.680617</td>
      <td>45.671053</td>
      <td>52.866667</td>
      <td>46.123967</td>
      <td>66.008403</td>
      <td>43.948718</td>
      <td>42.160000</td>
      <td>27.687117</td>
      <td>43.595041</td>
      <td>42.620690</td>
      <td>49.755906</td>
    </tr>
  </tbody>
</table>
</div></div></div>
</div>
<p>Para crear una <strong>tabla de contigencia</strong>, basta con tener dos variables categóricas. Por ejemplo</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Crear la tabla pivote con conteo de personas</span>
<span class="n">pivot_table</span> <span class="o">=</span> <span class="n">df</span><span class="o">.</span><span class="n">pivot_table</span><span class="p">(</span>
    <span class="n">index</span><span class="o">=</span><span class="s1">&#39;education&#39;</span><span class="p">,</span>
    <span class="n">columns</span><span class="o">=</span><span class="s1">&#39;job&#39;</span><span class="p">,</span>
    <span class="n">aggfunc</span><span class="o">=</span><span class="s1">&#39;size&#39;</span>  <span class="c1"># Conteo de entradas</span>
<span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">pivot_table</span><span class="p">)</span>

<span class="c1"># Otra forma de crear una tabla de contingencia</span>
<span class="n">crosstab</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">crosstab</span><span class="p">(</span><span class="n">df</span><span class="p">[</span><span class="s1">&#39;education&#39;</span><span class="p">],</span> <span class="n">df</span><span class="p">[</span><span class="s1">&#39;job&#39;</span><span class="p">],</span> <span class="n">margins</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">margins_name</span><span class="o">=</span><span class="s1">&#39;Total&#39;</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">crosstab</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>job        admin.  blue-collar  entrepreneur  housemaid  management  retired  \
education                                                                      
primary       209         3758           183        627         294      795   
secondary    4219         5371           542        395        1121      984   
tertiary      572          149           686        173        7801      366   
unknown       171          454            76         45         242      119   

job        self-employed  services  student  technician  unemployed  unknown  
education                                                                     
primary              130       345       44         158         257       51  
secondary            577      3457      508        5229         728       71  
tertiary             833       202      223        1968         289       39  
unknown               39       150      163         242          29      127  
job        admin.  blue-collar  entrepreneur  housemaid  management  retired  \
education                                                                      
primary       209         3758           183        627         294      795   
secondary    4219         5371           542        395        1121      984   
tertiary      572          149           686        173        7801      366   
unknown       171          454            76         45         242      119   
Total        5171         9732          1487       1240        9458     2264   

job        self-employed  services  student  technician  unemployed  unknown  \
education                                                                      
primary              130       345       44         158         257       51   
secondary            577      3457      508        5229         728       71   
tertiary             833       202      223        1968         289       39   
unknown               39       150      163         242          29      127   
Total               1579      4154      938        7597        1303      288   

job        Total  
education         
primary     6851  
secondary  23202  
tertiary   13301  
unknown     1857  
Total      45211  
</pre></div>
</div>
</div>
</div>
</section>
</section>
<section id="indices-explicitos">
<h4><strong>Indices explicitos</strong><a class="headerlink" href="#indices-explicitos" title="Permalink to this heading">#</a></h4>
<p>En Python, los <strong>índices</strong> son utilizados para acceder a elementos en estructuras de datos como listas, tuplas, y matrices (arrays). Un índice explícito se refiere a la práctica de definir de manera específica el índice que se va a utilizar para acceder a un elemento, en lugar de depender de la indexación automática por la posición.</p>
<div class="note admonition">
<p class="admonition-title"><strong>Características de los Índices Explícitos</strong></p>
<ul class="simple">
<li><p><strong>Flexibilidad</strong>: Permiten el acceso a elementos específicos de una estructura de datos sin necesidad de recorrer secuencialmente todos los elementos.</p></li>
<li><p><strong>Claridad</strong>: Facilitan la lectura y comprensión del código al hacer evidente qué elementos se están accediendo o modificando.</p></li>
<li><p><strong>Manipulación de Datos</strong>: Hacen más sencillo realizar operaciones como reordenar elementos, filtrar,seleccionar, agrupar o acceder a subconjuntos de datos.</p></li>
<li><p><strong>Compatibilidad con Pandas</strong>: En bibliotecas como pandas, los índices explícitos son fundamentales para trabajar con Series y DataFrames, permitiendo indexar tanto por números como por etiquetas.</p></li>
<li><p><strong>Precisión</strong>: Al especificar el índice, reduces el riesgo de errores al manipular datos.</p></li>
<li><p><strong>Eficiencia</strong>: Mejoran la eficiencia al permitir operaciones directas sobre los elementos deseados.</p></li>
</ul>
</div>
<p>Visualicemos nuevamente el dataframe de marketing para la banca.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># marco de datos</span>
<span class="n">df</span><span class="o">.</span><span class="n">head</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>age</th>
      <th>job</th>
      <th>marital</th>
      <th>education</th>
      <th>default</th>
      <th>balance</th>
      <th>housing</th>
      <th>loan</th>
      <th>contact</th>
      <th>day</th>
      <th>month</th>
      <th>duration</th>
      <th>campaign</th>
      <th>pdays</th>
      <th>previous</th>
      <th>poutcome</th>
      <th>y</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>58</td>
      <td>management</td>
      <td>married</td>
      <td>tertiary</td>
      <td>no</td>
      <td>2143</td>
      <td>yes</td>
      <td>no</td>
      <td>unknown</td>
      <td>5</td>
      <td>may</td>
      <td>261</td>
      <td>1</td>
      <td>-1</td>
      <td>0</td>
      <td>unknown</td>
      <td>no</td>
    </tr>
    <tr>
      <th>1</th>
      <td>44</td>
      <td>technician</td>
      <td>single</td>
      <td>secondary</td>
      <td>no</td>
      <td>29</td>
      <td>yes</td>
      <td>no</td>
      <td>unknown</td>
      <td>5</td>
      <td>may</td>
      <td>151</td>
      <td>1</td>
      <td>-1</td>
      <td>0</td>
      <td>unknown</td>
      <td>no</td>
    </tr>
    <tr>
      <th>2</th>
      <td>33</td>
      <td>entrepreneur</td>
      <td>married</td>
      <td>secondary</td>
      <td>no</td>
      <td>2</td>
      <td>yes</td>
      <td>yes</td>
      <td>unknown</td>
      <td>5</td>
      <td>may</td>
      <td>76</td>
      <td>1</td>
      <td>-1</td>
      <td>0</td>
      <td>unknown</td>
      <td>no</td>
    </tr>
    <tr>
      <th>3</th>
      <td>47</td>
      <td>blue-collar</td>
      <td>married</td>
      <td>unknown</td>
      <td>no</td>
      <td>1506</td>
      <td>yes</td>
      <td>no</td>
      <td>unknown</td>
      <td>5</td>
      <td>may</td>
      <td>92</td>
      <td>1</td>
      <td>-1</td>
      <td>0</td>
      <td>unknown</td>
      <td>no</td>
    </tr>
    <tr>
      <th>4</th>
      <td>33</td>
      <td>unknown</td>
      <td>single</td>
      <td>unknown</td>
      <td>no</td>
      <td>1</td>
      <td>no</td>
      <td>no</td>
      <td>unknown</td>
      <td>5</td>
      <td>may</td>
      <td>198</td>
      <td>1</td>
      <td>-1</td>
      <td>0</td>
      <td>unknown</td>
      <td>no</td>
    </tr>
  </tbody>
</table>
</div></div></div>
</div>
<p>Analicemos algunas funciones utiles de la indexación explicita:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">df.set_index()</span></code>; Este método se usa para establecer una o más columnas del DataFrame como su índice.</p></li>
</ul>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Establecer la columna &#39;job&#39; como índice</span>
<span class="n">df</span><span class="o">.</span><span class="n">set_index</span><span class="p">(</span><span class="s1">&#39;job&#39;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>age</th>
      <th>marital</th>
      <th>education</th>
      <th>default</th>
      <th>balance</th>
      <th>housing</th>
      <th>loan</th>
      <th>contact</th>
      <th>day</th>
      <th>month</th>
      <th>duration</th>
      <th>campaign</th>
      <th>pdays</th>
      <th>previous</th>
      <th>poutcome</th>
      <th>y</th>
    </tr>
    <tr>
      <th>job</th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>management</th>
      <td>58</td>
      <td>married</td>
      <td>tertiary</td>
      <td>no</td>
      <td>2143</td>
      <td>yes</td>
      <td>no</td>
      <td>unknown</td>
      <td>5</td>
      <td>may</td>
      <td>261</td>
      <td>1</td>
      <td>-1</td>
      <td>0</td>
      <td>unknown</td>
      <td>no</td>
    </tr>
    <tr>
      <th>technician</th>
      <td>44</td>
      <td>single</td>
      <td>secondary</td>
      <td>no</td>
      <td>29</td>
      <td>yes</td>
      <td>no</td>
      <td>unknown</td>
      <td>5</td>
      <td>may</td>
      <td>151</td>
      <td>1</td>
      <td>-1</td>
      <td>0</td>
      <td>unknown</td>
      <td>no</td>
    </tr>
    <tr>
      <th>entrepreneur</th>
      <td>33</td>
      <td>married</td>
      <td>secondary</td>
      <td>no</td>
      <td>2</td>
      <td>yes</td>
      <td>yes</td>
      <td>unknown</td>
      <td>5</td>
      <td>may</td>
      <td>76</td>
      <td>1</td>
      <td>-1</td>
      <td>0</td>
      <td>unknown</td>
      <td>no</td>
    </tr>
    <tr>
      <th>blue-collar</th>
      <td>47</td>
      <td>married</td>
      <td>unknown</td>
      <td>no</td>
      <td>1506</td>
      <td>yes</td>
      <td>no</td>
      <td>unknown</td>
      <td>5</td>
      <td>may</td>
      <td>92</td>
      <td>1</td>
      <td>-1</td>
      <td>0</td>
      <td>unknown</td>
      <td>no</td>
    </tr>
    <tr>
      <th>unknown</th>
      <td>33</td>
      <td>single</td>
      <td>unknown</td>
      <td>no</td>
      <td>1</td>
      <td>no</td>
      <td>no</td>
      <td>unknown</td>
      <td>5</td>
      <td>may</td>
      <td>198</td>
      <td>1</td>
      <td>-1</td>
      <td>0</td>
      <td>unknown</td>
      <td>no</td>
    </tr>
    <tr>
      <th>...</th>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
    </tr>
    <tr>
      <th>technician</th>
      <td>51</td>
      <td>married</td>
      <td>tertiary</td>
      <td>no</td>
      <td>825</td>
      <td>no</td>
      <td>no</td>
      <td>cellular</td>
      <td>17</td>
      <td>nov</td>
      <td>977</td>
      <td>3</td>
      <td>-1</td>
      <td>0</td>
      <td>unknown</td>
      <td>yes</td>
    </tr>
    <tr>
      <th>retired</th>
      <td>71</td>
      <td>divorced</td>
      <td>primary</td>
      <td>no</td>
      <td>1729</td>
      <td>no</td>
      <td>no</td>
      <td>cellular</td>
      <td>17</td>
      <td>nov</td>
      <td>456</td>
      <td>2</td>
      <td>-1</td>
      <td>0</td>
      <td>unknown</td>
      <td>yes</td>
    </tr>
    <tr>
      <th>retired</th>
      <td>72</td>
      <td>married</td>
      <td>secondary</td>
      <td>no</td>
      <td>5715</td>
      <td>no</td>
      <td>no</td>
      <td>cellular</td>
      <td>17</td>
      <td>nov</td>
      <td>1127</td>
      <td>5</td>
      <td>184</td>
      <td>3</td>
      <td>success</td>
      <td>yes</td>
    </tr>
    <tr>
      <th>blue-collar</th>
      <td>57</td>
      <td>married</td>
      <td>secondary</td>
      <td>no</td>
      <td>668</td>
      <td>no</td>
      <td>no</td>
      <td>telephone</td>
      <td>17</td>
      <td>nov</td>
      <td>508</td>
      <td>4</td>
      <td>-1</td>
      <td>0</td>
      <td>unknown</td>
      <td>no</td>
    </tr>
    <tr>
      <th>entrepreneur</th>
      <td>37</td>
      <td>married</td>
      <td>secondary</td>
      <td>no</td>
      <td>2971</td>
      <td>no</td>
      <td>no</td>
      <td>cellular</td>
      <td>17</td>
      <td>nov</td>
      <td>361</td>
      <td>2</td>
      <td>188</td>
      <td>11</td>
      <td>other</td>
      <td>no</td>
    </tr>
  </tbody>
</table>
<p>45211 rows × 16 columns</p>
</div></div></div>
</div>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">df.reset_index()</span></code>:Este método se usa para restablecer el índice del DataFrame, devolviendo los índices actuales a columnas y creando un nuevo índice numérico predeterminado. Si usas el parámetro <code class="docutils literal notranslate"><span class="pre">drop=True</span></code> indica que se debe eliminar la columna de índice original en lugar de moverla a una columna.</p></li>
</ul>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">df</span><span class="o">.</span><span class="n">reset_index</span><span class="p">(</span><span class="n">drop</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>age</th>
      <th>job</th>
      <th>marital</th>
      <th>education</th>
      <th>default</th>
      <th>balance</th>
      <th>housing</th>
      <th>loan</th>
      <th>contact</th>
      <th>day</th>
      <th>month</th>
      <th>duration</th>
      <th>campaign</th>
      <th>pdays</th>
      <th>previous</th>
      <th>poutcome</th>
      <th>y</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>58</td>
      <td>management</td>
      <td>married</td>
      <td>tertiary</td>
      <td>no</td>
      <td>2143</td>
      <td>yes</td>
      <td>no</td>
      <td>unknown</td>
      <td>5</td>
      <td>may</td>
      <td>261</td>
      <td>1</td>
      <td>-1</td>
      <td>0</td>
      <td>unknown</td>
      <td>no</td>
    </tr>
    <tr>
      <th>1</th>
      <td>44</td>
      <td>technician</td>
      <td>single</td>
      <td>secondary</td>
      <td>no</td>
      <td>29</td>
      <td>yes</td>
      <td>no</td>
      <td>unknown</td>
      <td>5</td>
      <td>may</td>
      <td>151</td>
      <td>1</td>
      <td>-1</td>
      <td>0</td>
      <td>unknown</td>
      <td>no</td>
    </tr>
    <tr>
      <th>2</th>
      <td>33</td>
      <td>entrepreneur</td>
      <td>married</td>
      <td>secondary</td>
      <td>no</td>
      <td>2</td>
      <td>yes</td>
      <td>yes</td>
      <td>unknown</td>
      <td>5</td>
      <td>may</td>
      <td>76</td>
      <td>1</td>
      <td>-1</td>
      <td>0</td>
      <td>unknown</td>
      <td>no</td>
    </tr>
    <tr>
      <th>3</th>
      <td>47</td>
      <td>blue-collar</td>
      <td>married</td>
      <td>unknown</td>
      <td>no</td>
      <td>1506</td>
      <td>yes</td>
      <td>no</td>
      <td>unknown</td>
      <td>5</td>
      <td>may</td>
      <td>92</td>
      <td>1</td>
      <td>-1</td>
      <td>0</td>
      <td>unknown</td>
      <td>no</td>
    </tr>
    <tr>
      <th>4</th>
      <td>33</td>
      <td>unknown</td>
      <td>single</td>
      <td>unknown</td>
      <td>no</td>
      <td>1</td>
      <td>no</td>
      <td>no</td>
      <td>unknown</td>
      <td>5</td>
      <td>may</td>
      <td>198</td>
      <td>1</td>
      <td>-1</td>
      <td>0</td>
      <td>unknown</td>
      <td>no</td>
    </tr>
    <tr>
      <th>...</th>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
    </tr>
    <tr>
      <th>45206</th>
      <td>51</td>
      <td>technician</td>
      <td>married</td>
      <td>tertiary</td>
      <td>no</td>
      <td>825</td>
      <td>no</td>
      <td>no</td>
      <td>cellular</td>
      <td>17</td>
      <td>nov</td>
      <td>977</td>
      <td>3</td>
      <td>-1</td>
      <td>0</td>
      <td>unknown</td>
      <td>yes</td>
    </tr>
    <tr>
      <th>45207</th>
      <td>71</td>
      <td>retired</td>
      <td>divorced</td>
      <td>primary</td>
      <td>no</td>
      <td>1729</td>
      <td>no</td>
      <td>no</td>
      <td>cellular</td>
      <td>17</td>
      <td>nov</td>
      <td>456</td>
      <td>2</td>
      <td>-1</td>
      <td>0</td>
      <td>unknown</td>
      <td>yes</td>
    </tr>
    <tr>
      <th>45208</th>
      <td>72</td>
      <td>retired</td>
      <td>married</td>
      <td>secondary</td>
      <td>no</td>
      <td>5715</td>
      <td>no</td>
      <td>no</td>
      <td>cellular</td>
      <td>17</td>
      <td>nov</td>
      <td>1127</td>
      <td>5</td>
      <td>184</td>
      <td>3</td>
      <td>success</td>
      <td>yes</td>
    </tr>
    <tr>
      <th>45209</th>
      <td>57</td>
      <td>blue-collar</td>
      <td>married</td>
      <td>secondary</td>
      <td>no</td>
      <td>668</td>
      <td>no</td>
      <td>no</td>
      <td>telephone</td>
      <td>17</td>
      <td>nov</td>
      <td>508</td>
      <td>4</td>
      <td>-1</td>
      <td>0</td>
      <td>unknown</td>
      <td>no</td>
    </tr>
    <tr>
      <th>45210</th>
      <td>37</td>
      <td>entrepreneur</td>
      <td>married</td>
      <td>secondary</td>
      <td>no</td>
      <td>2971</td>
      <td>no</td>
      <td>no</td>
      <td>cellular</td>
      <td>17</td>
      <td>nov</td>
      <td>361</td>
      <td>2</td>
      <td>188</td>
      <td>11</td>
      <td>other</td>
      <td>no</td>
    </tr>
  </tbody>
</table>
<p>45211 rows × 17 columns</p>
</div></div></div>
</div>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">df.sort_index()</span></code>: Este método ordena las filas del DataFrame en función del índice.</p></li>
</ul>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># orden de los indices</span>
<span class="n">df</span><span class="o">.</span><span class="n">sort_index</span><span class="p">(</span><span class="n">ascending</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>age</th>
      <th>job</th>
      <th>marital</th>
      <th>education</th>
      <th>default</th>
      <th>balance</th>
      <th>housing</th>
      <th>loan</th>
      <th>contact</th>
      <th>day</th>
      <th>month</th>
      <th>duration</th>
      <th>campaign</th>
      <th>pdays</th>
      <th>previous</th>
      <th>poutcome</th>
      <th>y</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>45210</th>
      <td>37</td>
      <td>entrepreneur</td>
      <td>married</td>
      <td>secondary</td>
      <td>no</td>
      <td>2971</td>
      <td>no</td>
      <td>no</td>
      <td>cellular</td>
      <td>17</td>
      <td>nov</td>
      <td>361</td>
      <td>2</td>
      <td>188</td>
      <td>11</td>
      <td>other</td>
      <td>no</td>
    </tr>
    <tr>
      <th>45209</th>
      <td>57</td>
      <td>blue-collar</td>
      <td>married</td>
      <td>secondary</td>
      <td>no</td>
      <td>668</td>
      <td>no</td>
      <td>no</td>
      <td>telephone</td>
      <td>17</td>
      <td>nov</td>
      <td>508</td>
      <td>4</td>
      <td>-1</td>
      <td>0</td>
      <td>unknown</td>
      <td>no</td>
    </tr>
    <tr>
      <th>45208</th>
      <td>72</td>
      <td>retired</td>
      <td>married</td>
      <td>secondary</td>
      <td>no</td>
      <td>5715</td>
      <td>no</td>
      <td>no</td>
      <td>cellular</td>
      <td>17</td>
      <td>nov</td>
      <td>1127</td>
      <td>5</td>
      <td>184</td>
      <td>3</td>
      <td>success</td>
      <td>yes</td>
    </tr>
    <tr>
      <th>45207</th>
      <td>71</td>
      <td>retired</td>
      <td>divorced</td>
      <td>primary</td>
      <td>no</td>
      <td>1729</td>
      <td>no</td>
      <td>no</td>
      <td>cellular</td>
      <td>17</td>
      <td>nov</td>
      <td>456</td>
      <td>2</td>
      <td>-1</td>
      <td>0</td>
      <td>unknown</td>
      <td>yes</td>
    </tr>
    <tr>
      <th>45206</th>
      <td>51</td>
      <td>technician</td>
      <td>married</td>
      <td>tertiary</td>
      <td>no</td>
      <td>825</td>
      <td>no</td>
      <td>no</td>
      <td>cellular</td>
      <td>17</td>
      <td>nov</td>
      <td>977</td>
      <td>3</td>
      <td>-1</td>
      <td>0</td>
      <td>unknown</td>
      <td>yes</td>
    </tr>
    <tr>
      <th>...</th>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
    </tr>
    <tr>
      <th>4</th>
      <td>33</td>
      <td>unknown</td>
      <td>single</td>
      <td>unknown</td>
      <td>no</td>
      <td>1</td>
      <td>no</td>
      <td>no</td>
      <td>unknown</td>
      <td>5</td>
      <td>may</td>
      <td>198</td>
      <td>1</td>
      <td>-1</td>
      <td>0</td>
      <td>unknown</td>
      <td>no</td>
    </tr>
    <tr>
      <th>3</th>
      <td>47</td>
      <td>blue-collar</td>
      <td>married</td>
      <td>unknown</td>
      <td>no</td>
      <td>1506</td>
      <td>yes</td>
      <td>no</td>
      <td>unknown</td>
      <td>5</td>
      <td>may</td>
      <td>92</td>
      <td>1</td>
      <td>-1</td>
      <td>0</td>
      <td>unknown</td>
      <td>no</td>
    </tr>
    <tr>
      <th>2</th>
      <td>33</td>
      <td>entrepreneur</td>
      <td>married</td>
      <td>secondary</td>
      <td>no</td>
      <td>2</td>
      <td>yes</td>
      <td>yes</td>
      <td>unknown</td>
      <td>5</td>
      <td>may</td>
      <td>76</td>
      <td>1</td>
      <td>-1</td>
      <td>0</td>
      <td>unknown</td>
      <td>no</td>
    </tr>
    <tr>
      <th>1</th>
      <td>44</td>
      <td>technician</td>
      <td>single</td>
      <td>secondary</td>
      <td>no</td>
      <td>29</td>
      <td>yes</td>
      <td>no</td>
      <td>unknown</td>
      <td>5</td>
      <td>may</td>
      <td>151</td>
      <td>1</td>
      <td>-1</td>
      <td>0</td>
      <td>unknown</td>
      <td>no</td>
    </tr>
    <tr>
      <th>0</th>
      <td>58</td>
      <td>management</td>
      <td>married</td>
      <td>tertiary</td>
      <td>no</td>
      <td>2143</td>
      <td>yes</td>
      <td>no</td>
      <td>unknown</td>
      <td>5</td>
      <td>may</td>
      <td>261</td>
      <td>1</td>
      <td>-1</td>
      <td>0</td>
      <td>unknown</td>
      <td>no</td>
    </tr>
  </tbody>
</table>
<p>45211 rows × 17 columns</p>
</div></div></div>
</div>
<p>En conclusión, el uso de índices explícitos en Python es una técnica poderosa que permite un control detallado sobre la manipulación de datos. Ya sea en estructuras simples como listas o en análisis más complejos utilizando pandas, el conocimiento y uso adecuado de índices explícitos puede mejorar significativamente la eficiencia y claridad de tu código.</p>
</section>
</section>
</section>
<section id="visualizacion-sencilla-de-datos">
<h2><strong>Visualización sencilla de datos</strong><a class="headerlink" href="#visualizacion-sencilla-de-datos" title="Permalink to this heading">#</a></h2>
<p><strong>Matplotlib</strong> es una biblioteca de visualización de datos en Python ampliamente utilizada, especialmente en los campos de la ciencia de datos, la ingeniería y la investigación. Permite crear una amplia gama de gráficos, desde simples gráficos de líneas y dispersión hasta complejas visualizaciones tridimensionales y gráficos interactivos.</p>
<div class="note admonition">
<p class="admonition-title"><strong>Características principales de Matplotlib</strong></p>
<ul class="simple">
<li><p><strong>Flexibilidad</strong>: Matplotlib ofrece una amplia personalización en todos los aspectos del gráfico, como colores, tipos de línea, marcadores, etiquetas y leyendas.</p></li>
<li><p><strong>Versatilidad</strong>: Puede generar gráficos estáticos, animados e interactivos en diferentes formatos de archivo, incluyendo PNG, PDF, SVG y más.</p></li>
<li><p><strong>Compatibilidad</strong>: Se integra fácilmente con otras bibliotecas populares como <code class="docutils literal notranslate"><span class="pre">NumPy</span></code>, <code class="docutils literal notranslate"><span class="pre">pandas</span></code> y <code class="docutils literal notranslate"><span class="pre">Seaborn</span></code>, facilitando el análisis y visualización de datos.</p></li>
<li><p><strong>API orientada a objetos</strong>: <code class="docutils literal notranslate"><span class="pre">Matplotlib</span></code> ofrece una API que permite un control detallado sobre la creación y personalización de gráficos.</p></li>
</ul>
</div>
<div class="note admonition">
<p class="admonition-title"><strong>Ventajas de Matplotlib</strong></p>
<ul class="simple">
<li><p><strong>Amplia documentación</strong>: Matplotlib tiene una documentación extensa y muchos ejemplos, lo que facilita su aprendizaje y uso.</p></li>
<li><p><strong>Gran comunidad</strong>: Existe una gran comunidad de usuarios que contribuyen con ejemplos, tutoriales y soluciones a problemas comunes.</p></li>
<li><p><strong>Personalización detallada</strong>: Permite ajustar prácticamente cualquier aspecto de los gráficos, desde los tamaños de las figuras hasta los estilos de línea y los colores.</p></li>
</ul>
</div>
<div class="warning admonition">
<p class="admonition-title"><strong>Desventajas de Matplotlib</strong></p>
<ul class="simple">
<li><p><strong>Curva de aprendizaje</strong>: Aunque poderosa, la flexibilidad de Matplotlib puede resultar intimidante para los principiantes, especialmente cuando se trata de personalizar gráficos complejos.</p></li>
<li><p><strong>Estética básica</strong>: Los gráficos creados con Matplotlib, sin personalización adicional, pueden parecer básicos en comparación con otras bibliotecas como Seaborn o Plotly.</p></li>
</ul>
</div>
<p><code class="docutils literal notranslate"><span class="pre">Seaborn</span></code> es una biblioteca de visualización de datos basada en Matplotlib que proporciona una interfaz de alto nivel para crear gráficos estadísticos atractivos y fáciles de interpretar en Python. <code class="docutils literal notranslate"><span class="pre">Seaborn</span></code> está diseñada para trabajar bien con estructuras de datos de pandas y ofrece una serie de herramientas avanzadas para el análisis visual, lo que la convierte en una opción popular entre los científicos de datos, analistas y desarrolladores.</p>
<p><strong>Principales Características de <code class="docutils literal notranslate"><span class="pre">Seaborn</span></code>:</strong></p>
<ul class="simple">
<li><p><strong>Interfaz de Alto Nivel</strong>: <code class="docutils literal notranslate"><span class="pre">Seaborn</span></code> simplifica la creación de gráficos al proporcionar funciones de alto nivel que requieren menos código que Matplotlib para realizar tareas similares. Esto permite generar gráficos complejos con menos esfuerzo.</p></li>
<li><p><strong>Integración con Pandas</strong>: <code class="docutils literal notranslate"><span class="pre">Seaborn</span></code> trabaja de manera eficiente con los DataFrames de Pandas, lo que permite pasar directamente las columnas del DataFrame como entrada para crear gráficos. También es capaz de manejar automáticamente las leyendas y los ejes con nombres de variables.</p></li>
<li><p><strong>Paletas de Colores Personalizables</strong>: <code class="docutils literal notranslate"><span class="pre">Seaborn</span></code> ofrece varias paletas de colores prediseñadas que facilitan la creación de gráficos estéticamente agradables. También permite personalizar las paletas de colores para adaptarse a diferentes estilos y necesidades.</p></li>
<li><p><strong>Visualización de Relaciones Estadísticas</strong>: <code class="docutils literal notranslate"><span class="pre">Seaborn</span></code> está diseñado para mostrar las relaciones estadísticas subyacentes en los datos. Por ejemplo, puede crear gráficos de regresión, gráficos de dispersión, gráficos de correlación, entre otros.</p></li>
<li><p><strong>Visualización de Datos Categóricos</strong>: <code class="docutils literal notranslate"><span class="pre">Seaborn</span></code> proporciona varias funciones para crear gráficos que muestran datos categóricos, como barplot, countplot, boxplot, violinplot, entre otros.</p></li>
<li><p><strong>Visualización de Distribuciones de Datos</strong>: <code class="docutils literal notranslate"><span class="pre">Seaborn</span></code> facilita la visualización de distribuciones de datos utilizando gráficos como el histograma (histplot), gráficos de densidad de kernel (KDE), y gráficos de distribución conjunta (jointplot).</p></li>
<li><p><strong>Gráficos de Facetas</strong>: Con <code class="docutils literal notranslate"><span class="pre">Seaborn</span></code>, es posible crear gráficos de facetas que muestran múltiples gráficos en una sola figura para diferentes subconjuntos de datos. Esto es particularmente útil para la visualización exploratoria de datos y el análisis multivariado.</p></li>
</ul>
<p><strong>Temas de Estilo Integrados</strong>: <code class="docutils literal notranslate"><span class="pre">Seaborn</span></code> tiene temas de estilo incorporados como darkgrid, whitegrid, dark, white, y ticks, que se pueden aplicar fácilmente a los gráficos para mejorar la estética.</p>
<p>Para el desarrollo de las visualización trabajaremos con datos sobre los almacenes Walmart, que es un cadena de grande almacenes de Ewa.</p>
<figure class="align-center" id="walmart">
<a class="reference internal image-reference" href="_images/walmart.png"><img alt="_images/walmart.png" src="_images/walmart.png" style="width: 488.5px; height: 268.5px;" /></a>
</figure>
<p>El conjunto de datos completos lo puede encontrar este <a class="reference external" href="https://www.kaggle.com/datasets/yasserh/walmart-dataset/data">link</a>. Trabajaremos un subconjunto de datos contiene las ventas semanales en dolares, cada tienda tiene un número de identificación y un tipo de tienda específico, las ventas estan separadas por ID de departamento. Junto con las ventas hay variables como si fue de vacaciones o no, la temperatura media durante la semana en esa localidad, el tiempo medio del combustible en dolares por litro esa semana y la tasa de desempleo de esa semana</p>
<p>Aquí tienes una explicación de las variables en el conjunto de datos de ventas proporcionado:</p>
<ul class="simple">
<li><p><strong>Unnamed</strong>: Columna de índice que parece haber sido incluida al guardar el archivo. No es una variable significativa.</p></li>
<li><p><strong>store</strong>: Identificador del número de la tienda.</p></li>
<li><p><strong>type</strong>: Tipo de tienda, representado por una letra (por ejemplo, “A”, “B”, etc.).</p></li>
<li><p><strong>department</strong>: Identificador del número de departamento dentro de la tienda.</p></li>
<li><p><strong>date</strong>: Fecha en la que se registró la venta.</p></li>
<li><p><strong>weekly_sales</strong>: Ventas semanales en USD registradas en esa tienda y departamento específicos.</p></li>
<li><p><strong>is_holiday</strong>: Variable booleana que indica si la fecha corresponde a un día festivo o no. Los valores son “True” o “False”.</p></li>
<li><p><strong>temperature_c</strong>: Temperatura en grados Celsius en la fecha registrada.</p></li>
<li><p><strong>fuel_price_usd_per_l</strong>: Precio del combustible en dólares estadounidenses por litro en la fecha registrada.</p></li>
<li><p><strong>unemployment</strong>: Tasa de desempleo en la fecha registrada.</p></li>
</ul>
<p>Carguemos el conjunto de datos:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">df</span> <span class="o">=</span>  <span class="n">pd</span><span class="o">.</span><span class="n">read_csv</span><span class="p">(</span><span class="s1">&#39;_data/datamanip/sales.csv&#39;</span><span class="p">)</span>
<span class="n">df</span><span class="o">.</span><span class="n">head</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>Unnamed: 0</th>
      <th>store</th>
      <th>type</th>
      <th>department</th>
      <th>date</th>
      <th>weekly_sales</th>
      <th>is_holiday</th>
      <th>temperature_c</th>
      <th>fuel_price_usd_per_l</th>
      <th>unemployment</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>0</td>
      <td>1</td>
      <td>A</td>
      <td>1</td>
      <td>2010-02-05</td>
      <td>24924.50</td>
      <td>False</td>
      <td>5.727778</td>
      <td>0.679451</td>
      <td>8.106</td>
    </tr>
    <tr>
      <th>1</th>
      <td>1</td>
      <td>1</td>
      <td>A</td>
      <td>1</td>
      <td>2010-03-05</td>
      <td>21827.90</td>
      <td>False</td>
      <td>8.055556</td>
      <td>0.693452</td>
      <td>8.106</td>
    </tr>
    <tr>
      <th>2</th>
      <td>2</td>
      <td>1</td>
      <td>A</td>
      <td>1</td>
      <td>2010-04-02</td>
      <td>57258.43</td>
      <td>False</td>
      <td>16.816667</td>
      <td>0.718284</td>
      <td>7.808</td>
    </tr>
    <tr>
      <th>3</th>
      <td>3</td>
      <td>1</td>
      <td>A</td>
      <td>1</td>
      <td>2010-05-07</td>
      <td>17413.94</td>
      <td>False</td>
      <td>22.527778</td>
      <td>0.748928</td>
      <td>7.808</td>
    </tr>
    <tr>
      <th>4</th>
      <td>4</td>
      <td>1</td>
      <td>A</td>
      <td>1</td>
      <td>2010-06-04</td>
      <td>17558.09</td>
      <td>False</td>
      <td>27.050000</td>
      <td>0.714586</td>
      <td>7.808</td>
    </tr>
  </tbody>
</table>
</div></div></div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Renombrar una columna</span>
<span class="n">df</span><span class="o">.</span><span class="n">rename</span><span class="p">(</span><span class="n">columns</span><span class="o">=</span><span class="p">{</span><span class="s1">&#39;Unnamed: 0&#39;</span><span class="p">:</span> <span class="s1">&#39;id&#39;</span><span class="p">},</span> <span class="n">inplace</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="n">df</span><span class="o">.</span><span class="n">head</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>id</th>
      <th>store</th>
      <th>type</th>
      <th>department</th>
      <th>date</th>
      <th>weekly_sales</th>
      <th>is_holiday</th>
      <th>temperature_c</th>
      <th>fuel_price_usd_per_l</th>
      <th>unemployment</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>0</td>
      <td>1</td>
      <td>A</td>
      <td>1</td>
      <td>2010-02-05</td>
      <td>24924.50</td>
      <td>False</td>
      <td>5.727778</td>
      <td>0.679451</td>
      <td>8.106</td>
    </tr>
    <tr>
      <th>1</th>
      <td>1</td>
      <td>1</td>
      <td>A</td>
      <td>1</td>
      <td>2010-03-05</td>
      <td>21827.90</td>
      <td>False</td>
      <td>8.055556</td>
      <td>0.693452</td>
      <td>8.106</td>
    </tr>
    <tr>
      <th>2</th>
      <td>2</td>
      <td>1</td>
      <td>A</td>
      <td>1</td>
      <td>2010-04-02</td>
      <td>57258.43</td>
      <td>False</td>
      <td>16.816667</td>
      <td>0.718284</td>
      <td>7.808</td>
    </tr>
    <tr>
      <th>3</th>
      <td>3</td>
      <td>1</td>
      <td>A</td>
      <td>1</td>
      <td>2010-05-07</td>
      <td>17413.94</td>
      <td>False</td>
      <td>22.527778</td>
      <td>0.748928</td>
      <td>7.808</td>
    </tr>
    <tr>
      <th>4</th>
      <td>4</td>
      <td>1</td>
      <td>A</td>
      <td>1</td>
      <td>2010-06-04</td>
      <td>17558.09</td>
      <td>False</td>
      <td>27.050000</td>
      <td>0.714586</td>
      <td>7.808</td>
    </tr>
  </tbody>
</table>
</div></div></div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Informacion del conjunto de datos</span>
<span class="n">df</span><span class="o">.</span><span class="n">info</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>&lt;class &#39;pandas.core.frame.DataFrame&#39;&gt;
RangeIndex: 10774 entries, 0 to 10773
Data columns (total 10 columns):
 #   Column                Non-Null Count  Dtype  
---  ------                --------------  -----  
 0   id                    10774 non-null  int64  
 1   store                 10774 non-null  int64  
 2   type                  10774 non-null  object 
 3   department            10774 non-null  int64  
 4   date                  10774 non-null  object 
 5   weekly_sales          10774 non-null  float64
 6   is_holiday            10774 non-null  bool   
 7   temperature_c         10774 non-null  float64
 8   fuel_price_usd_per_l  10774 non-null  float64
 9   unemployment          10774 non-null  float64
dtypes: bool(1), float64(4), int64(3), object(2)
memory usage: 768.2+ KB
</pre></div>
</div>
</div>
</div>
<p><strong>Matplotlib</strong> es especialmente útil cuando necesitas crear gráficos personalizados y detallados, y es una herramienta esencial para cualquier persona que trabaje con visualización de datos en Python. Haremos unas gráficas univariadas</p>
<section id="histograma">
<h3><strong>Histograma</strong><a class="headerlink" href="#histograma" title="Permalink to this heading">#</a></h3>
<p>Un <strong>histograma</strong> es una representación gráfica que muestra la distribución de una variable continua. Se divide el rango de valores en intervalos (<code class="docutils literal notranslate"><span class="pre">bins</span></code>) y se cuenta cuántos valores caen en cada intervalo.</p>
<div class="note admonition">
<p class="admonition-title"><strong>Características del histograma</strong></p>
<ul class="simple">
<li><p>Ideal para visualizar la forma de la distribución de los datos.</p></li>
<li><p>Ayuda a identificar la simetría, la dispersión, y la presencia de outliers.</p></li>
<li><p>El número de <code class="docutils literal notranslate"><span class="pre">bins</span></code> afecta la interpretación; demasiados o muy pocos <code class="docutils literal notranslate"><span class="pre">bins</span></code> pueden ocultar patrones importantes.</p></li>
<li><p>Permite una fácil visualización de la distribución de datos.</p></li>
<li><p>Útil para identificar la presencia de sesgos en los datos.</p></li>
<li><p>No es útil para datos categóricos.</p></li>
</ul>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># importar matplotlib</span>
<span class="kn">import</span> <span class="nn">matplotlib.pyplot</span> <span class="k">as</span> <span class="nn">plt</span>

<span class="c1"># Histograma de las ventas semanales</span>
<span class="n">plt</span><span class="o">.</span><span class="n">hist</span><span class="p">(</span><span class="n">df</span><span class="p">[</span><span class="s1">&#39;fuel_price_usd_per_l&#39;</span><span class="p">])</span>
<span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<img alt="_images/1c9c907f037b105dd538d4c59cf8d5b2afc2db673d2ca6a9f6e04374f7ea6b37.png" src="_images/1c9c907f037b105dd538d4c59cf8d5b2afc2db673d2ca6a9f6e04374f7ea6b37.png" />
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Otra forma</span>
<span class="n">df</span><span class="p">[</span><span class="s1">&#39;weekly_sales&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">hist</span><span class="p">()</span>
<span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<img alt="_images/06ce8a449db238af43e1a9ed2fc2c8bbbf1e33c9d6700cd132fc7140d5b6f98b.png" src="_images/06ce8a449db238af43e1a9ed2fc2c8bbbf1e33c9d6700cd132fc7140d5b6f98b.png" />
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">warnings</span>
<span class="n">warnings</span><span class="o">.</span><span class="n">filterwarnings</span><span class="p">(</span><span class="s2">&quot;ignore&quot;</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Importar seaborn</span>
<span class="kn">import</span> <span class="nn">seaborn</span> <span class="k">as</span> <span class="nn">sns</span>

<span class="c1"># Histograma de las ventas semanales con Seaborn</span>
<span class="n">sns</span><span class="o">.</span><span class="n">histplot</span><span class="p">(</span><span class="n">df</span><span class="p">[</span><span class="s1">&#39;fuel_price_usd_per_l&#39;</span><span class="p">],</span> <span class="n">kde</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>  <span class="c1"># kde=True si quieres agregar la densidad</span>
<span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<img alt="_images/8cdfa067eaebea43053f9b17487ae2ef4d114add3b92e64e653fb0188d15c12f.png" src="_images/8cdfa067eaebea43053f9b17487ae2ef4d114add3b92e64e653fb0188d15c12f.png" />
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Histograma del precio del combustible ajustando el bins = 20</span>
<span class="n">df</span><span class="p">[</span><span class="s1">&#39;fuel_price_usd_per_l&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">hist</span><span class="p">(</span><span class="n">bins</span><span class="o">=</span><span class="mi">20</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<img alt="_images/9cfee98404a78f58c62037812ce006624b75e81fa63d1cfa3eb118c5e9e12ce7.png" src="_images/9cfee98404a78f58c62037812ce006624b75e81fa63d1cfa3eb118c5e9e12ce7.png" />
</div>
</div>
</section>
<section id="cajas-y-bigotes">
<h3><strong>Cajas y bigotes</strong><a class="headerlink" href="#cajas-y-bigotes" title="Permalink to this heading">#</a></h3>
<p>Un gráfico de cajas y bigotes visualiza la distribución de un conjunto de datos, mostrando la mediana y los cuartiles, así como los posibles outliers.</p>
<div class="note admonition">
<p class="admonition-title"><strong>Características de la cajas y bigotes</strong></p>
<ul class="simple">
<li><p><strong>Caja</strong>: Representa el rango intercuartil (IQR), es decir, el 50% central de los datos, entre el primer y el tercer cuartil (Q1 y Q3).</p></li>
<li><p><strong>Línea dentro de la caja</strong>: Representa la mediana (Q2) de los datos.</p></li>
<li><p><strong>Bigotes</strong>: Se extienden desde los cuartiles hasta el valor más pequeño y el más grande dentro de 1.5 veces el IQR. Los valores fuera de este rango se consideran outliers y se marcan como puntos individuales.</p></li>
<li><p><strong>Outliers</strong>: Valores que caen fuera de los bigotes y son indicados por puntos individuales.</p></li>
</ul>
</div>
<div class="note admonition">
<p class="admonition-title"><strong>Ventajas</strong></p>
<ul class="simple">
<li><p><strong>Resúmenes concisos</strong>: Muestra un resumen estadístico claro en un formato gráfico compacto.</p></li>
<li><p><strong>Detección de outliers</strong>: Facilita la identificación de valores atípicos o extremos.</p></li>
<li><p><strong>Comparación entre grupos</strong>: Permite comparar la distribución de datos entre diferentes grupos o categorías de manera efectiva.</p></li>
</ul>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># diagrama de cajas y bigotes de la temperatura</span>
<span class="n">plt</span><span class="o">.</span><span class="n">boxplot</span><span class="p">(</span><span class="n">df</span><span class="p">[</span><span class="s1">&#39;temperature_c&#39;</span><span class="p">])</span>

<span class="c1"># Remover el nombre de la columna del eje X</span>
<span class="n">plt</span><span class="o">.</span><span class="n">xticks</span><span class="p">([</span><span class="mi">1</span><span class="p">],</span> <span class="p">[</span><span class="s1">&#39;&#39;</span><span class="p">])</span>  

<span class="c1"># Agregar título y etiquetas</span>
<span class="n">plt</span><span class="o">.</span><span class="n">title</span><span class="p">(</span><span class="s1">&#39;Gráfico de Cajas y Bigotes&#39;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">ylabel</span><span class="p">(</span><span class="s1">&#39;Temperatura (°F)&#39;</span><span class="p">)</span>

<span class="c1"># Mostrar el gráfico</span>
<span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<img alt="_images/2c9eea89ec4ce1ff137af3aa4903515089b83e7d0ccef65fbb30b941c188bfac.png" src="_images/2c9eea89ec4ce1ff137af3aa4903515089b83e7d0ccef65fbb30b941c188bfac.png" />
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># otra forma</span>
<span class="n">df</span><span class="o">.</span><span class="n">boxplot</span><span class="p">(</span><span class="n">column</span> <span class="o">=</span> <span class="s1">&#39;temperature_c&#39;</span><span class="p">)</span>

<span class="c1"># Remover el nombre de la columna del eje X</span>
<span class="n">plt</span><span class="o">.</span><span class="n">xticks</span><span class="p">([</span><span class="mi">1</span><span class="p">],</span> <span class="p">[</span><span class="s1">&#39;&#39;</span><span class="p">])</span>  

<span class="c1"># Agregar título y etiquetas</span>
<span class="n">plt</span><span class="o">.</span><span class="n">title</span><span class="p">(</span><span class="s1">&#39;Gráfico de Cajas y Bigotes&#39;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">ylabel</span><span class="p">(</span><span class="s1">&#39;Temperatura (°F)&#39;</span><span class="p">)</span>

<span class="c1"># Mostrar el gráfico</span>
<span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<img alt="_images/90c7b6b5926626b8a6995a47c2e7cfd3a3d54f712e0bec1b68a43f6b3bcdbfd9.png" src="_images/90c7b6b5926626b8a6995a47c2e7cfd3a3d54f712e0bec1b68a43f6b3bcdbfd9.png" />
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Crear un diagrama de cajas y bigotes con Seaborn</span>
<span class="n">sns</span><span class="o">.</span><span class="n">boxplot</span><span class="p">(</span><span class="n">x</span><span class="o">=</span><span class="n">df</span><span class="p">[</span><span class="s1">&#39;temperature_c&#39;</span><span class="p">])</span>

<span class="c1"># Remover el nombre de la columna del eje X</span>
<span class="n">plt</span><span class="o">.</span><span class="n">xticks</span><span class="p">([</span><span class="mi">0</span><span class="p">],</span> <span class="p">[</span><span class="s1">&#39;&#39;</span><span class="p">])</span>

<span class="c1"># Agregar título y etiquetas</span>
<span class="n">plt</span><span class="o">.</span><span class="n">title</span><span class="p">(</span><span class="s1">&#39;Gráfico de Cajas y Bigotes&#39;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">ylabel</span><span class="p">(</span><span class="s1">&#39;Temperatura (°C)&#39;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Text(0, 0.5, &#39;Temperatura (°C)&#39;)
</pre></div>
</div>
<img alt="_images/650ddca3be35f67914c562a006d864dc55fc2b77cc668965a0d833ab14b84045.png" src="_images/650ddca3be35f67914c562a006d864dc55fc2b77cc668965a0d833ab14b84045.png" />
</div>
</div>
</section>
<section id="barras">
<h3><strong>Barras</strong><a class="headerlink" href="#barras" title="Permalink to this heading">#</a></h3>
<p>Una gráfica de barras se utiliza para mostrar y comparar cantidades entre diferentes categorías. Cada barra representa una categoría, y su altura es proporcional al valor que representa.</p>
<div class="note admonition">
<p class="admonition-title"><strong>Características de las barras</strong></p>
<ul class="simple">
<li><p>Adecuada para datos categóricos.</p></li>
<li><p>Las barras pueden organizarse horizontal o verticalmente.
Fácil de interpretar y comparar diferentes categorías.</p></li>
<li><p>Proporciona una clara visualización de las diferencias entre categorías.</p></li>
<li><p>Fácil de leer e interpretar, incluso con muchas categorías.</p></li>
</ul>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Contar el tipo de tienda</span>
<span class="n">tipo</span> <span class="o">=</span> <span class="n">df</span><span class="p">[</span><span class="s1">&#39;type&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">value_counts</span><span class="p">()</span> 

<span class="c1"># Graficar el conteo de tipos de tienda en un gráfico de barras verticales</span>
<span class="n">plt</span><span class="o">.</span><span class="n">bar</span><span class="p">(</span><span class="n">tipo</span><span class="o">.</span><span class="n">index</span><span class="p">,</span> <span class="n">tipo</span><span class="o">.</span><span class="n">values</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<img alt="_images/f10e3effe041f80004b75c3fb31f1b83cb8ba041208f7937a7960758589c4aae.png" src="_images/f10e3effe041f80004b75c3fb31f1b83cb8ba041208f7937a7960758589c4aae.png" />
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Graficar el conteo de tipos de tienda en un gráfico de barras con Seaborn</span>
<span class="n">sns</span><span class="o">.</span><span class="n">countplot</span><span class="p">(</span><span class="n">x</span><span class="o">=</span><span class="s1">&#39;type&#39;</span><span class="p">,</span> <span class="n">data</span><span class="o">=</span><span class="n">df</span><span class="p">)</span>

<span class="c1"># Agregar título y etiquetas si lo deseas</span>
<span class="n">plt</span><span class="o">.</span><span class="n">title</span><span class="p">(</span><span class="s1">&#39;Conteo de Tipos de Tienda&#39;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">xlabel</span><span class="p">(</span><span class="s1">&#39;Tipo de Tienda&#39;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">ylabel</span><span class="p">(</span><span class="s1">&#39;Frecuencia&#39;</span><span class="p">)</span>

<span class="c1"># Mostrar el gráfico</span>
<span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<img alt="_images/f337f0f44e101d96f0bccc36c392d2d9818b9ef6f13970b4e540c5dbaa4db25b.png" src="_images/f337f0f44e101d96f0bccc36c392d2d9818b9ef6f13970b4e540c5dbaa4db25b.png" />
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Convertir is_holiday en categorica</span>
<span class="n">festivo</span> <span class="o">=</span> <span class="n">df</span><span class="p">[</span><span class="s1">&#39;is_holiday&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">map</span><span class="p">({</span><span class="kc">True</span><span class="p">:</span> <span class="s1">&#39;Holiday&#39;</span><span class="p">,</span> <span class="kc">False</span><span class="p">:</span> <span class="s1">&#39;Non-Holiday&#39;</span><span class="p">})</span><span class="o">.</span><span class="n">astype</span><span class="p">(</span><span class="s1">&#39;category&#39;</span><span class="p">)</span>

<span class="c1"># Contar el tipo de tienda</span>
<span class="n">conteo_festivo</span> <span class="o">=</span> <span class="n">festivo</span><span class="o">.</span><span class="n">value_counts</span><span class="p">()</span> 

<span class="c1">#Graficar el conteo de festivos en un gráfico de barras verticales</span>
<span class="n">plt</span><span class="o">.</span><span class="n">barh</span><span class="p">(</span><span class="n">conteo_festivo</span><span class="o">.</span><span class="n">index</span><span class="p">,</span> <span class="n">conteo_festivo</span><span class="o">.</span><span class="n">values</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<img alt="_images/7bf72f78a7eee7350254688feddafd6c3dacb964d839746f543e05a81428baa6.png" src="_images/7bf72f78a7eee7350254688feddafd6c3dacb964d839746f543e05a81428baa6.png" />
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Convertir is_holiday en categórica y asignar etiquetas</span>
<span class="n">festivo</span> <span class="o">=</span> <span class="n">df</span><span class="p">[</span><span class="s1">&#39;is_holiday&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">map</span><span class="p">({</span><span class="kc">True</span><span class="p">:</span> <span class="s1">&#39;Holiday&#39;</span><span class="p">,</span> <span class="kc">False</span><span class="p">:</span> <span class="s1">&#39;Non-Holiday&#39;</span><span class="p">})</span><span class="o">.</span><span class="n">astype</span><span class="p">(</span><span class="s1">&#39;category&#39;</span><span class="p">)</span>

<span class="c1"># Contar el tipo de festividad</span>
<span class="n">conteo_festivo</span> <span class="o">=</span> <span class="n">festivo</span><span class="o">.</span><span class="n">value_counts</span><span class="p">()</span><span class="o">.</span><span class="n">reset_index</span><span class="p">()</span>
<span class="n">conteo_festivo</span><span class="o">.</span><span class="n">columns</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;Festivo&#39;</span><span class="p">,</span> <span class="s1">&#39;Conteo&#39;</span><span class="p">]</span>

<span class="c1"># Graficar el conteo de festividades en un gráfico de barras horizontal con Seaborn</span>
<span class="n">sns</span><span class="o">.</span><span class="n">barplot</span><span class="p">(</span><span class="n">x</span><span class="o">=</span><span class="s1">&#39;Conteo&#39;</span><span class="p">,</span> <span class="n">y</span><span class="o">=</span><span class="s1">&#39;Festivo&#39;</span><span class="p">,</span> <span class="n">data</span><span class="o">=</span><span class="n">conteo_festivo</span><span class="p">,</span> <span class="n">orient</span><span class="o">=</span><span class="s1">&#39;h&#39;</span><span class="p">)</span>

<span class="c1"># Agregar título y etiquetas si lo deseas</span>
<span class="n">plt</span><span class="o">.</span><span class="n">title</span><span class="p">(</span><span class="s1">&#39;Conteo de Festividades&#39;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">xlabel</span><span class="p">(</span><span class="s1">&#39;Conteo&#39;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">ylabel</span><span class="p">(</span><span class="s1">&#39;Festivo&#39;</span><span class="p">)</span>

<span class="c1"># Mostrar el gráfico</span>
<span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<img alt="_images/3ef25bde7f4f9a82eefe211c9b247ebb5f7ea71b22fded1a7cf5e130083e9a6b.png" src="_images/3ef25bde7f4f9a82eefe211c9b247ebb5f7ea71b22fded1a7cf5e130083e9a6b.png" />
</div>
</div>
</section>
<section id="circulares">
<h3><strong>Circulares</strong><a class="headerlink" href="#circulares" title="Permalink to this heading">#</a></h3>
<p>Un diagrama circular (o gráfico de pastel) es una representación gráfica que muestra la proporción de diferentes categorías dentro de un conjunto de datos como segmentos de un círculo. Cada segmento del círculo representa una categoría y su tamaño es proporcional a su frecuencia o porcentaje en relación con el total.</p>
<div class="note admonition">
<p class="admonition-title"><strong>Características del diagrama circular</strong></p>
<ul class="simple">
<li><p><strong>Segmentos</strong>: Cada porción del círculo corresponde a una categoría y muestra su proporción respecto al total.</p></li>
<li><p><strong>Proporciones</strong>: La suma de todos los segmentos representa el 100% del conjunto de datos.</p></li>
<li><p><strong>Etiquetas</strong>: A menudo se etiquetan los segmentos con nombres de categorías y porcentajes.</p></li>
</ul>
</div>
<div class="note admonition">
<p class="admonition-title"><strong>Ventajas</strong></p>
<ul class="simple">
<li><p><strong>Visualización clara</strong>: Facilita la comprensión de las proporciones de las categorías en un solo vistazo.</p></li>
<li><p><strong>Comparación intuitiva</strong>: Permite comparar rápidamente las partes del total.</p></li>
<li><p><strong>Atractivo visual</strong>: Los gráficos de pastel son visualmente atractivos y pueden ser útiles para presentaciones y informes.</p></li>
</ul>
</div>
<div class="warning admonition">
<p class="admonition-title"><strong>Desventaja</strong></p>
<ul class="simple">
<li><p><strong>Dificultad con muchas categorías</strong>: No es ideal para conjuntos de datos con muchas categorías, ya que los segmentos pueden volverse difíciles de distinguir.</p></li>
</ul>
</div>
<p>Para crear un diagrama circular debemos tener en cuenta los siguientes parámetros:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">plt</span><span class="o">.</span><span class="n">pie</span><span class="p">(</span><span class="n">tipo</span><span class="p">,</span> <span class="n">labels</span><span class="o">=</span><span class="n">tipo</span><span class="o">.</span><span class="n">index</span><span class="p">,</span> <span class="n">autopct</span><span class="o">=</span><span class="s1">&#39;</span><span class="si">%1.1f%%</span><span class="s1">&#39;</span><span class="p">,</span> <span class="n">startangle</span><span class="o">=</span><span class="mi">140</span><span class="p">,</span> <span class="n">colors</span><span class="o">=</span><span class="n">plt</span><span class="o">.</span><span class="n">cm</span><span class="o">.</span><span class="n">Paired</span><span class="p">(</span><span class="nb">range</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">tipo</span><span class="p">))))</span> 
</pre></div>
</div>
<p>genera el diagrama circular:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">tipo</span></code> contiene los valores de conteo de cada categoría.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">labels=tipo.index</span></code> asigna etiquetas a cada segmento del gráfico.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">autopct='%1.1f%%'</span></code> muestra los porcentajes en cada segmento.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">startangle=140</span></code> rota el gráfico para una mejor presentación.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">colors=plt.cm.Paired(range(len(tipo)))</span></code> usa un mapa de colores para diferenciar los segmentos.</p></li>
</ul>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">tipo</span> <span class="o">=</span> <span class="n">df</span><span class="p">[</span><span class="s1">&#39;type&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">value_counts</span><span class="p">()</span>

<span class="c1"># Graficar el conteo de tipos de tienda en un diagrama circular</span>
<span class="n">plt</span><span class="o">.</span><span class="n">pie</span><span class="p">(</span><span class="n">tipo</span><span class="p">,</span> <span class="n">labels</span><span class="o">=</span><span class="n">tipo</span><span class="o">.</span><span class="n">index</span><span class="p">,</span> <span class="n">autopct</span><span class="o">=</span><span class="s1">&#39;</span><span class="si">%1.1f%%</span><span class="s1">&#39;</span><span class="p">,</span> <span class="n">startangle</span><span class="o">=</span><span class="mi">140</span><span class="p">,</span> <span class="n">colors</span><span class="o">=</span><span class="n">plt</span><span class="o">.</span><span class="n">cm</span><span class="o">.</span><span class="n">Paired</span><span class="p">(</span><span class="nb">range</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">tipo</span><span class="p">))))</span>
<span class="n">plt</span><span class="o">.</span><span class="n">title</span><span class="p">(</span><span class="s1">&#39;Distribución de Tipos de Tienda&#39;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<img alt="_images/959db9b186aaf661256ab61cecd7df39ce953143814d901627319b1a22aec2fa.png" src="_images/959db9b186aaf661256ab61cecd7df39ce953143814d901627319b1a22aec2fa.png" />
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Establecer el estilo de Seaborn</span>
<span class="n">sns</span><span class="o">.</span><span class="n">set</span><span class="p">(</span><span class="n">style</span><span class="o">=</span><span class="s2">&quot;whitegrid&quot;</span><span class="p">)</span>

<span class="c1"># Contar el tipo de tienda</span>
<span class="n">tipo</span> <span class="o">=</span> <span class="n">df</span><span class="p">[</span><span class="s1">&#39;type&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">value_counts</span><span class="p">()</span>

<span class="c1"># Graficar el conteo de tipos de tienda en un diagrama circular</span>
<span class="n">plt</span><span class="o">.</span><span class="n">figure</span><span class="p">(</span><span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">8</span><span class="p">,</span> <span class="mi">8</span><span class="p">))</span>
<span class="n">plt</span><span class="o">.</span><span class="n">pie</span><span class="p">(</span><span class="n">tipo</span><span class="p">,</span> <span class="n">labels</span><span class="o">=</span><span class="n">tipo</span><span class="o">.</span><span class="n">index</span><span class="p">,</span> <span class="n">autopct</span><span class="o">=</span><span class="s1">&#39;</span><span class="si">%1.1f%%</span><span class="s1">&#39;</span><span class="p">,</span> <span class="n">startangle</span><span class="o">=</span><span class="mi">140</span><span class="p">,</span> <span class="n">colors</span><span class="o">=</span><span class="n">sns</span><span class="o">.</span><span class="n">color_palette</span><span class="p">(</span><span class="s1">&#39;Paired&#39;</span><span class="p">,</span> <span class="nb">len</span><span class="p">(</span><span class="n">tipo</span><span class="p">)))</span>
<span class="n">plt</span><span class="o">.</span><span class="n">title</span><span class="p">(</span><span class="s1">&#39;Distribución de Tipos de Tienda&#39;</span><span class="p">)</span>

<span class="c1"># Mostrar el gráfico</span>
<span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<img alt="_images/deb4900ec4ddafc454db98a765a2044195e415e3b730d82ab1840f1ac23a3fdc.png" src="_images/deb4900ec4ddafc454db98a765a2044195e415e3b730d82ab1840f1ac23a3fdc.png" />
</div>
</div>
<p>Ahora haremos unas gráficas bivariadas.</p>
</section>
<section id="lineas">
<h3><strong>Lineas</strong><a class="headerlink" href="#lineas" title="Permalink to this heading">#</a></h3>
<p>Una gráfica de líneas conecta una serie de puntos de datos con líneas, generalmente utilizada para mostrar cambios o tendencias a lo largo del tiempo.</p>
<div class="note admonition">
<p class="admonition-title"><strong>Características del diagrama de lineas</strong></p>
<ul class="simple">
<li><p>Ideal para series temporales.</p></li>
<li><p>Muestra la tendencia general de los datos.</p></li>
<li><p>Puede incluir múltiples líneas para comparar diferentes series de datos.</p></li>
</ul>
</div>
<div class="note admonition">
<p class="admonition-title"><strong>Ventajas</strong></p>
<ul class="simple">
<li><p>Excelente para visualizar tendencias a lo largo del tiempo.</p></li>
<li><p>Permite comparar fácilmente varias series de datos.</p></li>
</ul>
</div>
<div class="warning admonition">
<p class="admonition-title"><strong>Desventajas</strong></p>
<ul class="simple">
<li><p>Puede volverse confusa si se incluyen demasiadas líneas.</p></li>
<li><p>No es adecuada para datos categóricos.</p></li>
</ul>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Convertir la columna date a formato de fecha</span>
<span class="n">df</span><span class="p">[</span><span class="s1">&#39;date&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">to_datetime</span><span class="p">(</span><span class="n">df</span><span class="p">[</span><span class="s1">&#39;date&#39;</span><span class="p">])</span>

<span class="c1"># Agrupar las ventas por fecha, sumando las ventas semanales en las fechas repetidas</span>
<span class="n">df_grouped</span> <span class="o">=</span> <span class="n">df</span><span class="o">.</span><span class="n">groupby</span><span class="p">(</span><span class="s1">&#39;date&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">agg</span><span class="p">({</span><span class="s1">&#39;weekly_sales&#39;</span><span class="p">:</span> <span class="s1">&#39;sum&#39;</span><span class="p">})</span><span class="o">.</span><span class="n">reset_index</span><span class="p">()</span>

<span class="n">df_grouped</span><span class="o">.</span><span class="n">head</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>date</th>
      <th>weekly_sales</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>2010-02-05</td>
      <td>22835369.84</td>
    </tr>
    <tr>
      <th>1</th>
      <td>2010-02-12</td>
      <td>644.77</td>
    </tr>
    <tr>
      <th>2</th>
      <td>2010-02-19</td>
      <td>15.39</td>
    </tr>
    <tr>
      <th>3</th>
      <td>2010-02-26</td>
      <td>10.47</td>
    </tr>
    <tr>
      <th>4</th>
      <td>2010-03-05</td>
      <td>20862754.07</td>
    </tr>
  </tbody>
</table>
</div></div></div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Crear un gráfico de líneas con las fechas agrupadas</span>
<span class="n">plt</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">df_grouped</span><span class="p">[</span><span class="s1">&#39;date&#39;</span><span class="p">],</span> <span class="n">df_grouped</span><span class="p">[</span><span class="s1">&#39;weekly_sales&#39;</span><span class="p">])</span>

<span class="c1"># Rotar las etiquetas del eje X para que se muestren en vertical</span>
<span class="n">plt</span><span class="o">.</span><span class="n">xticks</span><span class="p">(</span><span class="n">rotation</span><span class="o">=</span><span class="mi">90</span><span class="p">)</span>
<span class="c1"># Mostrar el gráfico</span>
<span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<img alt="_images/a327f7bef2f609918f31044642020d3bb0c0fc1799dbd2bd4e50cf602fea07ed.png" src="_images/a327f7bef2f609918f31044642020d3bb0c0fc1799dbd2bd4e50cf602fea07ed.png" />
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Crear un gráfico de líneas con las fechas agrupadas utilizando Seaborn</span>
<span class="n">plt</span><span class="o">.</span><span class="n">figure</span><span class="p">(</span><span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">12</span><span class="p">,</span> <span class="mi">6</span><span class="p">))</span>  <span class="c1"># Ajustar el tamaño del gráfico</span>
<span class="n">sns</span><span class="o">.</span><span class="n">lineplot</span><span class="p">(</span><span class="n">x</span><span class="o">=</span><span class="s1">&#39;date&#39;</span><span class="p">,</span> <span class="n">y</span><span class="o">=</span><span class="s1">&#39;weekly_sales&#39;</span><span class="p">,</span> <span class="n">data</span><span class="o">=</span><span class="n">df_grouped</span><span class="p">)</span>

<span class="c1"># Rotar las etiquetas del eje X para que se muestren en vertical</span>
<span class="n">plt</span><span class="o">.</span><span class="n">xticks</span><span class="p">(</span><span class="n">rotation</span><span class="o">=</span><span class="mi">90</span><span class="p">)</span>

<span class="c1"># Agregar título y etiquetas si lo deseas</span>
<span class="n">plt</span><span class="o">.</span><span class="n">title</span><span class="p">(</span><span class="s1">&#39;Ventas Semanales Agrupadas por Fecha&#39;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">xlabel</span><span class="p">(</span><span class="s1">&#39;Fecha&#39;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">ylabel</span><span class="p">(</span><span class="s1">&#39;Ventas Semanales&#39;</span><span class="p">)</span>

<span class="c1"># Mostrar el gráfico</span>
<span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<img alt="_images/34fe0e20517d098cbbe09c43d65becb03a16dba31edc2899b26d4b470d487d97.png" src="_images/34fe0e20517d098cbbe09c43d65becb03a16dba31edc2899b26d4b470d487d97.png" />
</div>
</div>
</section>
<section id="dispersion-scatter-plots">
<h3><strong>Dispersión (Scatter Plots)</strong><a class="headerlink" href="#dispersion-scatter-plots" title="Permalink to this heading">#</a></h3>
<p>Una gráfica de dispersión muestra la relación entre dos variables numéricas mediante puntos dispersos en un plano cartesiano.</p>
<div class="note admonition">
<p class="admonition-title"><strong>Características del diagrama de dispersión</strong></p>
<ul class="simple">
<li><p>Muestra cómo se correlacionan dos variables.</p></li>
<li><p>Los patrones de dispersión pueden indicar la relación entre las variables, como linealidad o agrupaciones.</p></li>
<li><p>Cada punto representa una observación individual.</p></li>
</ul>
</div>
<div class="note admonition">
<p class="admonition-title"><strong>Ventajas</strong></p>
<ul class="simple">
<li><p>Ideal para identificar relaciones o correlaciones entre dos variables.</p></li>
<li><p>Permite visualizar la distribución y posibles outliers.</p></li>
</ul>
</div>
<div class="warning admonition">
<p class="admonition-title"><strong>Desventajas</strong></p>
<ul class="simple">
<li><p>No es adecuada para más de dos variables sin técnicas adicionales.</p></li>
<li><p>Si hay demasiados puntos, puede volverse difícil de interpretar.</p></li>
</ul>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Crear una gráfica de dispersión de wee</span>
<span class="n">df</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">x</span><span class="o">=</span><span class="s1">&#39;weekly_sales&#39;</span><span class="p">,</span> <span class="n">y</span><span class="o">=</span><span class="s1">&#39;fuel_price_usd_per_l&#39;</span><span class="p">,</span> <span class="n">kind</span><span class="o">=</span><span class="s1">&#39;scatter&#39;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">title</span><span class="p">(</span><span class="s1">&#39;Relación entre ventas semanales y precio de la gasolina&#39;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">xlabel</span><span class="p">(</span><span class="s1">&#39;Precio de ventas ($)&#39;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">ylabel</span><span class="p">(</span><span class="s1">&#39;Precio de la gasolina (kg)&#39;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<img alt="_images/9650841efc86b8a59d4d677b973111eb2dd1db6d12e7030612dcd15b3afac981.png" src="_images/9650841efc86b8a59d4d677b973111eb2dd1db6d12e7030612dcd15b3afac981.png" />
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Crear una gráfica de dispersión de ventas semanales vs. precio de la gasolina utilizando Seaborn</span>
<span class="n">plt</span><span class="o">.</span><span class="n">figure</span><span class="p">(</span><span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">10</span><span class="p">,</span> <span class="mi">6</span><span class="p">))</span>  <span class="c1"># Ajustar el tamaño del gráfico</span>
<span class="n">sns</span><span class="o">.</span><span class="n">scatterplot</span><span class="p">(</span><span class="n">x</span><span class="o">=</span><span class="s1">&#39;weekly_sales&#39;</span><span class="p">,</span> <span class="n">y</span><span class="o">=</span><span class="s1">&#39;fuel_price_usd_per_l&#39;</span><span class="p">,</span> <span class="n">data</span><span class="o">=</span><span class="n">df</span><span class="p">)</span>

<span class="c1"># Agregar título y etiquetas</span>
<span class="n">plt</span><span class="o">.</span><span class="n">title</span><span class="p">(</span><span class="s1">&#39;Relación entre Ventas Semanales y Precio de la Gasolina&#39;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">xlabel</span><span class="p">(</span><span class="s1">&#39;Ventas Semanales ($)&#39;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">ylabel</span><span class="p">(</span><span class="s1">&#39;Precio de la Gasolina (USD por litro)&#39;</span><span class="p">)</span>

<span class="c1"># Mostrar el gráfico</span>
<span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<img alt="_images/69dedc108454b28069753007e6512874d78f09b474178675314e9f4a54089582.png" src="_images/69dedc108454b28069753007e6512874d78f09b474178675314e9f4a54089582.png" />
</div>
</div>
</section>
<section id="histogramas-con-variable-categorica">
<h3><strong>Histogramas con variable categórica</strong><a class="headerlink" href="#histogramas-con-variable-categorica" title="Permalink to this heading">#</a></h3>
<p>Para hacer estos histogramas debemos tener una variable numérica según una variable categórica</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Crear una superposición de histogramas</span>
<span class="n">df</span><span class="p">[</span><span class="n">df</span><span class="p">[</span><span class="s1">&#39;type&#39;</span><span class="p">]</span> <span class="o">==</span> <span class="s1">&#39;A&#39;</span><span class="p">][</span><span class="s1">&#39;weekly_sales&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">hist</span><span class="p">(</span><span class="n">alpha</span><span class="o">=</span><span class="mf">0.7</span><span class="p">,</span> <span class="n">color</span><span class="o">=</span><span class="s1">&#39;blue&#39;</span><span class="p">)</span>
<span class="n">df</span><span class="p">[</span><span class="n">df</span><span class="p">[</span><span class="s1">&#39;type&#39;</span><span class="p">]</span> <span class="o">==</span> <span class="s1">&#39;B&#39;</span><span class="p">][</span><span class="s1">&#39;weekly_sales&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">hist</span><span class="p">(</span><span class="n">alpha</span><span class="o">=</span><span class="mf">0.7</span><span class="p">,</span> <span class="n">color</span><span class="o">=</span><span class="s1">&#39;red&#39;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">legend</span><span class="p">([</span><span class="s1">&#39;A&#39;</span><span class="p">,</span> <span class="s1">&#39;B&#39;</span><span class="p">])</span>
<span class="n">plt</span><span class="o">.</span><span class="n">title</span><span class="p">(</span><span class="s1">&#39;Distribución de las ventas semanales según el tipo&#39;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">xlabel</span><span class="p">(</span><span class="s1">&#39;Precio ($)&#39;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">ylabel</span><span class="p">(</span><span class="s1">&#39;Frecuencia&#39;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<img alt="_images/f96d3177a07677ad7d9d989b5180e51fa6badd295f033b287517aa792c5a8f66.png" src="_images/f96d3177a07677ad7d9d989b5180e51fa6badd295f033b287517aa792c5a8f66.png" />
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Crear una superposición de histogramas de las ventas semanales según el tipo de tienda utilizando Seaborn</span>
<span class="n">plt</span><span class="o">.</span><span class="n">figure</span><span class="p">(</span><span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">10</span><span class="p">,</span> <span class="mi">6</span><span class="p">))</span>  <span class="c1"># Ajustar el tamaño del gráfico</span>

<span class="c1"># Histograma para el tipo &#39;A&#39;</span>
<span class="n">sns</span><span class="o">.</span><span class="n">histplot</span><span class="p">(</span><span class="n">df</span><span class="p">[</span><span class="n">df</span><span class="p">[</span><span class="s1">&#39;type&#39;</span><span class="p">]</span> <span class="o">==</span> <span class="s1">&#39;A&#39;</span><span class="p">][</span><span class="s1">&#39;weekly_sales&#39;</span><span class="p">],</span> <span class="n">color</span><span class="o">=</span><span class="s1">&#39;blue&#39;</span><span class="p">,</span> <span class="n">label</span><span class="o">=</span><span class="s1">&#39;A&#39;</span><span class="p">,</span> <span class="n">kde</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="n">alpha</span><span class="o">=</span><span class="mf">0.7</span><span class="p">)</span>

<span class="c1"># Histograma para el tipo &#39;B&#39;</span>
<span class="n">sns</span><span class="o">.</span><span class="n">histplot</span><span class="p">(</span><span class="n">df</span><span class="p">[</span><span class="n">df</span><span class="p">[</span><span class="s1">&#39;type&#39;</span><span class="p">]</span> <span class="o">==</span> <span class="s1">&#39;B&#39;</span><span class="p">][</span><span class="s1">&#39;weekly_sales&#39;</span><span class="p">],</span> <span class="n">color</span><span class="o">=</span><span class="s1">&#39;red&#39;</span><span class="p">,</span> <span class="n">label</span><span class="o">=</span><span class="s1">&#39;B&#39;</span><span class="p">,</span> <span class="n">kde</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="n">alpha</span><span class="o">=</span><span class="mf">0.7</span><span class="p">)</span>

<span class="c1"># Agregar título y etiquetas</span>
<span class="n">plt</span><span class="o">.</span><span class="n">title</span><span class="p">(</span><span class="s1">&#39;Distribución de las Ventas Semanales según el Tipo&#39;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">xlabel</span><span class="p">(</span><span class="s1">&#39;Ventas Semanales ($)&#39;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">ylabel</span><span class="p">(</span><span class="s1">&#39;Frecuencia&#39;</span><span class="p">)</span>

<span class="c1"># Mostrar la leyenda</span>
<span class="n">plt</span><span class="o">.</span><span class="n">legend</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>&lt;matplotlib.legend.Legend at 0x1aef2f13a00&gt;
</pre></div>
</div>
<img alt="_images/af350672e5c3f1115bb84fd50bdff3d9246112c3a2c36a2fc8bbec6289139e1e.png" src="_images/af350672e5c3f1115bb84fd50bdff3d9246112c3a2c36a2fc8bbec6289139e1e.png" />
</div>
</div>
</section>
<section id="cajas-y-bigotes-con-variable-categorica">
<h3><strong>Cajas y bigotes con variable categórica</strong><a class="headerlink" href="#cajas-y-bigotes-con-variable-categorica" title="Permalink to this heading">#</a></h3>
<p>Para hacer estos diagramas de cajas y bigotes debemos tener una variable numérica según una variable categórica</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Separar los datos por sexo</span>
<span class="n">u_a</span> <span class="o">=</span> <span class="n">df</span><span class="p">[</span><span class="n">df</span><span class="p">[</span><span class="s1">&#39;type&#39;</span><span class="p">]</span> <span class="o">==</span> <span class="s1">&#39;A&#39;</span><span class="p">][</span><span class="s1">&#39;unemployment&#39;</span><span class="p">]</span>
<span class="n">u_b</span> <span class="o">=</span> <span class="n">df</span><span class="p">[</span><span class="n">df</span><span class="p">[</span><span class="s1">&#39;type&#39;</span><span class="p">]</span> <span class="o">==</span> <span class="s1">&#39;B&#39;</span><span class="p">][</span><span class="s1">&#39;unemployment&#39;</span><span class="p">]</span>

<span class="c1"># Crear un diagrama de cajas y bigotes para &#39;height_cm&#39; vs &#39;sex&#39; usando pandas</span>
<span class="n">plt</span><span class="o">.</span><span class="n">boxplot</span><span class="p">([</span><span class="n">u_a</span><span class="p">,</span> <span class="n">u_b</span><span class="p">],</span> <span class="n">labels</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;A&#39;</span><span class="p">,</span> <span class="s1">&#39;B&#39;</span><span class="p">])</span>

<span class="c1"># Agregar título y etiquetas</span>
<span class="n">plt</span><span class="o">.</span><span class="n">title</span><span class="p">(</span><span class="s1">&#39;Diagrama de Cajas y Bigotes: tasa de desempleo según el tipo&#39;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">xlabel</span><span class="p">(</span><span class="s1">&#39;Sexo&#39;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">ylabel</span><span class="p">(</span><span class="s1">&#39;Altura (cm)&#39;</span><span class="p">)</span>

<span class="c1"># Mostrar el gráfico</span>
<span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<img alt="_images/49c121a19ce71e0be7fd809c52d6f63d4cb3dfd37fa4ea468dccd09dc38a3977.png" src="_images/49c121a19ce71e0be7fd809c52d6f63d4cb3dfd37fa4ea468dccd09dc38a3977.png" />
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Crear un diagrama de cajas y bigotes para &#39;unemployment&#39; vs &#39;type&#39; usando Seaborn</span>
<span class="n">plt</span><span class="o">.</span><span class="n">figure</span><span class="p">(</span><span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">10</span><span class="p">,</span> <span class="mi">6</span><span class="p">))</span>  <span class="c1"># Ajustar el tamaño del gráfico</span>

<span class="n">sns</span><span class="o">.</span><span class="n">boxplot</span><span class="p">(</span><span class="n">x</span><span class="o">=</span><span class="s1">&#39;type&#39;</span><span class="p">,</span> <span class="n">y</span><span class="o">=</span><span class="s1">&#39;unemployment&#39;</span><span class="p">,</span> <span class="n">data</span><span class="o">=</span><span class="n">df</span><span class="p">)</span>

<span class="c1"># Agregar título y etiquetas</span>
<span class="n">plt</span><span class="o">.</span><span class="n">title</span><span class="p">(</span><span class="s1">&#39;Diagrama de Cajas y Bigotes: Tasa de Desempleo Según el Tipo&#39;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">xlabel</span><span class="p">(</span><span class="s1">&#39;Tipo de Tienda&#39;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">ylabel</span><span class="p">(</span><span class="s1">&#39;Tasa de Desempleo&#39;</span><span class="p">)</span>

<span class="c1"># Mostrar el gráfico</span>
<span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<img alt="_images/8179be9219337864b3157ae21ce85771d21719622d0c22e93fb01f74ee3afaaf.png" src="_images/8179be9219337864b3157ae21ce85771d21719622d0c22e93fb01f74ee3afaaf.png" />
</div>
</div>
</section>
<section id="diagrama-de-barras-con-variables-categoricas">
<h3><strong>Diagrama de barras con variables categóricas</strong><a class="headerlink" href="#diagrama-de-barras-con-variables-categoricas" title="Permalink to this heading">#</a></h3>
<p>Realizaremos un diagrama de barras con dos variables categóricas</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Convertimos &#39;is_holiday&#39; a categoría con valores &#39;Holiday&#39; y &#39;Non-Holiday&#39;</span>
<span class="n">df</span><span class="p">[</span><span class="s1">&#39;is_holiday&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">df</span><span class="p">[</span><span class="s1">&#39;is_holiday&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">map</span><span class="p">({</span><span class="kc">True</span><span class="p">:</span> <span class="s1">&#39;Holiday&#39;</span><span class="p">,</span> <span class="kc">False</span><span class="p">:</span> <span class="s1">&#39;Non-Holiday&#39;</span><span class="p">})</span><span class="o">.</span><span class="n">astype</span><span class="p">(</span><span class="s1">&#39;category&#39;</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Contar la frecuencia de cada combinación de &#39;type&#39; y &#39;is_holiday&#39; y desapilamos</span>
<span class="n">grouped_data</span> <span class="o">=</span> <span class="n">df</span><span class="o">.</span><span class="n">groupby</span><span class="p">([</span><span class="s1">&#39;type&#39;</span><span class="p">,</span> <span class="s1">&#39;is_holiday&#39;</span><span class="p">],</span> <span class="n">observed</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span><span class="o">.</span><span class="n">size</span><span class="p">()</span><span class="o">.</span><span class="n">unstack</span><span class="p">()</span>

<span class="c1"># Crear el gráfico de barras sin apilar</span>
<span class="n">grouped_data</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">kind</span><span class="o">=</span><span class="s1">&#39;bar&#39;</span><span class="p">,</span> <span class="n">stacked</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>

<span class="c1"># Personalización del gráfico</span>
<span class="n">plt</span><span class="o">.</span><span class="n">title</span><span class="p">(</span><span class="s1">&#39;Frecuencia de tipo en función de los dias feriados o no&#39;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">xlabel</span><span class="p">(</span><span class="s1">&#39;Tipo&#39;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">ylabel</span><span class="p">(</span><span class="s1">&#39;Frecuencia&#39;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">xticks</span><span class="p">(</span><span class="n">rotation</span><span class="o">=</span><span class="mi">0</span><span class="p">)</span>

<span class="c1"># Mostrar el gráfico</span>
<span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<img alt="_images/897a5a499d803586c1199b63bf27c1d387bed5d2b639a00cf0757e80d8d74479.png" src="_images/897a5a499d803586c1199b63bf27c1d387bed5d2b639a00cf0757e80d8d74479.png" />
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Convertir el DataFrame a formato largo (long format) para Seaborn</span>
<span class="n">melted_data</span> <span class="o">=</span> <span class="n">grouped_data</span><span class="o">.</span><span class="n">reset_index</span><span class="p">()</span><span class="o">.</span><span class="n">melt</span><span class="p">(</span><span class="n">id_vars</span><span class="o">=</span><span class="s1">&#39;type&#39;</span><span class="p">,</span> <span class="n">value_vars</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;Holiday&#39;</span><span class="p">,</span> <span class="s1">&#39;Non-Holiday&#39;</span><span class="p">],</span> 
                                              <span class="n">var_name</span><span class="o">=</span><span class="s1">&#39;is_holiday&#39;</span><span class="p">,</span> <span class="n">value_name</span><span class="o">=</span><span class="s1">&#39;count&#39;</span><span class="p">)</span>

<span class="c1"># Crear el gráfico de barras no apiladas utilizando Seaborn</span>
<span class="n">plt</span><span class="o">.</span><span class="n">figure</span><span class="p">(</span><span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">10</span><span class="p">,</span> <span class="mi">6</span><span class="p">))</span>  <span class="c1"># Ajustar el tamaño del gráfico</span>
<span class="n">sns</span><span class="o">.</span><span class="n">barplot</span><span class="p">(</span><span class="n">x</span><span class="o">=</span><span class="s1">&#39;type&#39;</span><span class="p">,</span> <span class="n">y</span><span class="o">=</span><span class="s1">&#39;count&#39;</span><span class="p">,</span> <span class="n">hue</span><span class="o">=</span><span class="s1">&#39;is_holiday&#39;</span><span class="p">,</span> <span class="n">data</span><span class="o">=</span><span class="n">melted_data</span><span class="p">)</span>

<span class="c1"># Personalización del gráfico</span>
<span class="n">plt</span><span class="o">.</span><span class="n">title</span><span class="p">(</span><span class="s1">&#39;Frecuencia de Tipo en Función de los Días Feriados o No&#39;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">xlabel</span><span class="p">(</span><span class="s1">&#39;Tipo de Tienda&#39;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">ylabel</span><span class="p">(</span><span class="s1">&#39;Frecuencia&#39;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">xticks</span><span class="p">(</span><span class="n">rotation</span><span class="o">=</span><span class="mi">0</span><span class="p">)</span>

<span class="c1"># Mostrar el gráfico</span>
<span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<img alt="_images/fbf5c73c81862be7b79f741b3687a49353794436a3086aeab16d75aa73b01c91.png" src="_images/fbf5c73c81862be7b79f741b3687a49353794436a3086aeab16d75aa73b01c91.png" />
</div>
</div>
<p>Para exportar las gráficas en formato png. Usamos <code class="docutils literal notranslate"><span class="pre">savefig</span></code>:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Contar la frecuencia de cada combinación de &#39;type&#39; y &#39;is_holiday&#39; y desapilamos</span>
<span class="n">grouped_data</span> <span class="o">=</span> <span class="n">df</span><span class="o">.</span><span class="n">groupby</span><span class="p">([</span><span class="s1">&#39;type&#39;</span><span class="p">,</span> <span class="s1">&#39;is_holiday&#39;</span><span class="p">],</span> <span class="n">observed</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span><span class="o">.</span><span class="n">size</span><span class="p">()</span><span class="o">.</span><span class="n">unstack</span><span class="p">()</span>

<span class="c1"># Crear el gráfico de barras sin apilar</span>
<span class="n">grouped_data</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">kind</span><span class="o">=</span><span class="s1">&#39;bar&#39;</span><span class="p">,</span> <span class="n">stacked</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>

<span class="c1"># Personalización del gráfico</span>
<span class="n">plt</span><span class="o">.</span><span class="n">title</span><span class="p">(</span><span class="s1">&#39;Frecuencia de tipo en función de los dias feriados o no&#39;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">xlabel</span><span class="p">(</span><span class="s1">&#39;Tipo&#39;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">ylabel</span><span class="p">(</span><span class="s1">&#39;Frecuencia&#39;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">xticks</span><span class="p">(</span><span class="n">rotation</span><span class="o">=</span><span class="mi">0</span><span class="p">)</span>

<span class="c1"># exportar la figura</span>
<span class="n">plt</span><span class="o">.</span><span class="n">savefig</span><span class="p">(</span><span class="s1">&#39;_image/grafica_1.png&#39;</span><span class="p">,</span><span class="n">transparent</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>

<span class="c1"># exportar la figura con transparencia</span>
<span class="n">plt</span><span class="o">.</span><span class="n">savefig</span><span class="p">(</span><span class="s1">&#39;_image/grafica_2.png&#39;</span><span class="p">,</span> <span class="n">transparent</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<img alt="_images/eceed1b993c606548f421fe7da5904a88942d77fdf964f9e659f380a357b7db1.png" src="_images/eceed1b993c606548f421fe7da5904a88942d77fdf964f9e659f380a357b7db1.png" />
</div>
</div>
<p>Este módulo ha proporcionado una base sólida en la importación, manipulación y visualización de datos en Python. Las habilidades adquiridas permitirán crear visualizaciones efectivas que faciliten la interpretación y comunicación de los datos, y la capacidad de manipular y preparar datos adecuadamente es esencial para realizar análisis significativos. La combinación de pandas para la manipulación de datos y Matplotlib para la visualización forma una potente herramienta en el análisis de datos y ciencia de datos.</p>
</section>
<section id="diagrama-hexagonal">
<h3><strong>Diagrama hexagonal</strong><a class="headerlink" href="#diagrama-hexagonal" title="Permalink to this heading">#</a></h3>
<p>Existe una versión más elegante de los gráficos de dispersión, llamada <code class="docutils literal notranslate"><span class="pre">hexagonal</span> <span class="pre">binning</span> <span class="pre">plot</span></code> (<code class="docutils literal notranslate"><span class="pre">hexbin</span> <span class="pre">plot</span></code>). En este ejercicio, utilizaremos <code class="docutils literal notranslate"><span class="pre">Seaborn</span></code> para crear una gráfica de dispersión hexagonal (<code class="docutils literal notranslate"><span class="pre">Hexbin</span> <span class="pre">Plot</span></code>) que muestre la relación entre las <strong>ventas semanales</strong> (<code class="docutils literal notranslate"><span class="pre">weekly_sales</span></code>) y el precio de la gasolina en <strong>USD por litro</strong> (<code class="docutils literal notranslate"><span class="pre">fuel_price_usd_per_l</span></code>). Este gráfico es útil para representar la densidad de datos cuando estos se superponen.</p>
<ol class="arabic simple">
<li><p>Importemos las bibliotecas necesarias:</p></li>
</ol>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">seaborn</span> <span class="k">as</span> <span class="nn">sns</span>
<span class="kn">import</span> <span class="nn">matplotlib.pyplot</span> <span class="k">as</span> <span class="nn">plt</span>
</pre></div>
</div>
</div>
</div>
<ol class="arabic simple" start="2">
<li><p>Usaremos <code class="docutils literal notranslate"><span class="pre">sns.scatterplot</span></code> para crear una gráfica de dispersión, y añadiremos un esquema de color personalizado para mejorar la visualización.</p></li>
</ol>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">warnings</span>
<span class="n">warnings</span><span class="o">.</span><span class="n">filterwarnings</span><span class="p">(</span><span class="s2">&quot;ignore&quot;</span><span class="p">,</span> <span class="n">category</span><span class="o">=</span><span class="ne">FutureWarning</span><span class="p">)</span>

<span class="c1"># Establecer el estilo de los gráficos</span>
<span class="n">sns</span><span class="o">.</span><span class="n">set</span><span class="p">(</span><span class="n">style</span><span class="o">=</span><span class="s2">&quot;ticks&quot;</span><span class="p">)</span>

<span class="c1"># Crear el gráfico hexbin</span>
<span class="n">sns</span><span class="o">.</span><span class="n">jointplot</span><span class="p">(</span><span class="n">data</span><span class="o">=</span><span class="n">df</span><span class="p">,</span> <span class="n">x</span><span class="o">=</span><span class="s2">&quot;weekly_sales&quot;</span><span class="p">,</span> <span class="n">y</span><span class="o">=</span><span class="s2">&quot;fuel_price_usd_per_l&quot;</span><span class="p">,</span> <span class="n">kind</span><span class="o">=</span><span class="s2">&quot;hex&quot;</span><span class="p">,</span> <span class="n">color</span><span class="o">=</span><span class="s2">&quot;#4CB391&quot;</span><span class="p">)</span>

<span class="c1"># Mostrar el gráfico</span>
<span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<img alt="_images/016b95ef9108dafe0cb2d1983c54b324d54b0642e166fbd149a4b67d38750db2.png" src="_images/016b95ef9108dafe0cb2d1983c54b324d54b0642e166fbd149a4b67d38750db2.png" />
</div>
</div>
<div class="warning admonition">
<p class="admonition-title"><strong>Observación</strong></p>
<ul class="simple">
<li><p>Este gráfico utiliza celdas hexagonales para representar la densidad de puntos en áreas donde las ventas semanales y el precio de la gasolina están más concentrados.</p></li>
<li><p>El histograma en los bordes superior y derecho muestra la variabilidad individual de cada variable (ventas semanales y precio de la gasolina, respectivamente).</p></li>
</ul>
</div>
</section>
<section id="diagrama-de-contorno">
<h3><strong>Diagrama de contorno</strong><a class="headerlink" href="#diagrama-de-contorno" title="Permalink to this heading">#</a></h3>
<p>Los gráficos de contorno son útiles cuando los puntos de datos están densamente poblados en ciertas áreas, ya que muestran la concentración de los datos mediante líneas de contorno. En este ejercicio, crearemos un gráfico de contorno para analizar la relación entre las <strong>ventas semanales</strong> (<code class="docutils literal notranslate"><span class="pre">weekly_sales</span></code>) y el <strong>precio de la gasolina en USD por litro</strong> (<code class="docutils literal notranslate"><span class="pre">fuel_price_usd_per_l</span></code>).</p>
<ol class="arabic simple">
<li><p>Importar las bibliotecas necesarias:</p></li>
</ol>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">seaborn</span> <span class="k">as</span> <span class="nn">sns</span>
<span class="kn">import</span> <span class="nn">matplotlib.pyplot</span> <span class="k">as</span> <span class="nn">plt</span>
</pre></div>
</div>
</div>
</div>
<ol class="arabic simple" start="2">
<li><p>Utilizaremos el método <code class="docutils literal notranslate"><span class="pre">sns.kdeplot()</span></code> para generar un gráfico de contorno con las ventas semanales y el precio de la gasolina, y rellenar las áreas con gradientes de color para reflejar la densidad de puntos.</p></li>
</ol>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">warnings</span>
<span class="n">warnings</span><span class="o">.</span><span class="n">filterwarnings</span><span class="p">(</span><span class="s2">&quot;ignore&quot;</span><span class="p">,</span> <span class="n">category</span><span class="o">=</span><span class="ne">FutureWarning</span><span class="p">)</span>

<span class="c1"># Establecer el estilo de los gráficos</span>
<span class="n">sns</span><span class="o">.</span><span class="n">set_style</span><span class="p">(</span><span class="s2">&quot;white&quot;</span><span class="p">)</span>

<span class="c1"># Crear el gráfico de contorno con densidad del núcleo (KDE)</span>
<span class="n">sns</span><span class="o">.</span><span class="n">kdeplot</span><span class="p">(</span><span class="n">data</span><span class="o">=</span><span class="n">df</span><span class="p">,</span> <span class="n">x</span><span class="o">=</span><span class="s2">&quot;weekly_sales&quot;</span><span class="p">,</span> <span class="n">y</span><span class="o">=</span><span class="s2">&quot;fuel_price_usd_per_l&quot;</span><span class="p">,</span> <span class="n">fill</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">cmap</span><span class="o">=</span><span class="s2">&quot;Blues&quot;</span><span class="p">)</span>

<span class="c1"># Añadir título y etiquetas descriptivas</span>
<span class="n">plt</span><span class="o">.</span><span class="n">title</span><span class="p">(</span><span class="s1">&#39;Relación entre ventas semanales y precio de la gasolina&#39;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">xlabel</span><span class="p">(</span><span class="s1">&#39;Ventas semanales ($)&#39;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">ylabel</span><span class="p">(</span><span class="s1">&#39;Precio de la gasolina (USD por litro)&#39;</span><span class="p">)</span>

<span class="c1"># Mostrar el gráfico</span>
<span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<img alt="_images/2fdd3c5b85d294be005fce57f45ed4395fd0f3556ca6365761bfc7aae2a0b135.png" src="_images/2fdd3c5b85d294be005fce57f45ed4395fd0f3556ca6365761bfc7aae2a0b135.png" />
</div>
</div>
<div class="warning admonition">
<p class="admonition-title"><strong>Observación</strong></p>
<ul class="simple">
<li><p>En este gráfico, las áreas más oscuras y llenas representan zonas donde hay una mayor concentración de datos, lo que indica una relación más fuerte entre las ventas semanales y el precio de la gasolina en esas regiones.</p></li>
<li><p>Al igual que el gráfico hexbin, este gráfico de contorno permite visualizar mejor la densidad de los datos cuando hay muchas observaciones en ciertas áreas del gráfico.</p></li>
</ul>
</div>
</section>
</section>
</section>

    <script type="text/x-thebe-config">
    {
        requestKernel: true,
        binderOptions: {
            repo: "binder-examples/jupyter-stacks-datascience",
            ref: "master",
        },
        codeMirrorConfig: {
            theme: "abcdef",
            mode: "python"
        },
        kernelOptions: {
            name: "python3",
            path: "./."
        },
        predefinedOutput: true
    }
    </script>
    <script>kernelName = 'python3'</script>

                </article>
              

              
              
                <footer class="bd-footer-article">
                  
<div class="footer-article-items footer-article__inner">
  
    <div class="footer-article-item"><!-- Previous / next buttons -->
<div class="prev-next-area">
    <a class="left-prev"
       href="modulo_1.html"
       title="previous page">
      <i class="fa-solid fa-angle-left"></i>
      <div class="prev-next-info">
        <p class="prev-next-subtitle">previous</p>
        <p class="prev-next-title"><strong>Módulo 1: Introducción a la ciencia de datos con Python</strong></p>
      </div>
    </a>
    <a class="right-next"
       href="modulo_3.html"
       title="next page">
      <div class="prev-next-info">
        <p class="prev-next-subtitle">next</p>
        <p class="prev-next-title"><strong>Modulo 3: Análisis exploratorio de datos de la banca</strong></p>
      </div>
      <i class="fa-solid fa-angle-right"></i>
    </a>
</div></div>
  
</div>

                </footer>
              
            </div>
            
            
              
                <div class="bd-sidebar-secondary bd-toc"><div class="sidebar-secondary-items sidebar-secondary__inner">

  <div class="sidebar-secondary-item">
  <div class="page-toc tocsection onthispage">
    <i class="fa-solid fa-list"></i> Contents
  </div>
  <nav class="bd-toc-nav page-toc">
    <ul class="visible nav section-nav flex-column">
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#archivos-planos-con-numpy-y-pandas"><strong>Archivos planos con Numpy y Pandas</strong></a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#archivos-planos"><strong>Archivos planos</strong></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#importacion-y-exportacion-de-archivos-planos-con-numpy"><strong>Importación y exportación de archivos planos con Numpy</strong></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#importacion-y-exportacion-de-archivos-planos-con-pandas"><strong>Importación y exportación de archivos planos con Pandas</strong></a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#importacion-e-exportacion-de-datos-de-otros-tipos-de-archivos"><strong>Importación e exportación de datos de otros tipos de archivos</strong></a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#importacion-y-exportacion-de-datos-serializados"><strong>Importación y exportación de datos serializados</strong></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#importacion-y-exportacion-de-datos-en-excel"><strong>Importación y exportación de datos en Excel</strong></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#importacion-de-archivos-sas-y-stata-usando-pandas"><strong>Importación de archivos SAS y Stata usando Pandas</strong></a><ul class="nav section-nav flex-column">
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#importacion-de-archivos-sas"><strong>Importación de archivos SAS</strong>.</a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#importacion-de-archivos-stata"><strong>Importación de Archivos Stata</strong>.</a></li>
</ul>
</li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#importacion-de-ficheros-planos-desde-la-web"><strong>Importación de ficheros planos desde la web</strong></a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#manipulacion-de-datos-con-pandas"><strong>Manipulación de datos con pandas</strong></a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#series"><strong>Series</strong></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#pandas"><strong>Pandas</strong></a><ul class="nav section-nav flex-column">
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#metodo-1-creacion-de-dataframes-a-partir-de-diccionarios"><strong>Método 1: Creación de DataFrames a partir de Diccionarios</strong></a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#metodo-2-creacion-de-dataframes-a-partir-de-listas-anidadas"><strong>Método 2: Creación de DataFrames a partir de Listas Anidadas</strong></a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#metodo-3-creacion-de-dataframes-a-partir-de-listas-de-diccionarios"><strong>Método 3: Creación de DataFrames a partir de Listas de Diccionarios</strong></a></li>
</ul>
</li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#manipulacion"><strong>Manipulación</strong></a><ul class="nav section-nav flex-column">
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#introduccion-a-la-manipulacion-de-datos"><strong>Introducción a la manipulación de datos</strong></a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#descripcion-estadistica"><strong>Descripción estadística</strong></a><ul class="nav section-nav flex-column">
<li class="toc-h5 nav-item toc-entry"><a class="reference internal nav-link" href="#resumen-estadistico-univariado"><strong>Resumen estadístico univariado</strong></a></li>
<li class="toc-h5 nav-item toc-entry"><a class="reference internal nav-link" href="#resumen-estadistico-bivariado"><strong>Resumen estadístico bivariado</strong></a></li>
<li class="toc-h5 nav-item toc-entry"><a class="reference internal nav-link" href="#resumen-estadistico-con-tablas-dinamicas"><strong>Resumen estadístico con tablas dinámicas</strong></a></li>
</ul>
</li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#indices-explicitos"><strong>Indices explicitos</strong></a></li>
</ul>
</li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#visualizacion-sencilla-de-datos"><strong>Visualización sencilla de datos</strong></a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#histograma"><strong>Histograma</strong></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#cajas-y-bigotes"><strong>Cajas y bigotes</strong></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#barras"><strong>Barras</strong></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#circulares"><strong>Circulares</strong></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#lineas"><strong>Lineas</strong></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#dispersion-scatter-plots"><strong>Dispersión (Scatter Plots)</strong></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#histogramas-con-variable-categorica"><strong>Histogramas con variable categórica</strong></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#cajas-y-bigotes-con-variable-categorica"><strong>Cajas y bigotes con variable categórica</strong></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#diagrama-de-barras-con-variables-categoricas"><strong>Diagrama de barras con variables categóricas</strong></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#diagrama-hexagonal"><strong>Diagrama hexagonal</strong></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#diagrama-de-contorno"><strong>Diagrama de contorno</strong></a></li>
</ul>
</li>
</ul>
  </nav></div>

</div></div>
              
            
          </div>
          <footer class="bd-footer-content">
            
<div class="bd-footer-content__inner container">
  
  <div class="footer-item">
    
<p class="component-author">
By Centro de Estudios e Investigación en Análisis y Ciencia de datos - Data Invest -
</p>

  </div>
  
  <div class="footer-item">
    
  <p class="copyright">
    
      © Copyright 2022.
      <br/>
    
  </p>

  </div>
  
  <div class="footer-item">
    
  </div>
  
  <div class="footer-item">
    
  </div>
  
</div>
          </footer>
        

      </main>
    </div>
  </div>
  
  <!-- Scripts loaded after <body> so the DOM is not blocked -->
  <script src="_static/scripts/bootstrap.js?digest=e353d410970836974a52"></script>
<script src="_static/scripts/pydata-sphinx-theme.js?digest=e353d410970836974a52"></script>

  <footer class="bd-footer">
  </footer>
  </body>
</html>